import{a as oo,b as so,c as xe,d as ao,e as lo,f as uo,g as co,h as po,i as ho,j as mo,k as vo,l as fo,m as go,n as bo,o as Lo}from"./chunk-XPLOGGMJ.js";import{a as ze}from"./chunk-GGNV32RQ.js";import{a as Ao}from"./chunk-GCH5KP3H.js";import{B as ci,C as Po,D as Ft,E as Eo,F as di,I as pi,O as Mo,R as ko,Y as Bt,aa as So,ea as Oo,f as _o,l as li,m as wo,n as xo,q as Ge,v as Co,x as yo,z as ui}from"./chunk-GSMEW25H.js";import{a as To}from"./chunk-PDOTELFB.js";import{$ as X,A as le,Aa as Jr,B as ri,Ba as eo,C as oi,Da as to,Ea as un,F as Vt,I as $r,Ia as no,J as qr,Ja as io,K as Kr,L as si,M as Wr,Ma as ro,N as A,O as Gr,P as Ae,Q as Yr,U as oe,Y as Ne,Z as Qr,_ as Xr,a as Tt,aa as x,b as on,ba as P,c as Mu,ca as W,d as ku,e as jr,fa as ai,g as Lt,ga as Pe,ha as te,ia as Rt,ja as Dt,k as Hr,ka as It,la as Zr,ma as _e,o as Ur,oa as V,pa as we,qa as an,u as sn,ua as ln,x as ii,z as ae}from"./chunk-VURGYMKM.js";var Do=Mu((mn,Ro)=>{"use strict";(function(c,r){typeof mn=="object"&&typeof Ro<"u"?r(mn):typeof define=="function"&&define.amd?define(["exports"],r):(c=typeof globalThis<"u"?globalThis:c||self,r(c.Tweakpane={}))})(mn,function(c){"use strict";class r{constructor(e){let[t,i]=e.split("-"),o=t.split(".");this.major=parseInt(o[0],10),this.minor=parseInt(o[1],10),this.patch=parseInt(o[2],10),this.prerelease=i??null}toString(){let e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}class s{constructor(e){this.controller_=e}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(e){this.controller_.viewProps.set("hidden",e)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class a{constructor(e){this.target=e}}class u extends a{constructor(e,t,i,o){super(e),this.value=t,this.presetKey=i,this.last=o??!0}}class p extends a{constructor(e,t,i){super(e),this.value=t,this.presetKey=i}}class v extends a{constructor(e,t){super(e),this.expanded=t}}class g extends a{constructor(e,t){super(e),this.index=t}}function m(n){return n}function h(n){return n==null}function C(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function b(n,e){let t=n;do{let i=Object.getOwnPropertyDescriptor(t,e);if(i&&(i.set!==void 0||i.writable===!0))return!0;t=Object.getPrototypeOf(t)}while(t!==null);return!1}let M={alreadydisposed:()=>"View has been already disposed",invalidparams:n=>`Invalid parameters for '${n.name}'`,nomatchingcontroller:n=>`No matching controller for '${n.key}'`,nomatchingview:n=>`No matching view for '${JSON.stringify(n.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:n=>`Property '${n.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class w{static alreadyDisposed(){return new w({type:"alreadydisposed"})}static notBindable(){return new w({type:"notbindable"})}static propertyNotFound(e){return new w({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new w({type:"shouldneverhappen"})}constructor(e){var t;this.message=(t=M[e.type](e.context))!==null&&t!==void 0?t:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}}class y{constructor(e,t,i){this.obj_=e,this.key_=t,this.presetKey_=i??t}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(e){this.obj_[this.key_]=e}writeProperty(e,t){let i=this.read();if(!y.isBindable(i))throw w.notBindable();if(!(e in i))throw w.propertyNotFound(e);i[e]=t}}class S extends s{get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get title(){var e;return(e=this.controller_.valueController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.valueController.props.set("title",e)}on(e,t){let i=t.bind(this);return this.controller_.valueController.emitter.on(e,()=>{i(new a(this))}),this}}class k{constructor(){this.observers_={}}on(e,t){let i=this.observers_[e];return i||(i=this.observers_[e]=[]),i.push({handler:t}),this}off(e,t){let i=this.observers_[e];return i&&(this.observers_[e]=i.filter(o=>o.handler!==t)),this}emit(e,t){let i=this.observers_[e];i&&i.forEach(o=>{o.handler(t)})}}let T="tp";function _(n){return(t,i)=>[T,"-",n,"v",t?`_${t}`:"",i?`-${i}`:""].join("")}function D(n,e){return t=>e(n(t))}function Q(n){return n.rawValue}function F(n,e){n.emitter.on("change",D(Q,e)),e(n.rawValue)}function O(n,e,t){F(n.value(e),t)}function G(n,e,t){t?n.classList.add(e):n.classList.remove(e)}function I(n,e){return t=>{G(n,e,t)}}function j(n,e){F(n,t=>{e.textContent=t??""})}let q=_("btn");class ue{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(q()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("button");i.classList.add(q("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;let o=e.createElement("div");o.classList.add(q("t")),j(t.props.value("title"),o),this.buttonElement.appendChild(o)}}class ce{constructor(e,t){this.emitter=new k,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new ue(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class H{constructor(e,t){var i;this.constraint_=t?.constraint,this.equals_=(i=t?.equals)!==null&&i!==void 0?i:(o,l)=>o===l,this.emitter=new k,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){let i=t??{forceEmit:!1,last:!0},o=this.constraint_?this.constraint_.constrain(e):e,l=this.rawValue_;this.equals_(l,o)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=o,this.emitter.emit("change",{options:i,previousRawValue:l,rawValue:o,sender:this}))}}class ne{constructor(e){this.emitter=new k,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){let i=t??{forceEmit:!1,last:!0},o=this.value_;o===e&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:i,previousRawValue:o,rawValue:this.value_,sender:this}))}}function N(n,e){let t=e?.constraint,i=e?.equals;return!t&&!i?new ne(n):new H(n,e)}class E{constructor(e){this.emitter=new k,this.valMap_=e;for(let t in this.valMap_)this.valMap_[t].emitter.on("change",()=>{this.emitter.emit("change",{key:t,sender:this})})}static createCore(e){return Object.keys(e).reduce((i,o)=>Object.assign(i,{[o]:N(e[o])}),{})}static fromObject(e){let t=this.createCore(e);return new E(t)}get(e){return this.valMap_[e].rawValue}set(e,t){this.valMap_[e].rawValue=t}value(e){return this.valMap_[e]}}function re(n,e){let i=Object.keys(e).reduce((o,l)=>{if(o===void 0)return;let d=e[l],f=d(n[l]);return f.succeeded?Object.assign(Object.assign({},o),{[l]:f.value}):void 0},{});return i}function ve(n,e){return n.reduce((t,i)=>{if(t===void 0)return;let o=e(i);if(!(!o.succeeded||o.value===void 0))return[...t,o.value]},[])}function ee(n){return n===null?!1:typeof n=="object"}function Y(n){return e=>t=>{if(!e&&t===void 0)return{succeeded:!1,value:void 0};if(e&&t===void 0)return{succeeded:!0,value:void 0};let i=n(t);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}function Z(n){return{custom:e=>Y(e)(n),boolean:Y(e=>typeof e=="boolean"?e:void 0)(n),number:Y(e=>typeof e=="number"?e:void 0)(n),string:Y(e=>typeof e=="string"?e:void 0)(n),function:Y(e=>typeof e=="function"?e:void 0)(n),constant:e=>Y(t=>t===e?e:void 0)(n),raw:Y(e=>e)(n),object:e=>Y(t=>{if(ee(t))return re(t,e)})(n),array:e=>Y(t=>{if(Array.isArray(t))return ve(t,e)})(n)}}let B={optional:Z(!0),required:Z(!1)};function U(n,e){let t=B.required.object(e)(n);return t.succeeded?t.value:void 0}function pe(n){console.warn([`Missing '${n.key}' of ${n.target} in ${n.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function Ee(n){return n&&n.parentElement&&n.parentElement.removeChild(n),null}class ut{constructor(e){this.value_=e}static create(e){return[new ut(e),(t,i)=>{e.setRawValue(t,i)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}let xn=_("");function Ut(n,e){return I(n,xn(void 0,e))}class be extends E{constructor(e){var t;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=ut.create(N(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(t=this.get("parent"))===null||t===void 0||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var t,i,o;let l=e??{};return new be(E.createCore({disabled:(t=l.disabled)!==null&&t!==void 0?t:!1,disposed:!1,hidden:(i=l.hidden)!==null&&i!==void 0?i:!1,parent:(o=l.parent)!==null&&o!==void 0?o:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){F(this.globalDisabled_,Ut(e,"disabled")),O(this,"hidden",Ut(e,"hidden"))}bindDisabled(e){F(this.globalDisabled_,t=>{e.disabled=t})}bindTabIndex(e){F(this.globalDisabled_,t=>{e.tabIndex=t?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",t=>{t&&e()})}getGlobalDisabled_(){let e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var t;let i=e.previousRawValue;i?.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(t=this.get("parent"))===null||t===void 0||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function de(){return["veryfirst","first","last","verylast"]}let bi=_(""),_i={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class ct{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;let t=this.view.element;this.blade.value("positions").emitter.on("change",()=>{de().forEach(i=>{t.classList.remove(bi(void 0,_i[i]))}),this.blade.get("positions").forEach(i=>{t.classList.add(bi(void 0,_i[i]))})}),this.viewProps.handleDispose(()=>{Ee(t)})}get parent(){return this.parent_}set parent(e){if(this.parent_=e,!("parent"in this.viewProps.valMap_)){pe({key:"parent",target:be.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}let Ce="http://www.w3.org/2000/svg";function $t(n){n.offsetHeight}function es(n,e){let t=n.style.transition;n.style.transition="none",e(),n.style.transition=t}function Cn(n){return n.ontouchstart!==void 0}function ts(){return globalThis}function ns(){return ts().document}function is(n){let e=n.ownerDocument.defaultView;return e&&"document"in e?n.getContext("2d",{willReadFrequently:!0}):null}let rs={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function qt(n,e){let t=n.createElementNS(Ce,"svg");return t.innerHTML=rs[e],t}function wi(n,e,t){n.insertBefore(e,n.children[t])}function xi(n){n.parentElement&&n.parentElement.removeChild(n)}function Ci(n){for(;n.children.length>0;)n.removeChild(n.children[0])}function os(n){for(;n.childNodes.length>0;)n.removeChild(n.childNodes[0])}function yi(n){return n.relatedTarget?n.relatedTarget:"explicitOriginalTarget"in n?n.explicitOriginalTarget:null}let dt=_("lbl");function ss(n,e){let t=n.createDocumentFragment();return e.split(`
`).map(o=>n.createTextNode(o)).forEach((o,l)=>{l>0&&t.appendChild(n.createElement("br")),t.appendChild(o)}),t}class Pi{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(dt()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(dt("l")),O(t.props,"label",l=>{h(l)?this.element.classList.add(dt(void 0,"nol")):(this.element.classList.remove(dt(void 0,"nol")),os(i),i.appendChild(ss(e,l)))}),this.element.appendChild(i),this.labelElement=i;let o=e.createElement("div");o.classList.add(dt("v")),this.element.appendChild(o),this.valueElement=o}}class Kt extends ct{constructor(e,t){let i=t.valueController.viewProps;super(Object.assign(Object.assign({},t),{view:new Pi(e,{props:t.props,viewProps:i}),viewProps:i})),this.props=t.props,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}let as={id:"button",type:"blade",accept(n){let e=B,t=U(n,{title:e.required.string,view:e.required.constant("button"),label:e.optional.string});return t?{params:t}:null},controller(n){return new Kt(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:new ce(n.document,{props:E.fromObject({title:n.params.title}),viewProps:n.viewProps})})},api(n){return!(n.controller instanceof Kt)||!(n.controller.valueController instanceof ce)?null:new S(n.controller)}};class Xe extends ct{constructor(e){super(e),this.value=e.value}}function pt(){return new E({positions:N([],{equals:C})})}class ht extends E{constructor(e){super(e)}static create(e){let t={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=E.createCore(t);return new ht(i)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";let e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!h(e)?`${e}px`:"auto"}bindExpandedClass(e,t){let i=()=>{this.styleExpanded?e.classList.add(t):e.classList.remove(t)};O(this,"expanded",i),O(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function ls(n,e){let t=0;return es(e,()=>{n.set("expandedHeight",null),n.set("temporaryExpanded",!0),$t(e),t=e.clientHeight,n.set("temporaryExpanded",null),$t(e)}),t}function Ei(n,e){e.style.height=n.styleHeight}function yn(n,e){n.value("expanded").emitter.on("beforechange",()=>{if(n.set("completed",!1),h(n.get("expandedHeight"))){let t=ls(n,e);t>0&&n.set("expandedHeight",t)}n.set("shouldFixHeight",!0),$t(e)}),n.emitter.on("change",()=>{Ei(n,e)}),Ei(n,e),e.addEventListener("transitionend",t=>{t.propertyName==="height"&&n.cleanUpTransition()})}class Pn extends s{constructor(e,t){super(e),this.rackApi_=t}}function us(n,e){return n.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function cs(n,e){return n.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function ds(n,e){let t=e??{};return n.addBlade(Object.assign(Object.assign({},t),{view:"separator"}))}function ps(n,e){return n.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}class En{constructor(e){this.emitter=new k,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(let t of this.allItems())if(e(t))return t;return null}includes(e){return this.cache_.has(e)}add(e,t){if(this.includes(e))throw w.shouldNeverHappen();let i=t!==void 0?t:this.items_.length;this.items_.splice(i,0,e),this.cache_.add(e);let o=this.extract_(e);o&&(o.emitter.on("add",this.onSubListAdd_),o.emitter.on("remove",this.onSubListRemove_),o.allItems().forEach(l=>{this.cache_.add(l)})),this.emitter.emit("add",{index:i,item:e,root:this,target:this})}remove(e){let t=this.items_.indexOf(e);if(t<0)return;this.items_.splice(t,1),this.cache_.delete(e);let i=this.extract_(e);i&&(i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:t,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}class Mn extends s{constructor(e){super(e),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new k,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(e){let t=e.sender.target.read();this.emitter_.emit("change",{event:new u(this,t,this.controller_.binding.target.presetKey,e.options.last)})}}class ye extends Kt{constructor(e,t){super(e,t),this.binding=t.binding}}class kn extends s{constructor(e){super(e),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new k,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(e){let t=e.sender.target.read();this.emitter_.emit("update",{event:new p(this,t,this.controller_.binding.target.presetKey)})}}class Le extends Kt{constructor(e,t){super(e,t),this.binding=t.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function hs(n){return n instanceof Wt?n.apiSet_:n instanceof Pn?n.rackApi_.apiSet_:null}function mt(n,e){let t=n.find(i=>i.controller_===e);if(!t)throw w.shouldNeverHappen();return t}function Mi(n,e,t){if(!y.isBindable(n))throw w.notBindable();return new y(n,e,t)}class Wt extends s{constructor(e,t){super(e),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new k,this.apiSet_=new En(hs),this.pool_=t;let i=this.controller_.rack;i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),i.emitter.on("inputchange",this.onRackInputChange_),i.emitter.on("monitorupdate",this.onRackMonitorUpdate_),i.children.forEach(o=>{this.setUpApi_(o)})}get children(){return this.controller_.rack.children.map(e=>mt(this.apiSet_,e))}addInput(e,t,i){let o=i??{},l=this.controller_.view.element.ownerDocument,d=this.pool_.createInput(l,Mi(e,t,o.presetKey),o),f=new Mn(d);return this.add(f,o.index)}addMonitor(e,t,i){let o=i??{},l=this.controller_.view.element.ownerDocument,d=this.pool_.createMonitor(l,Mi(e,t),o),f=new kn(d);return this.add(f,o.index)}addFolder(e){return cs(this,e)}addButton(e){return us(this,e)}addSeparator(e){return ds(this,e)}addTab(e){return ps(this,e)}add(e,t){this.controller_.rack.add(e.controller_,t);let i=this.apiSet_.find(o=>o.controller_===e.controller_);return i&&this.apiSet_.remove(i),this.apiSet_.add(e),e}remove(e){this.controller_.rack.remove(e.controller_)}addBlade(e){let t=this.controller_.view.element.ownerDocument,i=this.pool_.createBlade(t,e),o=this.pool_.createBladeApi(i);return this.add(o,e.index)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}setUpApi_(e){this.apiSet_.find(i=>i.controller_===e)||this.apiSet_.add(this.pool_.createBladeApi(e))}onRackAdd_(e){this.setUpApi_(e.bladeController)}onRackRemove_(e){if(e.isRoot){let t=mt(this.apiSet_,e.bladeController);this.apiSet_.remove(t)}}onRackInputChange_(e){let t=e.bladeController;if(t instanceof ye){let i=mt(this.apiSet_,t),o=t.binding;this.emitter_.emit("change",{event:new u(i,o.target.read(),o.target.presetKey,e.options.last)})}else if(t instanceof Xe){let i=mt(this.apiSet_,t);this.emitter_.emit("change",{event:new u(i,t.value.rawValue,void 0,e.options.last)})}}onRackMonitorUpdate_(e){if(!(e.bladeController instanceof Le))throw w.shouldNeverHappen();let t=mt(this.apiSet_,e.bladeController),i=e.bladeController.binding;this.emitter_.emit("update",{event:new p(t,i.target.read(),i.target.presetKey)})}}class Sn extends Pn{constructor(e,t){super(e,new Wt(e.rackController,t)),this.emitter_=new k,this.controller_.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",{event:new v(this,i.sender.rawValue)})}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",{event:i})}),this.rackApi_.on("update",i=>{this.emitter_.emit("update",{event:i})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(e){this.controller_.foldable.set("expanded",e)}get title(){return this.controller_.props.get("title")}set title(e){this.controller_.props.set("title",e)}get children(){return this.rackApi_.children}addInput(e,t,i){return this.rackApi_.addInput(e,t,i)}addMonitor(e,t,i){return this.rackApi_.addMonitor(e,t,i)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addSeparator(e){return this.rackApi_.addSeparator(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){return this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}}class On extends ct{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}}class ms{constructor(e,t){let i=_(t.viewName);this.element=e.createElement("div"),this.element.classList.add(i()),t.viewProps.bindClassModifiers(this.element)}}function vs(n,e){for(let t=0;t<n.length;t++){let i=n[t];if(i instanceof ye&&i.binding===e)return i}return null}function fs(n,e){for(let t=0;t<n.length;t++){let i=n[t];if(i instanceof Le&&i.binding===e)return i}return null}function gs(n,e){for(let t=0;t<n.length;t++){let i=n[t];if(i instanceof Xe&&i.value===e)return i}return null}function An(n){return n instanceof vt?n.rack:n instanceof On?n.rackController.rack:null}function bs(n){let e=An(n);return e?e.bcSet_:null}class _s{constructor(e){var t,i;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new k,this.blade_=(t=e.blade)!==null&&t!==void 0?t:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new En(bs),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,t){var i;(i=e.parent)===null||i===void 0||i.remove(e),b(e,"parent")?e.parent=this:(e.parent_=this,pe({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(e,t)}remove(e){b(e,"parent")?e.parent=null:(e.parent_=null,pe({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(t=>t instanceof e)}onSetAdd_(e){this.updatePositions_();let t=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,isRoot:t,sender:this}),!t)return;let i=e.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),i instanceof ye)i.binding.emitter.on("change",this.onChildInputChange_);else if(i instanceof Le)i.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(i instanceof Xe)i.value.emitter.on("change",this.onChildValueChange_);else{let o=An(i);if(o){let l=o.emitter;l.on("layout",this.onDescendantLayout_),l.on("inputchange",this.onDescendantInputChange_),l.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(e){this.updatePositions_();let t=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,isRoot:t,sender:this}),!t)return;let i=e.item;if(i instanceof ye)i.binding.emitter.off("change",this.onChildInputChange_);else if(i instanceof Le)i.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(i instanceof Xe)i.value.emitter.off("change",this.onChildValueChange_);else{let o=An(i);if(o){let l=o.emitter;l.off("layout",this.onDescendantLayout_),l.off("inputchange",this.onDescendantInputChange_),l.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){let e=this.bcSet_.items.filter(o=>!o.viewProps.get("hidden")),t=e[0],i=e[e.length-1];this.bcSet_.items.forEach(o=>{let l=[];o===t&&(l.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&l.push("veryfirst")),o===i&&(l.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&l.push("verylast")),o.blade.set("positions",l)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(t=>t.viewProps.get("disposed")).forEach(t=>{this.bcSet_.remove(t)})}onChildInputChange_(e){let t=vs(this.find(ye),e.sender);if(!t)throw w.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:t,options:e.options,sender:this})}onChildMonitorUpdate_(e){let t=fs(this.find(Le),e.sender);if(!t)throw w.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:t,sender:this})}onChildValueChange_(e){let t=gs(this.find(Xe),e.sender);if(!t)throw w.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:t,options:e.options,sender:this})}onDescendantLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(e){this.emitter.emit("inputchange",{bladeController:e.bladeController,options:e.options,sender:this})}onDescendantMonitorUpdate_(e){this.emitter.emit("monitorupdate",{bladeController:e.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class vt extends ct{constructor(e,t){super(Object.assign(Object.assign({},t),{view:new ms(e,{viewName:"brk",viewProps:t.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);let i=new _s({blade:t.root?void 0:t.blade,viewProps:t.viewProps});i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),this.rack=i,this.viewProps.handleDispose(()=>{for(let o=this.rack.children.length-1;o>=0;o--)this.rack.children[o].viewProps.set("disposed",!0)})}onRackAdd_(e){e.isRoot&&wi(this.view.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.isRoot&&xi(e.bladeController.view.element)}}let ki=_("cnt");class ws{constructor(e,t){var i;this.className_=_((i=t.viewName)!==null&&i!==void 0?i:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),ki()),t.viewProps.bindClassModifiers(this.element),this.foldable_=t.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),O(this.foldable_,"completed",I(this.element,this.className_(void 0,"cpl")));let o=e.createElement("button");o.classList.add(this.className_("b")),O(t.props,"title",R=>{h(R)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),t.viewProps.bindDisabled(o),this.element.appendChild(o),this.buttonElement=o;let l=e.createElement("div");l.classList.add(this.className_("i")),this.element.appendChild(l);let d=e.createElement("div");d.classList.add(this.className_("t")),j(t.props.value("title"),d),this.buttonElement.appendChild(d),this.titleElement=d;let f=e.createElement("div");f.classList.add(this.className_("m")),this.buttonElement.appendChild(f);let L=t.containerElement;L.classList.add(this.className_("c")),this.element.appendChild(L),this.containerElement=L}}class Tn extends On{constructor(e,t){var i;let o=ht.create((i=t.expanded)!==null&&i!==void 0?i:!0),l=new vt(e,{blade:t.blade,root:t.root,viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:l,view:new ws(e,{containerElement:l.view.element,foldable:o,props:t.props,viewName:t.root?"rot":void 0,viewProps:t.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=t.props,this.foldable=o,yn(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}let xs={id:"folder",type:"blade",accept(n){let e=B,t=U(n,{title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean});return t?{params:t}:null},controller(n){return new Tn(n.document,{blade:n.blade,expanded:n.params.expanded,props:E.fromObject({title:n.params.title}),viewProps:n.viewProps})},api(n){return n.controller instanceof Tn?new Sn(n.controller,n.pool):null}};class Ze extends Xe{constructor(e,t){let i=t.valueController.viewProps;super(Object.assign(Object.assign({},t),{value:t.valueController.value,view:new Pi(e,{props:t.props,viewProps:i}),viewProps:i})),this.props=t.props,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Si extends s{}let Oi=_("spr");class Cs{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Oi()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("hr");i.classList.add(Oi("r")),this.element.appendChild(i)}}class Ai extends ct{constructor(e,t){super(Object.assign(Object.assign({},t),{view:new Cs(e,{viewProps:t.viewProps})}))}}let ys={id:"separator",type:"blade",accept(n){let t=U(n,{view:B.required.constant("separator")});return t?{params:t}:null},controller(n){return new Ai(n.document,{blade:n.blade,viewProps:n.viewProps})},api(n){return n.controller instanceof Ai?new Si(n.controller):null}},ft=_("tbi");class Ps{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(ft()),t.viewProps.bindClassModifiers(this.element),O(t.props,"selected",l=>{l?this.element.classList.add(ft(void 0,"sel")):this.element.classList.remove(ft(void 0,"sel"))});let i=e.createElement("button");i.classList.add(ft("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;let o=e.createElement("div");o.classList.add(ft("t")),j(t.props.value("title"),o),this.buttonElement.appendChild(o),this.titleElement=o}}class Es{constructor(e,t){this.emitter=new k,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new Ps(e,{props:t.props,viewProps:t.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Ti{constructor(e,t){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Es(e,{props:t.itemProps,viewProps:be.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new vt(e,{blade:pt(),viewProps:be.create()}),this.props=t.props,O(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.contentController.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class Li{constructor(e,t){this.controller_=e,this.rackApi_=t}get title(){var e;return(e=this.controller_.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.itemController.props.set("title",e)}get selected(){return this.controller_.props.get("selected")}set selected(e){this.controller_.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addSeparator(e){return this.rackApi_.addSeparator(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addInput(e,t,i){return this.rackApi_.addInput(e,t,i)}addMonitor(e,t,i){return this.rackApi_.addMonitor(e,t,i)}addBlade(e){return this.rackApi_.addBlade(e)}}class Vi extends Pn{constructor(e,t){super(e,new Wt(e.rackController,t)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new k,this.pageApiMap_=new Map,this.rackApi_.on("change",i=>{this.emitter_.emit("change",{event:i})}),this.rackApi_.on("update",i=>{this.emitter_.emit("update",{event:i})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(i=>{this.setUpPageApi_(i)})}get pages(){return this.controller_.pageSet.items.map(e=>{let t=this.pageApiMap_.get(e);if(!t)throw w.shouldNeverHappen();return t})}addPage(e){let t=this.controller_.view.element.ownerDocument,i=new Ti(t,{itemProps:E.fromObject({selected:!1,title:e.title}),props:E.fromObject({selected:!1})});this.controller_.add(i,e.index);let o=this.pageApiMap_.get(i);if(!o)throw w.shouldNeverHappen();return o}removePage(e){this.controller_.remove(e)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}setUpPageApi_(e){let t=this.rackApi_.apiSet_.find(o=>o.controller_===e.contentController);if(!t)throw w.shouldNeverHappen();let i=new Li(e,t);this.pageApiMap_.set(e,i)}onPageAdd_(e){this.setUpPageApi_(e.item)}onPageRemove_(e){if(!this.pageApiMap_.get(e.item))throw w.shouldNeverHappen();this.pageApiMap_.delete(e.item)}onSelect_(e){this.emitter_.emit("select",{event:new g(this,e.rawValue)})}}let Ri=-1;class Ms{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=N(!0),this.selectedIndex=N(Ri),this.items_=[]}add(e,t){let i=t??this.items_.length;this.items_.splice(i,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){let t=this.items_.indexOf(e);t<0||(this.items_.splice(t,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=Ri,this.empty.rawValue=!0;return}let e=this.items_.findIndex(t=>t.rawValue);e<0?(this.items_.forEach((t,i)=>{t.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((t,i)=>{t.rawValue=i===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){let t=this.items_.findIndex(i=>i===e.sender);this.items_.forEach((i,o)=>{i.rawValue=o===t}),this.selectedIndex.rawValue=t}else this.keepSelection_()}}let gt=_("tab");class ks{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(gt(),ki()),t.viewProps.bindClassModifiers(this.element),F(t.empty,I(this.element,gt(void 0,"nop")));let i=e.createElement("div");i.classList.add(gt("t")),this.element.appendChild(i),this.itemsElement=i;let o=e.createElement("div");o.classList.add(gt("i")),this.element.appendChild(o);let l=t.contentsElement;l.classList.add(gt("c")),this.element.appendChild(l),this.contentsElement=l}}class Di extends On{constructor(e,t){let i=new vt(e,{blade:t.blade,viewProps:t.viewProps}),o=new Ms;super({blade:t.blade,rackController:i,view:new ks(e,{contentsElement:i.view.element,empty:o.empty,viewProps:t.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new En(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=o}get pageSet(){return this.pageSet_}add(e,t){this.pageSet_.add(e,t)}remove(e){this.pageSet_.remove(this.pageSet_.items[e])}onPageAdd_(e){let t=e.item;wi(this.view.itemsElement,t.itemController.view.element,e.index),t.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(t.contentController,e.index),this.tab.add(t.props.value("selected"))}onPageRemove_(e){let t=e.item;xi(t.itemController.view.element),t.itemController.viewProps.set("parent",null),this.rackController.rack.remove(t.contentController),this.tab.remove(t.props.value("selected"))}}let Ii={id:"tab",type:"blade",accept(n){let e=B,t=U(n,{pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")});return!t||t.pages.length===0?null:{params:t}},controller(n){let e=new Di(n.document,{blade:n.blade,viewProps:n.viewProps});return n.params.pages.forEach(t=>{let i=new Ti(n.document,{itemProps:E.fromObject({selected:!1,title:t.title}),props:E.fromObject({selected:!1})});e.add(i)}),e},api(n){return n.controller instanceof Di?new Vi(n.controller,n.pool):null}};function Ss(n,e){let t=n.accept(e.params);if(!t)return null;let i=B.optional.boolean(e.params.disabled).value,o=B.optional.boolean(e.params.hidden).value;return n.controller({blade:pt(),document:e.document,params:Object.assign(Object.assign({},t.params),{disabled:i,hidden:o}),viewProps:be.create({disabled:i,hidden:o})})}class Os{constructor(){this.disabled=!1,this.emitter=new k}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class As{constructor(e,t){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new k,this.interval_=t,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;let e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;let e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Ts{constructor(e){this.onValueChange_=this.onValueChange_.bind(this),this.reader=e.reader,this.writer=e.writer,this.emitter=new k,this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.target=e.target,this.read()}read(){let e=this.target.read();e!==void 0&&(this.value.rawValue=this.reader(e))}write_(e){this.writer(this.target,e)}onValueChange_(e){this.write_(e.rawValue),this.emitter.emit("change",{options:e.options,rawValue:e.rawValue,sender:this})}}function Fi(n,e){for(;n.length<e;)n.push(void 0)}function Ls(n){let e=[];return Fi(e,n),N(e)}function Vs(n){let e=n.indexOf(void 0);return e<0?n:n.slice(0,e)}function Rs(n,e){let t=[...Vs(n),e];return t.length>n.length?t.splice(0,t.length-n.length):Fi(t,n.length),t}class Ds{constructor(e){this.onTick_=this.onTick_.bind(this),this.reader_=e.reader,this.target=e.target,this.emitter=new k,this.value=e.value,this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){let e=this.target.read();if(e===void 0)return;let t=this.value.rawValue,i=this.reader_(e);this.value.rawValue=Rs(t,i),this.emitter.emit("update",{rawValue:i,sender:this})}onTick_(e){this.read()}}class bt{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((t,i)=>i.constrain(t),e)}}function Me(n,e){if(n instanceof e)return n;if(n instanceof bt){let t=n.constraints.reduce((i,o)=>i||(o instanceof e?o:null),null);if(t)return t}return null}class Je{constructor(e){this.values=E.fromObject({max:e.max,min:e.min})}constrain(e){let t=this.values.get("max"),i=this.values.get("min");return Math.min(Math.max(e,i),t)}}class _t{constructor(e){this.values=E.fromObject({options:e})}get options(){return this.values.get("options")}constrain(e){let t=this.values.get("options");return t.length===0||t.filter(o=>o.value===e).length>0?e:t[0].value}}class Bi{constructor(e){this.values=E.fromObject({max:e.max,min:e.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(e){let t=this.values.get("max"),i=this.values.get("min"),o=e;return h(i)||(o=Math.max(o,i)),h(t)||(o=Math.min(o,t)),o}}class Gt{constructor(e,t=0){this.step=e,this.origin=t}constrain(e){let t=this.origin%this.step,i=Math.round((e-t)/this.step);return t+i*this.step}}let Ln=_("lst");class Is{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.element=e.createElement("div"),this.element.classList.add(Ln()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("select");i.classList.add(Ln("s")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;let o=e.createElement("div");o.classList.add(Ln("m")),o.appendChild(qt(e,"dropdown")),this.element.appendChild(o),t.value.emitter.on("change",this.onValueChange_),this.value_=t.value,O(this.props_,"options",l=>{Ci(this.selectElement),l.forEach(d=>{let f=e.createElement("option");f.textContent=d.text,this.selectElement.appendChild(f)}),this.update_()})}update_(){let e=this.props_.get("options").map(t=>t.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class wt{constructor(e,t){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Is(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){let t=e.currentTarget;this.value.rawValue=this.props.get("options")[t.selectedIndex].value}}let Ni=_("pop");class Fs{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Ni()),t.viewProps.bindClassModifiers(this.element),F(t.shows,I(this.element,Ni(void 0,"v")))}}class zi{constructor(e,t){this.shows=N(!1),this.viewProps=t.viewProps,this.view=new Fs(e,{shows:this.shows,viewProps:this.viewProps})}}let ji=_("txt");class Bs{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(ji()),t.viewProps.bindClassModifiers(this.element),this.props_=t.props,this.props_.emitter.on("change",this.onChange_);let i=e.createElement("input");i.classList.add(ji("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onChange_),this.value_=t.value,this.refresh()}refresh(){let e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class Yt{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=t.parser,this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Bs(e,{props:t.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){let i=e.currentTarget.value,o=this.parser_(i);h(o)||(this.value.rawValue=o),this.view.refresh()}}function Ns(n){return String(n)}function Hi(n){return n==="false"?!1:!!n}function Ui(n){return Ns(n)}class zs{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}let js={"**":(n,e)=>Math.pow(n,e),"*":(n,e)=>n*e,"/":(n,e)=>n/e,"%":(n,e)=>n%e,"+":(n,e)=>n+e,"-":(n,e)=>n-e,"<<":(n,e)=>n<<e,">>":(n,e)=>n>>e,">>>":(n,e)=>n>>>e,"&":(n,e)=>n&e,"^":(n,e)=>n^e,"|":(n,e)=>n|e};class Hs{constructor(e,t,i){this.left=t,this.operator=e,this.right=i}evaluate(){let e=js[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}let Us={"+":n=>n,"-":n=>-n,"~":n=>~n};class $s{constructor(e,t){this.operator=e,this.expression=t}evaluate(){let e=Us[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Vn(n){return(e,t)=>{for(let i=0;i<n.length;i++){let o=n[i](e,t);if(o!=="")return o}return""}}function xt(n,e){var t;let i=n.substr(e).match(/^\s+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function qs(n,e){let t=n.substr(e,1);return t.match(/^[1-9]$/)?t:""}function Ct(n,e){var t;let i=n.substr(e).match(/^[0-9]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function Ks(n,e){let t=Ct(n,e);if(t!=="")return t;let i=n.substr(e,1);if(e+=1,i!=="-"&&i!=="+")return"";let o=Ct(n,e);return o===""?"":i+o}function Rn(n,e){let t=n.substr(e,1);if(e+=1,t.toLowerCase()!=="e")return"";let i=Ks(n,e);return i===""?"":t+i}function $i(n,e){let t=n.substr(e,1);if(t==="0")return t;let i=qs(n,e);return e+=i.length,i===""?"":i+Ct(n,e)}function Ws(n,e){let t=$i(n,e);if(e+=t.length,t==="")return"";let i=n.substr(e,1);if(e+=i.length,i!==".")return"";let o=Ct(n,e);return e+=o.length,t+i+o+Rn(n,e)}function Gs(n,e){let t=n.substr(e,1);if(e+=t.length,t!==".")return"";let i=Ct(n,e);return e+=i.length,i===""?"":t+i+Rn(n,e)}function Ys(n,e){let t=$i(n,e);return e+=t.length,t===""?"":t+Rn(n,e)}let Qs=Vn([Ws,Gs,Ys]);function Xs(n,e){var t;let i=n.substr(e).match(/^[01]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function Zs(n,e){let t=n.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0b")return"";let i=Xs(n,e);return i===""?"":t+i}function Js(n,e){var t;let i=n.substr(e).match(/^[0-7]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function ea(n,e){let t=n.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0o")return"";let i=Js(n,e);return i===""?"":t+i}function ta(n,e){var t;let i=n.substr(e).match(/^[0-9a-f]+/i);return(t=i&&i[0])!==null&&t!==void 0?t:""}function na(n,e){let t=n.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0x")return"";let i=ta(n,e);return i===""?"":t+i}let ia=Vn([Zs,ea,na]),ra=Vn([ia,Qs]);function oa(n,e){let t=ra(n,e);return e+=t.length,t===""?null:{evaluable:new zs(t),cursor:e}}function sa(n,e){let t=n.substr(e,1);if(e+=t.length,t!=="(")return null;let i=Ki(n,e);if(!i)return null;e=i.cursor,e+=xt(n,e).length;let o=n.substr(e,1);return e+=o.length,o!==")"?null:{evaluable:i.evaluable,cursor:e}}function aa(n,e){var t;return(t=oa(n,e))!==null&&t!==void 0?t:sa(n,e)}function qi(n,e){let t=aa(n,e);if(t)return t;let i=n.substr(e,1);if(e+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;let o=qi(n,e);return o?(e=o.cursor,{cursor:e,evaluable:new $s(i,o.evaluable)}):null}function la(n,e,t){t+=xt(e,t).length;let i=n.filter(o=>e.startsWith(o,t))[0];return i?(t+=i.length,t+=xt(e,t).length,{cursor:t,operator:i}):null}function ua(n,e){return(t,i)=>{let o=n(t,i);if(!o)return null;i=o.cursor;let l=o.evaluable;for(;;){let d=la(e,t,i);if(!d)break;i=d.cursor;let f=n(t,i);if(!f)return null;i=f.cursor,l=new Hs(d.operator,l,f.evaluable)}return l?{cursor:i,evaluable:l}:null}}let ca=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((n,e)=>ua(n,e),qi);function Ki(n,e){return e+=xt(n,e).length,ca(n,e)}function da(n){let e=Ki(n,0);return!e||e.cursor+xt(n,e.cursor).length!==n.length?null:e.evaluable}function ke(n){var e;let t=da(n);return(e=t?.evaluate())!==null&&e!==void 0?e:null}function Wi(n){if(typeof n=="number")return n;if(typeof n=="string"){let e=ke(n);if(!h(e))return e}return 0}function pa(n){return String(n)}function se(n){return e=>e.toFixed(Math.max(Math.min(n,20),0))}let ha=se(0);function Qt(n){return ha(n)+"%"}function Gi(n){return String(n)}function Dn(n){return n}function yt({primary:n,secondary:e,forward:t,backward:i}){let o=!1;function l(d){o||(o=!0,d(),o=!1)}n.emitter.on("change",d=>{l(()=>{e.setRawValue(t(n,e),d.options)})}),e.emitter.on("change",d=>{l(()=>{n.setRawValue(i(n,e),d.options)}),l(()=>{e.setRawValue(t(n,e),d.options)})}),l(()=>{e.setRawValue(t(n,e),{forceEmit:!1,last:!0})})}function he(n,e){let t=n*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+t:e.downKey?-t:0}function Pt(n){return{altKey:n.altKey,downKey:n.key==="ArrowDown",shiftKey:n.shiftKey,upKey:n.key==="ArrowUp"}}function Se(n){return{altKey:n.altKey,downKey:n.key==="ArrowLeft",shiftKey:n.shiftKey,upKey:n.key==="ArrowRight"}}function ma(n){return n==="ArrowUp"||n==="ArrowDown"}function Yi(n){return ma(n)||n==="ArrowLeft"||n==="ArrowRight"}function In(n,e){var t,i;let o=e.ownerDocument.defaultView,l=e.getBoundingClientRect();return{x:n.pageX-(((t=o&&o.scrollX)!==null&&t!==void 0?t:0)+l.left),y:n.pageY-(((i=o&&o.scrollY)!==null&&i!==void 0?i:0)+l.top)}}class He{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new k,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){let t=this.elem_.getBoundingClientRect();return{bounds:{width:t.width,height:t.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var t;e.preventDefault(),(t=e.currentTarget)===null||t===void 0||t.focus();let i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(In(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(In(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){let t=this.elem_.ownerDocument;t.removeEventListener("mousemove",this.onDocumentMouseMove_),t.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(In(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();let t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchMove_(e){let t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchEnd_(e){var t;let i=(t=e.targetTouches.item(0))!==null&&t!==void 0?t:this.lastTouch_,o=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(i?{x:i.clientX-o.left,y:i.clientY-o.top}:void 0),sender:this,shiftKey:e.shiftKey})}}function J(n,e,t,i,o){let l=(n-e)/(t-e);return i+l*(o-i)}function Qi(n){return String(n.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function ie(n,e,t){return Math.min(Math.max(n,e),t)}function Xi(n,e){return(n%e+e)%e}let fe=_("txt");class va{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(fe(),fe(void 0,"num")),t.arrayPosition&&this.element.classList.add(fe(void 0,t.arrayPosition)),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("input");i.classList.add(fe("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=t.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(fe()),this.inputElement.classList.add(fe("i"));let o=e.createElement("div");o.classList.add(fe("k")),this.element.appendChild(o),this.knobElement=o;let l=e.createElementNS(Ce,"svg");l.classList.add(fe("g")),this.knobElement.appendChild(l);let d=e.createElementNS(Ce,"path");d.classList.add(fe("gb")),l.appendChild(d),this.guideBodyElem_=d;let f=e.createElementNS(Ce,"path");f.classList.add(fe("gh")),l.appendChild(f),this.guideHeadElem_=f;let L=e.createElement("div");L.classList.add(_("tt")()),this.knobElement.appendChild(L),this.tooltipElem_=L,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(fe(void 0,"drg"));return}this.element.classList.add(fe(void 0,"drg"));let t=e.rawValue/this.props_.get("draggingScale"),i=t+(t>0?-1:t<0?1:0),o=ie(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${i+o},0 L${i},4 L${i+o},8`,`M ${t},-1 L${t},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${t},4`);let l=this.props_.get("formatter");this.tooltipElem_.textContent=l(this.value.rawValue),this.tooltipElem_.style.left=`${t}px`}refresh(){let e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class Et{constructor(e,t){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=t.baseStep,this.parser_=t.parser,this.props=t.props,this.sliderProps_=(i=t.sliderProps)!==null&&i!==void 0?i:null,this.value=t.value,this.viewProps=t.viewProps,this.dragging_=N(null),this.view=new va(e,{arrayPosition:t.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);let o=new He(this.view.knobElement);o.emitter.on("down",this.onPointerDown_),o.emitter.on("move",this.onPointerMove_),o.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var t,i;let o=(t=this.sliderProps_)===null||t===void 0?void 0:t.get("minValue"),l=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("maxValue"),d=e;return o!==void 0&&(d=Math.max(d,o)),l!==void 0&&(d=Math.min(d,l)),d}onInputChange_(e){let i=e.currentTarget.value,o=this.parser_(i);h(o)||(this.value.rawValue=this.constrainValue_(o)),this.view.refresh()}onInputKeyDown_(e){let t=he(this.baseStep_,Pt(e));t!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+t),{forceEmit:!1,last:!1})}onInputKeyUp_(e){he(this.baseStep_,Pt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;let t=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+t*this.props.get("draggingScale"))}onPointerMove_(e){let t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){let t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}let Fn=_("sld");class fa{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Fn()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Fn("t")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;let o=e.createElement("div");o.classList.add(Fn("k")),this.trackElement.appendChild(o),this.knobElement=o,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.update_()}update_(){let e=ie(J(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class ga{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=t.baseStep,this.value=t.value,this.viewProps=t.viewProps,this.props=t.props,this.view=new fa(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new He(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){e.point&&this.value.setRawValue(J(ie(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),t)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=he(this.baseStep_,Se(e));t!==0&&this.value.setRawValue(this.value.rawValue+t,{forceEmit:!1,last:!1})}onKeyUp_(e){he(this.baseStep_,Se(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}let Bn=_("sldtxt");class ba{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Bn());let i=e.createElement("div");i.classList.add(Bn("s")),this.sliderView_=t.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);let o=e.createElement("div");o.classList.add(Bn("t")),this.textView_=t.textView,o.appendChild(this.textView_.element),this.element.appendChild(o)}}class Nn{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.sliderC_=new ga(e,{baseStep:t.baseStep,props:t.sliderProps,value:t.value,viewProps:this.viewProps}),this.textC_=new Et(e,{baseStep:t.baseStep,parser:t.parser,props:t.textProps,sliderProps:t.sliderProps,value:t.value,viewProps:t.viewProps}),this.view=new ba(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Mt(n,e){n.write(e)}function Xt(n){let e=B;if(Array.isArray(n))return e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))(n).value;if(typeof n=="object")return e.required.raw(n).value}function Zi(n){if(n==="inline"||n==="popup")return n}function Ve(n){let e=B;return e.required.object({max:e.optional.number,min:e.optional.number,step:e.optional.number})(n).value}function Ji(n){if(Array.isArray(n))return n;let e=[];return Object.keys(n).forEach(t=>{e.push({text:t,value:n[t]})}),e}function zn(n){return h(n)?null:new _t(Ji(n))}function _a(n){let e=n?Me(n,Gt):null;return e?e.step:null}function Zt(n,e){let t=n&&Me(n,Gt);return t?Qi(t.step):Math.max(Qi(e),2)}function et(n){let e=_a(n);return e??1}function tt(n,e){var t;let i=n&&Me(n,Gt),o=Math.abs((t=i?.step)!==null&&t!==void 0?t:e);return o===0?.1:Math.pow(10,Math.floor(Math.log10(o))-1)}let Jt=_("ckb");class wa{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Jt()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("label");i.classList.add(Jt("l")),this.element.appendChild(i);let o=e.createElement("input");o.classList.add(Jt("i")),o.type="checkbox",i.appendChild(o),this.inputElement=o,t.viewProps.bindDisabled(this.inputElement);let l=e.createElement("div");l.classList.add(Jt("w")),i.appendChild(l);let d=qt(e,"check");l.appendChild(d),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class xa{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new wa(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){let t=e.currentTarget;this.value.rawValue=t.checked}}function Ca(n){let e=[],t=zn(n.options);return t&&e.push(t),new bt(e)}let ya={id:"input-bool",type:"input",accept:(n,e)=>{if(typeof n!="boolean")return null;let i=U(e,{options:B.optional.custom(Xt)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Hi,constraint:n=>Ca(n.params),writer:n=>Mt},controller:n=>{let e=n.document,t=n.value,i=n.constraint,o=i&&Me(i,_t);return o?new wt(e,{props:new E({options:o.values.value("options")}),value:t,viewProps:n.viewProps}):new xa(e,{value:t,viewProps:n.viewProps})}},Ue=_("col");class Pa{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Ue()),t.foldable.bindExpandedClass(this.element,Ue(void 0,"expanded")),O(t.foldable,"completed",I(this.element,Ue(void 0,"cpl")));let i=e.createElement("div");i.classList.add(Ue("h")),this.element.appendChild(i);let o=e.createElement("div");o.classList.add(Ue("s")),i.appendChild(o),this.swatchElement=o;let l=e.createElement("div");if(l.classList.add(Ue("t")),i.appendChild(l),this.textElement=l,t.pickerLayout==="inline"){let d=e.createElement("div");d.classList.add(Ue("p")),this.element.appendChild(d),this.pickerElement=d}else this.pickerElement=null}}function Ea(n,e,t){let i=ie(n/255,0,1),o=ie(e/255,0,1),l=ie(t/255,0,1),d=Math.max(i,o,l),f=Math.min(i,o,l),L=d-f,R=0,$=0,K=(f+d)/2;return L!==0&&($=L/(1-Math.abs(d+f-1)),i===d?R=(o-l)/L:o===d?R=2+(l-i)/L:R=4+(i-o)/L,R=R/6+(R<0?1:0)),[R*360,$*100,K*100]}function Ma(n,e,t){let i=(n%360+360)%360,o=ie(e/100,0,1),l=ie(t/100,0,1),d=(1-Math.abs(2*l-1))*o,f=d*(1-Math.abs(i/60%2-1)),L=l-d/2,R,$,K;return i>=0&&i<60?[R,$,K]=[d,f,0]:i>=60&&i<120?[R,$,K]=[f,d,0]:i>=120&&i<180?[R,$,K]=[0,d,f]:i>=180&&i<240?[R,$,K]=[0,f,d]:i>=240&&i<300?[R,$,K]=[f,0,d]:[R,$,K]=[d,0,f],[(R+L)*255,($+L)*255,(K+L)*255]}function ka(n,e,t){let i=ie(n/255,0,1),o=ie(e/255,0,1),l=ie(t/255,0,1),d=Math.max(i,o,l),f=Math.min(i,o,l),L=d-f,R;L===0?R=0:d===i?R=60*(((o-l)/L%6+6)%6):d===o?R=60*((l-i)/L+2):R=60*((i-o)/L+4);let $=d===0?0:L/d,K=d;return[R,$*100,K*100]}function er(n,e,t){let i=Xi(n,360),o=ie(e/100,0,1),l=ie(t/100,0,1),d=l*o,f=d*(1-Math.abs(i/60%2-1)),L=l-d,R,$,K;return i>=0&&i<60?[R,$,K]=[d,f,0]:i>=60&&i<120?[R,$,K]=[f,d,0]:i>=120&&i<180?[R,$,K]=[0,d,f]:i>=180&&i<240?[R,$,K]=[0,f,d]:i>=240&&i<300?[R,$,K]=[f,0,d]:[R,$,K]=[d,0,f],[(R+L)*255,($+L)*255,(K+L)*255]}function Sa(n,e,t){let i=t+e*(100-Math.abs(2*t-100))/200;return[n,i!==0?e*(100-Math.abs(2*t-100))/i:0,t+e*(100-Math.abs(2*t-100))/(2*100)]}function Oa(n,e,t){let i=100-Math.abs(t*(200-e)/100-100);return[n,i!==0?e*t/i:0,t*(200-e)/(2*100)]}function $e(n){return[n[0],n[1],n[2]]}function tr(n,e){return[n[0],n[1],n[2],e]}let Aa={hsl:{hsl:(n,e,t)=>[n,e,t],hsv:Sa,rgb:Ma},hsv:{hsl:Oa,hsv:(n,e,t)=>[n,e,t],rgb:er},rgb:{hsl:Ea,hsv:ka,rgb:(n,e,t)=>[n,e,t]}};function en(n,e){return[e==="float"?1:n==="rgb"?255:360,e==="float"?1:n==="rgb"?255:100,e==="float"?1:n==="rgb"?255:100]}function Ta(n,e){return n===e?e:Xi(n,e)}function La(n,e,t){var i;let o=en(e,t);return[e==="rgb"?ie(n[0],0,o[0]):Ta(n[0],o[0]),ie(n[1],0,o[1]),ie(n[2],0,o[2]),ie((i=n[3])!==null&&i!==void 0?i:1,0,1)]}function nr(n,e,t,i){let o=en(e,t),l=en(e,i);return n.map((d,f)=>d/o[f]*l[f])}function Va(n,e,t){let i=nr(n,e.mode,e.type,"int"),o=Aa[e.mode][t.mode](...i);return nr(o,t.mode,"int",t.type)}function tn(n,e){return typeof n!="object"||h(n)?!1:e in n&&typeof n[e]=="number"}class z{static black(e="int"){return new z([0,0,0],"rgb",e)}static fromObject(e,t="int"){let i="a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b];return new z(i,"rgb",t)}static toRgbaObject(e,t="int"){return e.toRgbaObject(t)}static isRgbColorObject(e){return tn(e,"r")&&tn(e,"g")&&tn(e,"b")}static isRgbaColorObject(e){return this.isRgbColorObject(e)&&tn(e,"a")}static isColorObject(e){return this.isRgbColorObject(e)}static equals(e,t){if(e.mode!==t.mode)return!1;let i=e.comps_,o=t.comps_;for(let l=0;l<i.length;l++)if(i[l]!==o[l])return!1;return!0}constructor(e,t,i="int"){this.mode=t,this.type=i,this.comps_=La(e,t,i)}getComponents(e,t="int"){return tr(Va($e(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:t}),this.comps_[3])}toRgbaObject(e="int"){let t=this.getComponents("rgb",e);return{r:t[0],g:t[1],b:t[2],a:t[3]}}}let Re=_("colp");class Ra{constructor(e,t){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Re()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Re("hsv"));let o=e.createElement("div");o.classList.add(Re("sv")),this.svPaletteView_=t.svPaletteView,o.appendChild(this.svPaletteView_.element),i.appendChild(o);let l=e.createElement("div");l.classList.add(Re("h")),this.hPaletteView_=t.hPaletteView,l.appendChild(this.hPaletteView_.element),i.appendChild(l),this.element.appendChild(i);let d=e.createElement("div");if(d.classList.add(Re("rgb")),this.textView_=t.textView,d.appendChild(this.textView_.element),this.element.appendChild(d),t.alphaViews){this.alphaViews_={palette:t.alphaViews.palette,text:t.alphaViews.text};let f=e.createElement("div");f.classList.add(Re("a"));let L=e.createElement("div");L.classList.add(Re("ap")),L.appendChild(this.alphaViews_.palette.element),f.appendChild(L);let R=e.createElement("div");R.classList.add(Re("at")),R.appendChild(this.alphaViews_.text.element),f.appendChild(R),this.element.appendChild(f)}}get allFocusableElements(){let e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(t=>t.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function Da(n){return n==="int"?"int":n==="float"?"float":void 0}function jn(n){let e=B;return U(n,{alpha:e.optional.boolean,color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(Da)}),expanded:e.optional.boolean,picker:e.optional.custom(Zi)})}function qe(n){return n?.1:1}function Ke(n){var e;return(e=n.color)===null||e===void 0?void 0:e.type}function Ia(n,e){return n.alpha===e.alpha&&n.mode===e.mode&&n.notation===e.notation&&n.type===e.type}function ge(n,e){let t=n.match(/^(.+)%$/);return Math.min(t?parseFloat(t[1])*.01*e:parseFloat(n),e)}let Fa={deg:n=>n,grad:n=>n*360/400,rad:n=>n*360/(2*Math.PI),turn:n=>n*360};function ir(n){let e=n.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(n);let t=parseFloat(e[1]),i=e[2];return Fa[i](t)}function rr(n){let e=n.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[ge(e[1],255),ge(e[2],255),ge(e[3],255)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}function or(n){return e=>{let t=rr(e);return t?new z(t,"rgb",n):null}}function sr(n){let e=n.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[ge(e[1],255),ge(e[2],255),ge(e[3],255),ge(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}function ar(n){return e=>{let t=sr(e);return t?new z(t,"rgb",n):null}}function lr(n){let e=n.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[ir(e[1]),ge(e[2],100),ge(e[3],100)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}function ur(n){return e=>{let t=lr(e);return t?new z(t,"hsl",n):null}}function cr(n){let e=n.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[ir(e[1]),ge(e[2],100),ge(e[3],100),ge(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}function dr(n){return e=>{let t=cr(e);return t?new z(t,"hsl",n):null}}function pr(n){let e=n.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];let t=n.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}function Ba(n){let e=pr(n);return e?new z(e,"rgb","int"):null}function hr(n){let e=n.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),J(parseInt(e[4]+e[4],16),0,255,0,1)];let t=n.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),J(parseInt(t[4],16),0,255,0,1)]:null}function Na(n){let e=hr(n);return e?new z(e,"rgb","int"):null}function mr(n){let e=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;let t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}function vr(n){return e=>{let t=mr(e);return t?new z(t,"rgb",n):null}}function fr(n){let e=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;let t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}function gr(n){return e=>{let t=fr(e);return t?new z(t,"rgb",n):null}}let za=[{parser:pr,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:hr,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:rr,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:sr,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:lr,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:cr,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:mr,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:fr,result:{alpha:!0,mode:"rgb",notation:"object"}}];function ja(n){return za.reduce((e,{parser:t,result:i})=>e||(t(n)?i:null),null)}function Hn(n,e="int"){let t=ja(n);return t?t.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},t),{type:"int"}):t.notation==="func"?Object.assign(Object.assign({},t),{type:e}):null:null}let br={int:[Ba,Na,or("int"),ar("int"),ur("int"),dr("int"),vr("int"),gr("int")],float:[or("float"),ar("float"),ur("float"),dr("float"),vr("float"),gr("float")]};function Ha(n){let e=br[n];return t=>{if(typeof t!="string")return z.black(n);let i=e.reduce((o,l)=>o||l(t),null);return i??z.black(n)}}function Un(n){let e=br[n];return t=>e.reduce((i,o)=>i||o(t),null)}function _r(n){let e=ie(Math.floor(n),0,255).toString(16);return e.length===1?`0${e}`:e}function wr(n,e="#"){let t=$e(n.getComponents("rgb")).map(_r).join("");return`${e}${t}`}function $n(n,e="#"){let t=n.getComponents("rgb"),i=[t[0],t[1],t[2],t[3]*255].map(_r).join("");return`${e}${i}`}function xr(n,e){let t=se(e==="float"?2:0);return`rgb(${$e(n.getComponents("rgb",e)).map(o=>t(o)).join(", ")})`}function Ua(n){return e=>xr(e,n)}function nn(n,e){let t=se(2),i=se(e==="float"?2:0);return`rgba(${n.getComponents("rgb",e).map((l,d)=>(d===3?t:i)(l)).join(", ")})`}function $a(n){return e=>nn(e,n)}function qa(n){let e=[se(0),Qt,Qt];return`hsl(${$e(n.getComponents("hsl")).map((i,o)=>e[o](i)).join(", ")})`}function Ka(n){let e=[se(0),Qt,Qt,se(2)];return`hsla(${n.getComponents("hsl").map((i,o)=>e[o](i)).join(", ")})`}function Cr(n,e){let t=se(e==="float"?2:0),i=["r","g","b"];return`{${$e(n.getComponents("rgb",e)).map((l,d)=>`${i[d]}: ${t(l)}`).join(", ")}}`}function Wa(n){return e=>Cr(e,n)}function yr(n,e){let t=se(2),i=se(e==="float"?2:0),o=["r","g","b","a"];return`{${n.getComponents("rgb",e).map((d,f)=>{let L=f===3?t:i;return`${o[f]}: ${L(d)}`}).join(", ")}}`}function Ga(n){return e=>yr(e,n)}let Ya=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:wr},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:$n},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:qa},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Ka},...["int","float"].reduce((n,e)=>[...n,{format:{alpha:!1,mode:"rgb",notation:"func",type:e},stringifier:Ua(e)},{format:{alpha:!0,mode:"rgb",notation:"func",type:e},stringifier:$a(e)},{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:Wa(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:Ga(e)}],[])];function qn(n){return Ya.reduce((e,t)=>e||(Ia(t.format,n)?t.stringifier:null),null)}let kt=_("apl");class Qa{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(kt()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("div");i.classList.add(kt("b")),this.element.appendChild(i);let o=e.createElement("div");o.classList.add(kt("c")),i.appendChild(o),this.colorElem_=o;let l=e.createElement("div");l.classList.add(kt("m")),this.element.appendChild(l),this.markerElem_=l;let d=e.createElement("div");d.classList.add(kt("p")),this.markerElem_.appendChild(d),this.previewElem_=d,this.update_()}update_(){let e=this.value.rawValue,t=e.getComponents("rgb"),i=new z([t[0],t[1],t[2],0],"rgb"),o=new z([t[0],t[1],t[2],255],"rgb"),l=["to right",nn(i),nn(o)];this.colorElem_.style.background=`linear-gradient(${l.join(",")})`,this.previewElem_.style.backgroundColor=nn(e);let d=J(t[3],0,1,0,100);this.markerElem_.style.left=`${d}%`}onValueChange_(){this.update_()}}class Xa{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new Qa(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new He(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=e.point.x/e.bounds.width,o=this.value.rawValue,[l,d,f]=o.getComponents("hsv");this.value.setRawValue(new z([l,d,f,i],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=he(qe(!0),Se(e));if(t===0)return;let i=this.value.rawValue,[o,l,d,f]=i.getComponents("hsv");this.value.setRawValue(new z([o,l,d,f+t],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){he(qe(!0),Se(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}let nt=_("coltxt");function Za(n){let e=n.createElement("select"),t=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return e.appendChild(t.reduce((i,o)=>{let l=n.createElement("option");return l.textContent=o.text,l.value=o.value,i.appendChild(l),i},n.createDocumentFragment())),e}class Ja{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(nt()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(nt("m")),this.modeElem_=Za(e),this.modeElem_.classList.add(nt("ms")),i.appendChild(this.modeSelectElement),t.viewProps.bindDisabled(this.modeElem_);let o=e.createElement("div");o.classList.add(nt("mm")),o.appendChild(qt(e,"dropdown")),i.appendChild(o),this.element.appendChild(i);let l=e.createElement("div");l.classList.add(nt("w")),this.element.appendChild(l),this.textsElem_=l,this.textViews_=t.textViews,this.applyTextViews_(),F(t.colorMode,d=>{this.modeElem_.value=d})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(e){this.textViews_=e,this.applyTextViews_()}applyTextViews_(){Ci(this.textsElem_);let e=this.element.ownerDocument;this.textViews_.forEach(t=>{let i=e.createElement("div");i.classList.add(nt("c")),i.appendChild(t.element),this.textsElem_.appendChild(i)})}}function el(n){return se(n==="float"?2:0)}function tl(n,e,t){let i=en(n,e)[t];return new Je({min:0,max:i})}function Kn(n,e,t){return new Et(n,{arrayPosition:t===0?"fst":t===2?"lst":"mid",baseStep:qe(!1),parser:e.parser,props:E.fromObject({draggingScale:e.colorType==="float"?.01:1,formatter:el(e.colorType)}),value:N(0,{constraint:tl(e.colorMode,e.colorType,t)}),viewProps:e.viewProps})}class nl{constructor(e,t){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=t.colorType,this.parser_=t.parser,this.value=t.value,this.viewProps=t.viewProps,this.colorMode=N(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new Ja(e,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){let t={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},i=[Kn(e,t,0),Kn(e,t,1),Kn(e,t,2)];return i.forEach((o,l)=>{yt({primary:this.value,secondary:o.value,forward:d=>d.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[l],backward:(d,f)=>{let L=this.colorMode.rawValue,R=d.rawValue.getComponents(L,this.colorType_);return R[l]=f.rawValue,new z(tr($e(R),R[3]),L,this.colorType_)}})}),i}onModeSelectChange_(e){let t=e.currentTarget;this.colorMode.rawValue=t.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}let Wn=_("hpl");class il{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Wn()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("div");i.classList.add(Wn("c")),this.element.appendChild(i);let o=e.createElement("div");o.classList.add(Wn("m")),this.element.appendChild(o),this.markerElem_=o,this.update_()}update_(){let e=this.value.rawValue,[t]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=xr(new z([t,100,100],"hsv"));let i=J(t,0,360,0,100);this.markerElem_.style.left=`${i}%`}onValueChange_(){this.update_()}}class rl{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new il(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new He(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=J(ie(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),o=this.value.rawValue,[,l,d,f]=o.getComponents("hsv");this.value.setRawValue(new z([i,l,d,f],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=he(qe(!1),Se(e));if(t===0)return;let i=this.value.rawValue,[o,l,d,f]=i.getComponents("hsv");this.value.setRawValue(new z([o+t,l,d,f],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){he(qe(!1),Se(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}let Gn=_("svp"),Pr=64;class ol{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Gn()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("canvas");i.height=Pr,i.width=Pr,i.classList.add(Gn("c")),this.element.appendChild(i),this.canvasElement=i;let o=e.createElement("div");o.classList.add(Gn("m")),this.element.appendChild(o),this.markerElem_=o,this.update_()}update_(){let e=is(this.canvasElement);if(!e)return;let i=this.value.rawValue.getComponents("hsv"),o=this.canvasElement.width,l=this.canvasElement.height,d=e.getImageData(0,0,o,l),f=d.data;for(let $=0;$<l;$++)for(let K=0;K<o;K++){let We=J(K,0,o,0,100),Ot=J($,0,l,100,0),At=er(i[0],We,Ot),rn=($*o+K)*4;f[rn]=At[0],f[rn+1]=At[1],f[rn+2]=At[2],f[rn+3]=255}e.putImageData(d,0,0);let L=J(i[1],0,100,0,100);this.markerElem_.style.left=`${L}%`;let R=J(i[2],0,100,100,0);this.markerElem_.style.top=`${R}%`}onValueChange_(){this.update_()}}class sl{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new ol(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new He(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=J(e.point.x,0,e.bounds.width,0,100),o=J(e.point.y,0,e.bounds.height,100,0),[l,,,d]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new z([l,i,o,d],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){Yi(e.key)&&e.preventDefault();let[t,i,o,l]=this.value.rawValue.getComponents("hsv"),d=qe(!1),f=he(d,Se(e)),L=he(d,Pt(e));f===0&&L===0||this.value.setRawValue(new z([t,i+f,o+L,l],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){let t=qe(!1),i=he(t,Se(e)),o=he(t,Pt(e));i===0&&o===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class al{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.hPaletteC_=new rl(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new sl(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=t.supportsAlpha?{palette:new Xa(e,{value:this.value,viewProps:this.viewProps}),text:new Et(e,{parser:ke,baseStep:.1,props:E.fromObject({draggingScale:.01,formatter:se(2)}),value:N(0,{constraint:new Je({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&yt({primary:this.value,secondary:this.alphaIcs_.text.value,forward:i=>i.rawValue.getComponents()[3],backward:(i,o)=>{let l=i.rawValue.getComponents();return l[3]=o.rawValue,new z(l,i.rawValue.mode)}}),this.textC_=new nl(e,{colorType:t.colorType,parser:ke,value:this.value,viewProps:this.viewProps}),this.view=new Ra(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:t.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}let Yn=_("colsw");class ll{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.element=e.createElement("div"),this.element.classList.add(Yn()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Yn("sw")),this.element.appendChild(i),this.swatchElem_=i;let o=e.createElement("button");o.classList.add(Yn("b")),t.viewProps.bindDisabled(o),this.element.appendChild(o),this.buttonElement=o,this.update_()}update_(){let e=this.value.rawValue;this.swatchElem_.style.backgroundColor=$n(e)}onValueChange_(){this.update_()}}class ul{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new ll(e,{value:this.value,viewProps:this.viewProps})}}class Qn{constructor(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=ht.create(t.expanded),this.swatchC_=new ul(e,{value:this.value,viewProps:this.viewProps});let i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new Yt(e,{parser:t.parser,props:E.fromObject({formatter:t.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Pa(e,{foldable:this.foldable_,pickerLayout:t.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=t.pickerLayout==="popup"?new zi(e,{viewProps:this.viewProps}):null;let o=new al(e,{colorType:t.colorType,supportsAlpha:t.supportsAlpha,value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach(l=>{l.addEventListener("blur",this.onPopupChildBlur_),l.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=o,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(o.view.element),yt({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:l=>l.rawValue,backward:(l,d)=>d.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),yn(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;let t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;let t=this.popC_.view.element,i=yi(e);i&&t.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!Cn(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function cl(n,e){return z.isColorObject(n)?z.fromObject(n,e):z.black(e)}function dl(n){return $e(n.getComponents("rgb")).reduce((e,t)=>e<<8|Math.floor(t)&255,0)}function pl(n){return n.getComponents("rgb").reduce((e,t,i)=>{let o=Math.floor(i===3?t*255:t)&255;return e<<8|o},0)>>>0}function hl(n){return new z([n>>16&255,n>>8&255,n&255],"rgb")}function ml(n){return new z([n>>24&255,n>>16&255,n>>8&255,J(n&255,0,255,0,1)],"rgb")}function vl(n){return typeof n!="number"?z.black():hl(n)}function fl(n){return typeof n!="number"?z.black():ml(n)}function gl(n){let e=qn(n);return e?(t,i)=>{Mt(t,e(i))}:null}function bl(n){let e=n?pl:dl;return(t,i)=>{Mt(t,e(i))}}function _l(n,e,t){let i=e.toRgbaObject(t);n.writeProperty("r",i.r),n.writeProperty("g",i.g),n.writeProperty("b",i.b),n.writeProperty("a",i.a)}function wl(n,e,t){let i=e.toRgbaObject(t);n.writeProperty("r",i.r),n.writeProperty("g",i.g),n.writeProperty("b",i.b)}function xl(n,e){return(t,i)=>{n?_l(t,i,e):wl(t,i,e)}}function Xn(n){var e;return!!(n?.alpha||!((e=n?.color)===null||e===void 0)&&e.alpha)}function Cl(n){return n?e=>$n(e,"0x"):e=>wr(e,"0x")}function yl(n){return"color"in n||"view"in n&&n.view==="color"}let Pl={id:"input-color-number",type:"input",accept:(n,e)=>{if(typeof n!="number"||!yl(e))return null;let t=jn(e);return t?{initialValue:n,params:t}:null},binding:{reader:n=>Xn(n.params)?fl:vl,equals:z.equals,writer:n=>bl(Xn(n.params))},controller:n=>{let e=Xn(n.params),t="expanded"in n.params?n.params.expanded:void 0,i="picker"in n.params?n.params.picker:void 0;return new Qn(n.document,{colorType:"int",expanded:t??!1,formatter:Cl(e),parser:Un("int"),pickerLayout:i??"popup",supportsAlpha:e,value:n.value,viewProps:n.viewProps})}};function El(n){return z.isRgbaColorObject(n)}function Ml(n){return e=>cl(e,n)}function kl(n,e){return t=>n?yr(t,e):Cr(t,e)}let Sl={id:"input-color-object",type:"input",accept:(n,e)=>{if(!z.isColorObject(n))return null;let t=jn(e);return t?{initialValue:n,params:t}:null},binding:{reader:n=>Ml(Ke(n.params)),equals:z.equals,writer:n=>xl(El(n.initialValue),Ke(n.params))},controller:n=>{var e;let t=z.isRgbaColorObject(n.initialValue),i="expanded"in n.params?n.params.expanded:void 0,o="picker"in n.params?n.params.picker:void 0,l=(e=Ke(n.params))!==null&&e!==void 0?e:"int";return new Qn(n.document,{colorType:l,expanded:i??!1,formatter:kl(t,l),parser:Un(l),pickerLayout:o??"popup",supportsAlpha:t,value:n.value,viewProps:n.viewProps})}},Ol={id:"input-color-string",type:"input",accept:(n,e)=>{if(typeof n!="string"||"view"in e&&e.view==="text")return null;let t=Hn(n,Ke(e));if(!t||!qn(t))return null;let o=jn(e);return o?{initialValue:n,params:o}:null},binding:{reader:n=>{var e;return Ha((e=Ke(n.params))!==null&&e!==void 0?e:"int")},equals:z.equals,writer:n=>{let e=Hn(n.initialValue,Ke(n.params));if(!e)throw w.shouldNeverHappen();let t=gl(e);if(!t)throw w.notBindable();return t}},controller:n=>{let e=Hn(n.initialValue,Ke(n.params));if(!e)throw w.shouldNeverHappen();let t=qn(e);if(!t)throw w.shouldNeverHappen();let i="expanded"in n.params?n.params.expanded:void 0,o="picker"in n.params?n.params.picker:void 0;return new Qn(n.document,{colorType:e.type,expanded:i??!1,formatter:t,parser:Un(e.type),pickerLayout:o??"popup",supportsAlpha:e.alpha,value:n.value,viewProps:n.viewProps})}};class De{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){let t=this.asm_.toComponents(e).map((i,o)=>{var l,d;return(d=(l=this.components[o])===null||l===void 0?void 0:l.constrain(i))!==null&&d!==void 0?d:i});return this.asm_.fromComponents(t)}}let Er=_("pndtxt");class Al{constructor(e,t){this.textViews=t.textViews,this.element=e.createElement("div"),this.element.classList.add(Er()),this.textViews.forEach(i=>{let o=e.createElement("div");o.classList.add(Er("a")),o.appendChild(i.element),this.element.appendChild(o)})}}function Tl(n,e,t){return new Et(n,{arrayPosition:t===0?"fst":t===e.axes.length-1?"lst":"mid",baseStep:e.axes[t].baseStep,parser:e.parser,props:e.axes[t].textProps,value:N(0,{constraint:e.axes[t].constraint}),viewProps:e.viewProps})}class Zn{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.acs_=t.axes.map((i,o)=>Tl(e,t,o)),this.acs_.forEach((i,o)=>{yt({primary:this.value,secondary:i.value,forward:l=>t.assembly.toComponents(l.rawValue)[o],backward:(l,d)=>{let f=t.assembly.toComponents(l.rawValue);return f[o]=d.rawValue,t.assembly.fromComponents(f)}})}),this.view=new Al(e,{textViews:this.acs_.map(i=>i.view)})}}function Mr(n,e){return"step"in n&&!h(n.step)?new Gt(n.step,e):null}function kr(n){return!h(n.max)&&!h(n.min)?new Je({max:n.max,min:n.min}):!h(n.max)||!h(n.min)?new Bi({max:n.max,min:n.min}):null}function Ll(n){let e=Me(n,Je);if(e)return[e.values.get("min"),e.values.get("max")];let t=Me(n,Bi);return t?[t.minValue,t.maxValue]:[void 0,void 0]}function Vl(n,e){let t=[],i=Mr(n,e);i&&t.push(i);let o=kr(n);o&&t.push(o);let l=zn(n.options);return l&&t.push(l),new bt(t)}let Rl={id:"input-number",type:"input",accept:(n,e)=>{if(typeof n!="number")return null;let t=B,i=U(e,{format:t.optional.function,max:t.optional.number,min:t.optional.number,options:t.optional.custom(Xt),step:t.optional.number});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Wi,constraint:n=>Vl(n.params,n.initialValue),writer:n=>Mt},controller:n=>{var e;let t=n.value,i=n.constraint,o=i&&Me(i,_t);if(o)return new wt(n.document,{props:new E({options:o.values.value("options")}),value:t,viewProps:n.viewProps});let l=(e="format"in n.params?n.params.format:void 0)!==null&&e!==void 0?e:se(Zt(i,t.rawValue)),d=i&&Me(i,Je);return d?new Nn(n.document,{baseStep:et(i),parser:ke,sliderProps:new E({maxValue:d.values.value("max"),minValue:d.values.value("min")}),textProps:E.fromObject({draggingScale:tt(i,t.rawValue),formatter:l}),value:t,viewProps:n.viewProps}):new Et(n.document,{baseStep:et(i),parser:ke,props:E.fromObject({draggingScale:tt(i,t.rawValue),formatter:l}),value:t,viewProps:n.viewProps})}};class Ie{constructor(e=0,t=0){this.x=e,this.y=t}getComponents(){return[this.x,this.y]}static isObject(e){if(h(e))return!1;let t=e.x,i=e.y;return!(typeof t!="number"||typeof i!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y}toObject(){return{x:this.x,y:this.y}}}let Sr={toComponents:n=>n.getComponents(),fromComponents:n=>new Ie(...n)},it=_("p2d");class Dl{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(it()),t.viewProps.bindClassModifiers(this.element),F(t.expanded,I(this.element,it(void 0,"expanded")));let i=e.createElement("div");i.classList.add(it("h")),this.element.appendChild(i);let o=e.createElement("button");o.classList.add(it("b")),o.appendChild(qt(e,"p2dpad")),t.viewProps.bindDisabled(o),i.appendChild(o),this.buttonElement=o;let l=e.createElement("div");if(l.classList.add(it("t")),i.appendChild(l),this.textElement=l,t.pickerLayout==="inline"){let d=e.createElement("div");d.classList.add(it("p")),this.element.appendChild(d),this.pickerElement=d}else this.pickerElement=null}}let Fe=_("p2dp");class Il{constructor(e,t){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=t.invertsY,this.maxValue_=t.maxValue,this.element=e.createElement("div"),this.element.classList.add(Fe()),t.layout==="popup"&&this.element.classList.add(Fe(void 0,"p")),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Fe("p")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;let o=e.createElementNS(Ce,"svg");o.classList.add(Fe("g")),this.padElement.appendChild(o),this.svgElem_=o;let l=e.createElementNS(Ce,"line");l.classList.add(Fe("ax")),l.setAttributeNS(null,"x1","0"),l.setAttributeNS(null,"y1","50%"),l.setAttributeNS(null,"x2","100%"),l.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(l);let d=e.createElementNS(Ce,"line");d.classList.add(Fe("ax")),d.setAttributeNS(null,"x1","50%"),d.setAttributeNS(null,"y1","0"),d.setAttributeNS(null,"x2","50%"),d.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(d);let f=e.createElementNS(Ce,"line");f.classList.add(Fe("l")),f.setAttributeNS(null,"x1","50%"),f.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(f),this.lineElem_=f;let L=e.createElement("div");L.classList.add(Fe("m")),this.padElement.appendChild(L),this.markerElem_=L,t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){let[e,t]=this.value.rawValue.getComponents(),i=this.maxValue_,o=J(e,-i,+i,0,100),l=J(t,-i,+i,0,100),d=this.invertsY_?100-l:l;this.lineElem_.setAttributeNS(null,"x2",`${o}%`),this.lineElem_.setAttributeNS(null,"y2",`${d}%`),this.markerElem_.style.left=`${o}%`,this.markerElem_.style.top=`${d}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Or(n,e,t){return[he(e[0],Se(n)),he(e[1],Pt(n))*(t?1:-1)]}class Fl{constructor(e,t){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.baseSteps_=t.baseSteps,this.maxValue_=t.maxValue,this.invertsY_=t.invertsY,this.view=new Il(e,{invertsY:this.invertsY_,layout:t.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new He(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=this.maxValue_,o=J(e.point.x,0,e.bounds.width,-i,+i),l=J(this.invertsY_?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-i,+i);this.value.setRawValue(new Ie(o,l),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){Yi(e.key)&&e.preventDefault();let[t,i]=Or(e,this.baseSteps_,this.invertsY_);t===0&&i===0||this.value.setRawValue(new Ie(this.value.rawValue.x+t,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(e){let[t,i]=Or(e,this.baseSteps_,this.invertsY_);t===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Bl{constructor(e,t){var i,o;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=ht.create(t.expanded),this.popC_=t.pickerLayout==="popup"?new zi(e,{viewProps:this.viewProps}):null;let l=new Fl(e,{baseSteps:[t.axes[0].baseStep,t.axes[1].baseStep],invertsY:t.invertsY,layout:t.pickerLayout,maxValue:t.maxValue,value:this.value,viewProps:this.viewProps});l.view.allFocusableElements.forEach(d=>{d.addEventListener("blur",this.onPopupChildBlur_),d.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=l,this.textC_=new Zn(e,{assembly:Sr,axes:t.axes,parser:t.parser,value:this.value,viewProps:this.viewProps}),this.view=new Dl(e,{expanded:this.foldable_.value("expanded"),pickerLayout:t.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(o=this.view.buttonElement)===null||o===void 0||o.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),yt({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:d=>d.rawValue,backward:(d,f)=>f.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),yn(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(e){if(!this.popC_)return;let t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;let t=this.popC_.view.element,i=yi(e);i&&t.contains(i)||i&&i===this.view.buttonElement&&!Cn(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}class rt{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(h(e))return!1;let t=e.x,i=e.y,o=e.z;return!(typeof t!="number"||typeof i!="number"||typeof o!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}let Ar={toComponents:n=>n.getComponents(),fromComponents:n=>new rt(...n)};function Nl(n){return rt.isObject(n)?new rt(n.x,n.y,n.z):new rt}function zl(n,e){n.writeProperty("x",e.x),n.writeProperty("y",e.y),n.writeProperty("z",e.z)}function jl(n,e){return new De({assembly:Ar,components:[Oe("x"in n?n.x:void 0,e.x),Oe("y"in n?n.y:void 0,e.y),Oe("z"in n?n.z:void 0,e.z)]})}function Jn(n,e){return{baseStep:et(e),constraint:e,textProps:E.fromObject({draggingScale:tt(e,n),formatter:se(Zt(e,n))})}}let Hl={id:"input-point3d",type:"input",accept:(n,e)=>{if(!rt.isObject(n))return null;let t=B,i=U(e,{x:t.optional.custom(Ve),y:t.optional.custom(Ve),z:t.optional.custom(Ve)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Nl,constraint:n=>jl(n.params,n.initialValue),equals:rt.equals,writer:n=>zl},controller:n=>{let e=n.value,t=n.constraint;if(!(t instanceof De))throw w.shouldNeverHappen();return new Zn(n.document,{assembly:Ar,axes:[Jn(e.rawValue.x,t.components[0]),Jn(e.rawValue.y,t.components[1]),Jn(e.rawValue.z,t.components[2])],parser:ke,value:e,viewProps:n.viewProps})}};class ot{constructor(e=0,t=0,i=0,o=0){this.x=e,this.y=t,this.z=i,this.w=o}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(h(e))return!1;let t=e.x,i=e.y,o=e.z,l=e.w;return!(typeof t!="number"||typeof i!="number"||typeof o!="number"||typeof l!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}let Tr={toComponents:n=>n.getComponents(),fromComponents:n=>new ot(...n)};function Ul(n){return ot.isObject(n)?new ot(n.x,n.y,n.z,n.w):new ot}function $l(n,e){n.writeProperty("x",e.x),n.writeProperty("y",e.y),n.writeProperty("z",e.z),n.writeProperty("w",e.w)}function ql(n,e){return new De({assembly:Tr,components:[Oe("x"in n?n.x:void 0,e.x),Oe("y"in n?n.y:void 0,e.y),Oe("z"in n?n.z:void 0,e.z),Oe("w"in n?n.w:void 0,e.w)]})}function Kl(n,e){return{baseStep:et(e),constraint:e,textProps:E.fromObject({draggingScale:tt(e,n),formatter:se(Zt(e,n))})}}let Wl={id:"input-point4d",type:"input",accept:(n,e)=>{if(!ot.isObject(n))return null;let t=B,i=U(e,{x:t.optional.custom(Ve),y:t.optional.custom(Ve),z:t.optional.custom(Ve),w:t.optional.custom(Ve)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Ul,constraint:n=>ql(n.params,n.initialValue),equals:ot.equals,writer:n=>$l},controller:n=>{let e=n.value,t=n.constraint;if(!(t instanceof De))throw w.shouldNeverHappen();return new Zn(n.document,{assembly:Tr,axes:e.rawValue.getComponents().map((i,o)=>Kl(i,t.components[o])),parser:ke,value:e,viewProps:n.viewProps})}};function Gl(n){let e=[],t=zn(n.options);return t&&e.push(t),new bt(e)}let Yl={id:"input-string",type:"input",accept:(n,e)=>{if(typeof n!="string")return null;let i=U(e,{options:B.optional.custom(Xt)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Gi,constraint:n=>Gl(n.params),writer:n=>Mt},controller:n=>{let e=n.document,t=n.value,i=n.constraint,o=i&&Me(i,_t);return o?new wt(e,{props:new E({options:o.values.value("options")}),value:t,viewProps:n.viewProps}):new Yt(e,{parser:l=>l,props:E.fromObject({formatter:Dn}),value:t,viewProps:n.viewProps})}},St={monitor:{defaultInterval:200,defaultLineCount:3}},Lr=_("mll");class Ql{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(Lr()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("textarea");i.classList.add(Lr("i")),i.style.height=`calc(var(--bld-us) * ${t.lineCount})`,i.readOnly=!0,t.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){let e=this.textareaElem_,t=e.scrollTop===e.scrollHeight-e.clientHeight,i=[];this.value.rawValue.forEach(o=>{o!==void 0&&i.push(this.formatter_(o))}),e.textContent=i.join(`
`),t&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class ei{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Ql(e,{formatter:t.formatter,lineCount:t.lineCount,value:this.value,viewProps:this.viewProps})}}let Vr=_("sgl");class Xl{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(Vr()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("input");i.classList.add(Vr("i")),i.readOnly=!0,i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){let e=this.value.rawValue,t=e[e.length-1];this.inputElement.value=t!==void 0?this.formatter_(t):""}onValueUpdate_(){this.update_()}}class ti{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Xl(e,{formatter:t.formatter,value:this.value,viewProps:this.viewProps})}}let Zl={id:"monitor-bool",type:"monitor",accept:(n,e)=>{if(typeof n!="boolean")return null;let i=U(e,{lineCount:B.optional.number});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Hi},controller:n=>{var e;return n.value.rawValue.length===1?new ti(n.document,{formatter:Ui,value:n.value,viewProps:n.viewProps}):new ei(n.document,{formatter:Ui,lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:St.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}},Be=_("grl");class Jl{constructor(e,t){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Be()),t.viewProps.bindClassModifiers(this.element),this.formatter_=t.formatter,this.props_=t.props,this.cursor_=t.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);let i=e.createElementNS(Ce,"svg");i.classList.add(Be("g")),i.style.height=`calc(var(--bld-us) * ${t.lineCount})`,this.element.appendChild(i),this.svgElem_=i;let o=e.createElementNS(Ce,"polyline");this.svgElem_.appendChild(o),this.lineElem_=o;let l=e.createElement("div");l.classList.add(Be("t"),_("tt")()),this.element.appendChild(l),this.tooltipElem_=l,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}get graphElement(){return this.svgElem_}update_(){let e=this.svgElem_.getBoundingClientRect(),t=this.value.rawValue.length-1,i=this.props_.get("minValue"),o=this.props_.get("maxValue"),l=[];this.value.rawValue.forEach(($,K)=>{if($===void 0)return;let We=J(K,0,t,0,e.width),Ot=J($,i,o,e.height,0);l.push([We,Ot].join(","))}),this.lineElem_.setAttributeNS(null,"points",l.join(" "));let d=this.tooltipElem_,f=this.value.rawValue[this.cursor_.rawValue];if(f===void 0){d.classList.remove(Be("t","a"));return}let L=J(this.cursor_.rawValue,0,t,0,e.width),R=J(f,i,o,e.height,0);d.style.left=`${L}px`,d.style.top=`${R}px`,d.textContent=`${this.formatter_(f)}`,d.classList.contains(Be("t","a"))||(d.classList.add(Be("t","a"),Be("t","in")),$t(d),d.classList.remove(Be("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class eu{constructor(e,t){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=t.props,this.value=t.value,this.viewProps=t.viewProps,this.cursor_=N(-1),this.view=new Jl(e,{cursor:this.cursor_,formatter:t.formatter,lineCount:t.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!Cn(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{let i=new He(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){let t=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(J(e.offsetX,0,t.width,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(J(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function ni(n){return"format"in n&&!h(n.format)?n.format:se(2)}function tu(n){var e;return n.value.rawValue.length===1?new ti(n.document,{formatter:ni(n.params),value:n.value,viewProps:n.viewProps}):new ei(n.document,{formatter:ni(n.params),lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:St.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}function nu(n){var e,t,i;return new eu(n.document,{formatter:ni(n.params),lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:St.monitor.defaultLineCount,props:E.fromObject({maxValue:(t="max"in n.params?n.params.max:null)!==null&&t!==void 0?t:100,minValue:(i="min"in n.params?n.params.min:null)!==null&&i!==void 0?i:0}),value:n.value,viewProps:n.viewProps})}function Rr(n){return"view"in n&&n.view==="graph"}let iu={id:"monitor-number",type:"monitor",accept:(n,e)=>{if(typeof n!="number")return null;let t=B,i=U(e,{format:t.optional.function,lineCount:t.optional.number,max:t.optional.number,min:t.optional.number,view:t.optional.string});return i?{initialValue:n,params:i}:null},binding:{defaultBufferSize:n=>Rr(n)?64:1,reader:n=>Wi},controller:n=>Rr(n.params)?nu(n):tu(n)},ru={id:"monitor-string",type:"monitor",accept:(n,e)=>{if(typeof n!="string")return null;let t=B,i=U(e,{lineCount:t.optional.number,multiline:t.optional.boolean});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Gi},controller:n=>{var e;let t=n.value;return t.rawValue.length>1||"multiline"in n.params&&n.params.multiline?new ei(n.document,{formatter:Dn,lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:St.monitor.defaultLineCount,value:t,viewProps:n.viewProps}):new ti(n.document,{formatter:Dn,value:t,viewProps:n.viewProps})}};function ou(n,e){var t;let i=n.accept(e.target.read(),e.params);if(h(i))return null;let o=B,l={target:e.target,initialValue:i.initialValue,params:i.params},d=n.binding.reader(l),f=n.binding.constraint?n.binding.constraint(l):void 0,L=N(d(i.initialValue),{constraint:f,equals:n.binding.equals}),R=new Ts({reader:d,target:e.target,value:L,writer:n.binding.writer(l)}),$=o.optional.boolean(e.params.disabled).value,K=o.optional.boolean(e.params.hidden).value,We=n.controller({constraint:f,document:e.document,initialValue:i.initialValue,params:i.params,value:R.value,viewProps:be.create({disabled:$,hidden:K})});return new ye(e.document,{binding:R,blade:pt(),props:E.fromObject({label:"label"in e.params?(t=o.optional.string(e.params.label).value)!==null&&t!==void 0?t:null:e.target.key}),valueController:We})}function su(n,e){return e===0?new Os:new As(n,e??St.monitor.defaultInterval)}function au(n,e){var t,i,o;let l=B,d=n.accept(e.target.read(),e.params);if(h(d))return null;let f={target:e.target,initialValue:d.initialValue,params:d.params},L=n.binding.reader(f),R=(i=(t=l.optional.number(e.params.bufferSize).value)!==null&&t!==void 0?t:n.binding.defaultBufferSize&&n.binding.defaultBufferSize(d.params))!==null&&i!==void 0?i:1,$=l.optional.number(e.params.interval).value,K=new Ds({reader:L,target:e.target,ticker:su(e.document,$),value:Ls(R)}),We=l.optional.boolean(e.params.disabled).value,Ot=l.optional.boolean(e.params.hidden).value,At=n.controller({document:e.document,params:d.params,value:K.value,viewProps:be.create({disabled:We,hidden:Ot})});return new Le(e.document,{binding:K,blade:pt(),props:E.fromObject({label:"label"in e.params?(o=l.optional.string(e.params.label).value)!==null&&o!==void 0?o:null:e.target.key}),valueController:At})}class lu{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e){e.type==="blade"?this.pluginsMap_.blades.unshift(e):e.type==="input"?this.pluginsMap_.inputs.unshift(e):e.type==="monitor"&&this.pluginsMap_.monitors.unshift(e)}createInput(e,t,i){let o=t.read();if(h(o))throw new w({context:{key:t.key},type:"nomatchingcontroller"});let l=this.pluginsMap_.inputs.reduce((d,f)=>d??ou(f,{document:e,target:t,params:i}),null);if(l)return l;throw new w({context:{key:t.key},type:"nomatchingcontroller"})}createMonitor(e,t,i){let o=this.pluginsMap_.monitors.reduce((l,d)=>l??au(d,{document:e,params:i,target:t}),null);if(o)return o;throw new w({context:{key:t.key},type:"nomatchingcontroller"})}createBlade(e,t){let i=this.pluginsMap_.blades.reduce((o,l)=>o??Ss(l,{document:e,params:t}),null);if(!i)throw new w({type:"nomatchingview",context:{params:t}});return i}createBladeApi(e){if(e instanceof ye)return new Mn(e);if(e instanceof Le)return new kn(e);if(e instanceof vt)return new Wt(e,this);let t=this.pluginsMap_.blades.reduce((i,o)=>i??o.api({controller:e,pool:this}),null);if(!t)throw w.shouldNeverHappen();return t}}function uu(){let n=new lu;return[vu,Hl,Wl,Yl,Rl,Ol,Sl,Pl,ya,Zl,ru,iu,as,xs,ys,Ii].forEach(e=>{n.register(e)}),n}function cu(n){return Ie.isObject(n)?new Ie(n.x,n.y):new Ie}function du(n,e){n.writeProperty("x",e.x),n.writeProperty("y",e.y)}function Oe(n,e){if(!n)return;let t=[],i=Mr(n,e);i&&t.push(i);let o=kr(n);return o&&t.push(o),new bt(t)}function pu(n,e){return new De({assembly:Sr,components:[Oe("x"in n?n.x:void 0,e.x),Oe("y"in n?n.y:void 0,e.y)]})}function Dr(n,e){let[t,i]=n?Ll(n):[];if(!h(t)||!h(i))return Math.max(Math.abs(t??0),Math.abs(i??0));let o=et(n);return Math.max(Math.abs(o)*10,Math.abs(e)*10)}function hu(n,e){let t=e instanceof De?e.components[0]:void 0,i=e instanceof De?e.components[1]:void 0,o=Dr(t,n.x),l=Dr(i,n.y);return Math.max(o,l)}function Ir(n,e){return{baseStep:et(e),constraint:e,textProps:E.fromObject({draggingScale:tt(e,n),formatter:se(Zt(e,n))})}}function mu(n){if(!("y"in n))return!1;let e=n.y;return e&&"inverted"in e?!!e.inverted:!1}let vu={id:"input-point2d",type:"input",accept:(n,e)=>{if(!Ie.isObject(n))return null;let t=B,i=U(e,{expanded:t.optional.boolean,picker:t.optional.custom(Zi),x:t.optional.custom(Ve),y:t.optional.object({inverted:t.optional.boolean,max:t.optional.number,min:t.optional.number,step:t.optional.number})});return i?{initialValue:n,params:i}:null},binding:{reader:n=>cu,constraint:n=>pu(n.params,n.initialValue),equals:Ie.equals,writer:n=>du},controller:n=>{let e=n.document,t=n.value,i=n.constraint;if(!(i instanceof De))throw w.shouldNeverHappen();let o="expanded"in n.params?n.params.expanded:void 0,l="picker"in n.params?n.params.picker:void 0;return new Bl(e,{axes:[Ir(t.rawValue.x,i.components[0]),Ir(t.rawValue.y,i.components[1])],expanded:o??!1,invertsY:mu(n.params),maxValue:hu(t.rawValue,i),parser:ke,pickerLayout:l??"popup",value:t,viewProps:n.viewProps})}};class Fr extends s{constructor(e){super(e),this.emitter_=new k,this.controller_.valueController.value.emitter.on("change",t=>{this.emitter_.emit("change",{event:new u(this,t.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get options(){return this.controller_.valueController.props.get("options")}set options(e){this.controller_.valueController.props.set("options",e)}get value(){return this.controller_.valueController.value.rawValue}set value(e){this.controller_.valueController.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}}class Br extends s{constructor(e){super(e),this.emitter_=new k,this.controller_.valueController.value.emitter.on("change",t=>{this.emitter_.emit("change",{event:new u(this,t.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(e){this.controller_.valueController.sliderController.props.set("maxValue",e)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(e){this.controller_.valueController.sliderController.props.set("minValue",e)}get value(){return this.controller_.valueController.value.rawValue}set value(e){this.controller_.valueController.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}}class Nr extends s{constructor(e){super(e),this.emitter_=new k,this.controller_.valueController.value.emitter.on("change",t=>{this.emitter_.emit("change",{event:new u(this,t.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(e){this.controller_.valueController.props.set("formatter",e)}get value(){return this.controller_.valueController.value.rawValue}set value(e){this.controller_.valueController.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,o=>{i(o.event)}),this}}let fu=function(){return{id:"list",type:"blade",accept(n){let e=B,t=U(n,{options:e.required.custom(Xt),value:e.required.raw,view:e.required.constant("list"),label:e.optional.string});return t?{params:t}:null},controller(n){let e=new _t(Ji(n.params.options)),t=N(n.params.value,{constraint:e}),i=new wt(n.document,{props:new E({options:e.values.value("options")}),value:t,viewProps:n.viewProps});return new Ze(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:i})},api(n){return!(n.controller instanceof Ze)||!(n.controller.valueController instanceof wt)?null:new Fr(n.controller)}}}();function gu(n){return n.reduce((e,t)=>Object.assign(e,{[t.presetKey]:t.read()}),{})}function bu(n,e){n.forEach(t=>{let i=e[t.target.presetKey];i!==void 0&&t.writer(t.target,t.reader(i))})}class _u extends Sn{constructor(e,t){super(e,t)}get element(){return this.controller_.view.element}importPreset(e){let t=this.controller_.rackController.rack.find(ye).map(i=>i.binding);bu(t,e),this.refresh()}exportPreset(){let e=this.controller_.rackController.rack.find(ye).map(t=>t.binding.target);return gu(e)}refresh(){this.controller_.rackController.rack.find(ye).forEach(e=>{e.binding.read()}),this.controller_.rackController.rack.find(Le).forEach(e=>{e.binding.read()})}}class wu extends Tn{constructor(e,t){super(e,{expanded:t.expanded,blade:t.blade,props:t.props,root:!0,viewProps:t.viewProps})}}let xu={id:"slider",type:"blade",accept(n){let e=B,t=U(n,{max:e.required.number,min:e.required.number,view:e.required.constant("slider"),format:e.optional.function,label:e.optional.string,value:e.optional.number});return t?{params:t}:null},controller(n){var e,t;let i=(e=n.params.value)!==null&&e!==void 0?e:0,o=new Je({max:n.params.max,min:n.params.min}),l=new Nn(n.document,{baseStep:1,parser:ke,sliderProps:new E({maxValue:o.values.value("max"),minValue:o.values.value("min")}),textProps:E.fromObject({draggingScale:tt(void 0,i),formatter:(t=n.params.format)!==null&&t!==void 0?t:pa}),value:N(i,{constraint:o}),viewProps:n.viewProps});return new Ze(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:l})},api(n){return!(n.controller instanceof Ze)||!(n.controller.valueController instanceof Nn)?null:new Br(n.controller)}},Cu=function(){return{id:"text",type:"blade",accept(n){let e=B,t=U(n,{parse:e.required.function,value:e.required.raw,view:e.required.constant("text"),format:e.optional.function,label:e.optional.string});return t?{params:t}:null},controller(n){var e;let t=new Yt(n.document,{parser:n.params.parse,props:E.fromObject({formatter:(e=n.params.format)!==null&&e!==void 0?e:i=>String(i)}),value:N(n.params.value),viewProps:n.viewProps});return new Ze(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:t})},api(n){return!(n.controller instanceof Ze)||!(n.controller.valueController instanceof Yt)?null:new Nr(n.controller)}}}();function yu(n){let e=n.createElement("div");return e.classList.add(_("dfw")()),n.body&&n.body.appendChild(e),e}function zr(n,e,t){if(n.querySelector(`style[data-tp-style=${e}]`))return;let i=n.createElement("style");i.dataset.tpStyle=e,i.textContent=t,n.head.appendChild(i)}class Pu extends _u{constructor(e){var t,i;let o=e??{},l=(t=o.document)!==null&&t!==void 0?t:ns(),d=uu(),f=new wu(l,{expanded:o.expanded,blade:pt(),props:E.fromObject({title:o.title}),viewProps:be.create()});super(f,d),this.pool_=d,this.containerElem_=(i=o.container)!==null&&i!==void 0?i:yu(l),this.containerElem_.appendChild(this.element),this.doc_=l,this.usesDefaultWrapper_=!o.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw w.alreadyDisposed();return this.doc_}dispose(){let e=this.containerElem_;if(!e)throw w.alreadyDisposed();if(this.usesDefaultWrapper_){let t=e.parentElement;t&&t.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(i=>{this.pool_.register(i),this.embedPluginStyle_(i)})}embedPluginStyle_(e){e.css&&zr(this.document,`plugin-${e.id}`,e.css)}setUpDefaultPlugins_(){zr(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(e=>{this.embedPluginStyle_(e)}),this.registerPlugin({plugins:[xu,fu,Ii,Cu]})}}let Eu=new r("3.1.10");c.BladeApi=s,c.ButtonApi=S,c.FolderApi=Sn,c.InputBindingApi=Mn,c.ListApi=Fr,c.MonitorBindingApi=kn,c.Pane=Pu,c.SeparatorApi=Si,c.SliderApi=Br,c.TabApi=Vi,c.TabPageApi=Li,c.TextApi=Nr,c.TpChangeEvent=u,c.VERSION=Eu,Object.defineProperty(c,"__esModule",{value:!0})})});var Vo={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};var Te=class{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}},Su=new Bt(-1,1,1,-1,0,1),hi=class extends Po{constructor(){super(),this.setAttribute("position",new ci([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ci([0,2,0,0,2,0],2))}},Ou=new hi,cn=class{constructor(r){this._mesh=new Ft(Ou,r)}dispose(){this._mesh.geometry.dispose()}render(r){r.render(this._mesh,Su)}get material(){return this._mesh.material}set material(r){this._mesh.material=r}};var Ye=class extends Te{constructor(r,s="tDiffuse"){super(),this.textureID=s,this.uniforms=null,this.material=null,r instanceof di?(this.uniforms=r.uniforms,this.material=r):r&&(this.uniforms=Eo.clone(r.uniforms),this.material=new di({name:r.name!==void 0?r.name:"unspecified",defines:Object.assign({},r.defines),uniforms:this.uniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader})),this._fsQuad=new cn(this.material)}render(r,s,a){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=a.texture),this._fsQuad.material=this.material,this.renderToScreen?(r.setRenderTarget(null),this._fsQuad.render(r)):(r.setRenderTarget(s),this.clear&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),this._fsQuad.render(r))}dispose(){this.material.dispose(),this._fsQuad.dispose()}};var Nt=class extends Te{constructor(r,s){super(),this.scene=r,this.camera=s,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(r,s,a){let u=r.getContext(),p=r.state;p.buffers.color.setMask(!1),p.buffers.depth.setMask(!1),p.buffers.color.setLocked(!0),p.buffers.depth.setLocked(!0);let v,g;this.inverse?(v=0,g=1):(v=1,g=0),p.buffers.stencil.setTest(!0),p.buffers.stencil.setOp(u.REPLACE,u.REPLACE,u.REPLACE),p.buffers.stencil.setFunc(u.ALWAYS,v,4294967295),p.buffers.stencil.setClear(g),p.buffers.stencil.setLocked(!0),r.setRenderTarget(a),this.clear&&r.clear(),r.render(this.scene,this.camera),r.setRenderTarget(s),this.clear&&r.clear(),r.render(this.scene,this.camera),p.buffers.color.setLocked(!1),p.buffers.depth.setLocked(!1),p.buffers.color.setMask(!0),p.buffers.depth.setMask(!0),p.buffers.stencil.setLocked(!1),p.buffers.stencil.setFunc(u.EQUAL,1,4294967295),p.buffers.stencil.setOp(u.KEEP,u.KEEP,u.KEEP),p.buffers.stencil.setLocked(!0)}},dn=class extends Te{constructor(){super(),this.needsSwap=!1}render(r){r.state.buffers.stencil.setLocked(!1),r.state.buffers.stencil.setTest(!1)}};var pn=class{constructor(r,s){if(this.renderer=r,this._pixelRatio=r.getPixelRatio(),s===void 0){let a=r.getSize(new Ge);this._width=a.width,this._height=a.height,s=new Co(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:wo}),s.texture.name="EffectComposer.rt1"}else this._width=s.width,this._height=s.height;this.renderTarget1=s,this.renderTarget2=s.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Ye(Vo),this.copyPass.material.blending=_o,this.clock=new So}swapBuffers(){let r=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=r}addPass(r){this.passes.push(r),r.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(r,s){this.passes.splice(s,0,r),r.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(r){let s=this.passes.indexOf(r);s!==-1&&this.passes.splice(s,1)}isLastEnabledPass(r){for(let s=r+1;s<this.passes.length;s++)if(this.passes[s].enabled)return!1;return!0}render(r){r===void 0&&(r=this.clock.getDelta());let s=this.renderer.getRenderTarget(),a=!1;for(let u=0,p=this.passes.length;u<p;u++){let v=this.passes[u];if(v.enabled!==!1){if(v.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(u),v.render(this.renderer,this.writeBuffer,this.readBuffer,r,a),v.needsSwap){if(a){let g=this.renderer.getContext(),m=this.renderer.state.buffers.stencil;m.setFunc(g.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,r),m.setFunc(g.EQUAL,1,4294967295)}this.swapBuffers()}Nt!==void 0&&(v instanceof Nt?a=!0:v instanceof dn&&(a=!1))}}this.renderer.setRenderTarget(s)}reset(r){if(r===void 0){let s=this.renderer.getSize(new Ge);this._pixelRatio=this.renderer.getPixelRatio(),this._width=s.width,this._height=s.height,r=this.renderTarget1.clone(),r.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=r,this.renderTarget2=r.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(r,s){this._width=r,this._height=s;let a=this._width*this._pixelRatio,u=this._height*this._pixelRatio;this.renderTarget1.setSize(a,u),this.renderTarget2.setSize(a,u);for(let p=0;p<this.passes.length;p++)this.passes[p].setSize(a,u)}setPixelRatio(r){this._pixelRatio=r,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}};var hn=class extends Te{constructor(r,s,a=null,u=null,p=null){super(),this.scene=r,this.camera=s,this.overrideMaterial=a,this.clearColor=u,this.clearAlpha=p,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new yo}render(r,s,a){let u=r.autoClear;r.autoClear=!1;let p,v;this.overrideMaterial!==null&&(v=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(r.getClearColor(this._oldClearColor),r.setClearColor(this.clearColor,r.getClearAlpha())),this.clearAlpha!==null&&(p=r.getClearAlpha(),r.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&r.clearDepth(),r.setRenderTarget(this.renderToScreen?null:a),this.clear===!0&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),r.render(this.scene,this.camera),this.clearColor!==null&&r.setClearColor(this._oldClearColor),this.clearAlpha!==null&&r.setClearAlpha(p),this.overrideMaterial!==null&&(this.scene.overrideMaterial=v),r.autoClear=u}};var Zo=ku(Do());var zt,st,vi,Au=()=>vi||lt.register(window.gsap),Io=typeof Intl<"u"?new Intl.Segmenter:0,vn=c=>typeof c=="string"?vn(document.querySelectorAll(c)):"length"in c?Array.from(c):[c],Fo=c=>vn(c).filter(r=>r instanceof HTMLElement),fi=[],mi=function(){},Tu=/\s+/g,Bo=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),No={left:0,top:0,width:0,height:0},zo=(c,r)=>{if(r){let s=new Set(c.join("").match(r)||fi),a=c.length,u,p,v,g;if(s.size)for(;--a>-1;){p=c[a];for(v of s)if(v.startsWith(p)&&v.length>p.length){for(u=0,g=p;v.startsWith(g+=c[a+ ++u])&&g.length<v.length;);if(u&&g.length===v.length){c[a]=v,c.splice(a+1,u);break}}}}return c},jo=c=>window.getComputedStyle(c).display==="inline"&&(c.style.display="inline-block"),at=(c,r,s)=>r.insertBefore(typeof c=="string"?document.createTextNode(c):c,s),gi=(c,r,s)=>{let a=r[c+"sClass"]||"",{tag:u="div",aria:p="auto",propIndex:v=!1}=r,g=c==="line"?"block":"inline-block",m=a.indexOf("++")>-1,h=C=>{let b=document.createElement(u),M=s.length+1;return a&&(b.className=a+(m?" "+a+M:"")),v&&b.style.setProperty("--"+c,M+""),p!=="none"&&b.setAttribute("aria-hidden","true"),u!=="span"&&(b.style.position="relative",b.style.display=g),b.textContent=C,s.push(b),b};return m&&(a=a.replace("++","")),h.collection=s,h},Lu=(c,r,s,a)=>{let u=gi("line",s,a),p=window.getComputedStyle(c).textAlign||"left";return(v,g)=>{let m=u("");for(m.style.textAlign=p,c.insertBefore(m,r[v]);v<g;v++)m.appendChild(r[v]);m.normalize()}},Ho=(c,r,s,a,u,p,v,g,m,h)=>{var C;let b=Array.from(c.childNodes),M=0,{wordDelimiter:w,reduceWhiteSpace:y=!0,prepareText:S}=r,k=c.getBoundingClientRect(),T=k,_=!y&&window.getComputedStyle(c).whiteSpace.substring(0,3)==="pre",D=0,Q=s.collection,F,O,G,I,j,q,ue,ce,H,ne,N,E,re,ve,ee,Y,Z,B;for(typeof w=="object"?(G=w.delimiter||w,O=w.replaceWith||""):O=w===""?"":w||" ",F=O!==" ";M<b.length;M++)if(I=b[M],I.nodeType===3){for(ee=I.textContent||"",y?ee=ee.replace(Tu," "):_&&(ee=ee.replace(/\n/g,O+`
`)),S&&(ee=S(ee,c)),I.textContent=ee,j=O||G?ee.split(G||O):ee.match(g)||fi,Z=j[j.length-1],ce=F?Z.slice(-1)===" ":!Z,Z||j.pop(),T=k,ue=F?j[0].charAt(0)===" ":!j[0],ue&&at(" ",c,I),j[0]||j.shift(),zo(j,m),p&&h||(I.textContent=""),H=1;H<=j.length;H++)if(Y=j[H-1],!y&&_&&Y.charAt(0)===`
`&&((C=I.previousSibling)==null||C.remove(),at(document.createElement("br"),c,I),Y=Y.slice(1)),!y&&Y==="")at(O,c,I);else if(Y===" ")c.insertBefore(document.createTextNode(" "),I);else{if(F&&Y.charAt(0)===" "&&at(" ",c,I),D&&H===1&&!ue&&Q.indexOf(D.parentNode)>-1?(q=Q[Q.length-1],q.appendChild(document.createTextNode(a?"":Y))):(q=s(a?"":Y),at(q,c,I),D&&H===1&&!ue&&q.insertBefore(D,q.firstChild)),a)for(N=Io?zo([...Io.segment(Y)].map(U=>U.segment),m):Y.match(g)||fi,B=0;B<N.length;B++)q.appendChild(N[B]===" "?document.createTextNode(" "):a(N[B]));if(p&&h){if(ee=I.textContent=ee.substring(Y.length+1,ee.length),ne=q.getBoundingClientRect(),ne.top>T.top&&ne.left<=T.left){for(E=c.cloneNode(),re=c.childNodes[0];re&&re!==q;)ve=re,re=re.nextSibling,E.appendChild(ve);c.parentNode.insertBefore(E,c),u&&jo(E)}T=ne}(H<j.length||ce)&&at(H>=j.length?" ":F&&Y.slice(-1)===" "?" "+O:O,c,I)}c.removeChild(I),D=0}else I.nodeType===1&&(v&&v.indexOf(I)>-1?(Q.indexOf(I.previousSibling)>-1&&Q[Q.length-1].appendChild(I),D=I):(Ho(I,r,s,a,u,p,v,g,m,!0),D=0),u&&jo(I))},Vu=(()=>{let c=class Uo{constructor(s,a){this.isSplit=!1,Au(),this.elements=Fo(s),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=a,this._split=()=>this.isSplit&&this.split(this.vars);let u=[],p,v=()=>{let g=u.length,m;for(;g--;){m=u[g];let h=m.element.offsetWidth;if(h!==m.width){m.width=h,this._split();return}}};this._data={orig:u,obs:typeof ResizeObserver<"u"&&new ResizeObserver(()=>{clearTimeout(p),p=setTimeout(v,200)})},mi(this),this.split(a)}split(s){this.isSplit&&this.revert(),this.vars=s=s||this.vars||{};let{type:a="chars,words,lines",aria:u="auto",deepSlice:p=!0,smartWrap:v,onSplit:g,autoSplit:m=!1,specialChars:h,mask:C}=this.vars,b=a.indexOf("lines")>-1,M=a.indexOf("chars")>-1,w=a.indexOf("words")>-1,y=M&&!w&&!b,S=h&&("push"in h?new RegExp("(?:"+h.join("|")+")","gu"):h),k=S?new RegExp(S.source+"|"+Bo.source,"gu"):Bo,T=!!s.ignore&&Fo(s.ignore),{orig:_,animTime:D,obs:Q}=this._data,F;return(M||w||b)&&(this.elements.forEach((O,G)=>{_[G]={element:O,html:O.innerHTML,ariaL:O.getAttribute("aria-label"),ariaH:O.getAttribute("aria-hidden")},u==="auto"?O.setAttribute("aria-label",(O.textContent||"").trim()):u==="hidden"&&O.setAttribute("aria-hidden","true");let I=[],j=[],q=[],ue=M?gi("char",s,I):null,ce=gi("word",s,j),H,ne,N,E;if(Ho(O,s,ce,ue,y,p&&(b||y),T,k,S,!1),b){let re=vn(O.childNodes),ve=Lu(O,re,s,q),ee,Y=[],Z=0,B=re.map(pe=>pe.nodeType===1?pe.getBoundingClientRect():No),U=No;for(H=0;H<re.length;H++)ee=re[H],ee.nodeType===1&&(ee.nodeName==="BR"?(Y.push(ee),ve(Z,H+1),Z=H+1,U=B[Z]):(H&&B[H].top>U.top&&B[H].left<=U.left&&(ve(Z,H),Z=H),U=B[H]));Z<H&&ve(Z,H),Y.forEach(pe=>{var Ee;return(Ee=pe.parentNode)==null?void 0:Ee.removeChild(pe)})}if(!w){for(H=0;H<j.length;H++)if(ne=j[H],M||!ne.nextSibling||ne.nextSibling.nodeType!==3)if(v&&!b){for(N=document.createElement("span"),N.style.whiteSpace="nowrap";ne.firstChild;)N.appendChild(ne.firstChild);ne.replaceWith(N)}else ne.replaceWith(...ne.childNodes);else E=ne.nextSibling,E&&E.nodeType===3&&(E.textContent=(ne.textContent||"")+(E.textContent||""),ne.remove());j.length=0,O.normalize()}this.lines.push(...q),this.words.push(...j),this.chars.push(...I)}),C&&this[C]&&this.masks.push(...this[C].map(O=>{let G=O.cloneNode();return O.replaceWith(G),G.appendChild(O),O.className&&(G.className=O.className.replace(/(\b\w+\b)/g,"$1-mask")),G.style.overflow="clip",G}))),this.isSplit=!0,st&&(m?st.addEventListener("loadingdone",this._split):st.status==="loading"&&console.warn("SplitText called before fonts loaded")),(F=g&&g(this))&&F.totalTime&&(this._data.anim=D?F.totalTime(D):F),b&&m&&this.elements.forEach((O,G)=>{_[G].width=O.offsetWidth,Q&&Q.observe(O)}),this}revert(){var s,a;let{orig:u,anim:p,obs:v}=this._data;return v&&v.disconnect(),u.forEach(({element:g,html:m,ariaL:h,ariaH:C})=>{g.innerHTML=m,h?g.setAttribute("aria-label",h):g.removeAttribute("aria-label"),C?g.setAttribute("aria-hidden",C):g.removeAttribute("aria-hidden")}),this.chars.length=this.words.length=this.lines.length=u.length=this.masks.length=0,this.isSplit=!1,st?.removeEventListener("loadingdone",this._split),p&&(this._data.animTime=p.totalTime(),p.revert()),(a=(s=this.vars).onRevert)==null||a.call(s,this),this}static create(s,a){return new Uo(s,a)}static register(s){zt=zt||s||window.gsap,zt&&(vn=zt.utils.toArray,mi=zt.core.context||mi),!vi&&window.innerWidth>0&&(st=document.fonts,vi=!0)}};return c.version="3.13.0",c})(),lt=Vu;var Ru=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig;var Du=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig;var Iu=Math.PI/180,Nc=180/Math.PI,fn=Math.sin,gn=Math.cos,Ht=Math.abs,jt=Math.sqrt;var Fu=function(r){return typeof r=="number"};var $o=1e5;var je=function(r){return Math.round(r*$o)/$o||0};function qo(c,r,s,a,u,p,v){for(var g=c.length,m,h,C,b,M;--g>-1;)for(m=c[g],h=m.length,C=0;C<h;C+=2)b=m[C],M=m[C+1],m[C]=b*r+M*a+p,m[C+1]=b*s+M*u+v;return c._dirty=1,c}function Bu(c,r,s,a,u,p,v,g,m){if(!(c===g&&r===m)){s=Ht(s),a=Ht(a);var h=u%360*Iu,C=gn(h),b=fn(h),M=Math.PI,w=M*2,y=(c-g)/2,S=(r-m)/2,k=C*y+b*S,T=-b*y+C*S,_=k*k,D=T*T,Q=_/(s*s)+D/(a*a);Q>1&&(s=jt(Q)*s,a=jt(Q)*a);var F=s*s,O=a*a,G=(F*O-F*D-O*_)/(F*D+O*_);G<0&&(G=0);var I=(p===v?-1:1)*jt(G),j=I*(s*T/a),q=I*-(a*k/s),ue=(c+g)/2,ce=(r+m)/2,H=ue+(C*j-b*q),ne=ce+(b*j+C*q),N=(k-j)/s,E=(T-q)/a,re=(-k-j)/s,ve=(-T-q)/a,ee=N*N+E*E,Y=(E<0?-1:1)*Math.acos(N/jt(ee)),Z=(N*ve-E*re<0?-1:1)*Math.acos((N*re+E*ve)/jt(ee*(re*re+ve*ve)));isNaN(Z)&&(Z=M),!v&&Z>0?Z-=w:v&&Z<0&&(Z+=w),Y%=w,Z%=w;var B=Math.ceil(Ht(Z)/(w/4)),U=[],pe=Z/B,Ee=4/3*fn(pe/2)/(1+gn(pe/2)),ut=C*s,xn=b*s,Ut=b*-a,be=C*a,de;for(de=0;de<B;de++)u=Y+de*pe,k=gn(u),T=fn(u),N=gn(u+=pe),E=fn(u),U.push(k-Ee*T,T+Ee*k,N+Ee*E,E-Ee*N,N,E);for(de=0;de<U.length;de+=2)k=U[de],T=U[de+1],U[de]=k*ut+T*Ut+H,U[de+1]=k*xn+T*be+ne;return U[de-2]=g,U[de-1]=m,U}}function Ko(c){var r=(c+"").replace(Du,function(j){var q=+j;return q<1e-4&&q>-1e-4?0:q}).match(Ru)||[],s=[],a=0,u=0,p=2/3,v=r.length,g=0,m="ERROR: malformed path: "+c,h,C,b,M,w,y,S,k,T,_,D,Q,F,O,G,I=function(q,ue,ce,H){_=(ce-q)/3,D=(H-ue)/3,S.push(q+_,ue+D,ce-_,H-D,ce,H)};if(!c||!isNaN(r[0])||isNaN(r[1]))return console.log(m),s;for(h=0;h<v;h++)if(F=w,isNaN(r[h])?(w=r[h].toUpperCase(),y=w!==r[h]):h--,b=+r[h+1],M=+r[h+2],y&&(b+=a,M+=u),h||(k=b,T=M),w==="M")S&&(S.length<8?s.length-=1:g+=S.length),a=k=b,u=T=M,S=[b,M],s.push(S),h+=2,w="L";else if(w==="C")S||(S=[0,0]),y||(a=u=0),S.push(b,M,a+r[h+3]*1,u+r[h+4]*1,a+=r[h+5]*1,u+=r[h+6]*1),h+=6;else if(w==="S")_=a,D=u,(F==="C"||F==="S")&&(_+=a-S[S.length-4],D+=u-S[S.length-3]),y||(a=u=0),S.push(_,D,b,M,a+=r[h+3]*1,u+=r[h+4]*1),h+=4;else if(w==="Q")_=a+(b-a)*p,D=u+(M-u)*p,y||(a=u=0),a+=r[h+3]*1,u+=r[h+4]*1,S.push(_,D,a+(b-a)*p,u+(M-u)*p,a,u),h+=4;else if(w==="T")_=a-S[S.length-4],D=u-S[S.length-3],S.push(a+_,u+D,b+(a+_*1.5-b)*p,M+(u+D*1.5-M)*p,a=b,u=M),h+=2;else if(w==="H")I(a,u,a=b,u),h+=1;else if(w==="V")I(a,u,a,u=b+(y?u-a:0)),h+=1;else if(w==="L"||w==="Z")w==="Z"&&(b=k,M=T,S.closed=!0),(w==="L"||Ht(a-b)>.5||Ht(u-M)>.5)&&(I(a,u,b,M),w==="L"&&(h+=2)),a=b,u=M;else if(w==="A"){if(O=r[h+4],G=r[h+5],_=r[h+6],D=r[h+7],C=7,O.length>1&&(O.length<3?(D=_,_=G,C--):(D=G,_=O.substr(2),C-=2),G=O.charAt(1),O=O.charAt(0)),Q=Bu(a,u,+r[h+1],+r[h+2],+r[h+3],+O,+G,(y?a:0)+_*1,(y?u:0)+D*1),h+=C,Q)for(C=0;C<Q.length;C++)S.push(Q[C]);a=S[S.length-2],u=S[S.length-1]}else console.log(m);return h=S.length,h<6?(s.pop(),h=0):S[0]===S[h-2]&&S[1]===S[h-1]&&(S.closed=!0),s.totalPoints=g+h,s}function Wo(c){Fu(c[0])&&(c=[c]);var r="",s=c.length,a,u,p,v;for(u=0;u<s;u++){for(v=c[u],r+="M"+je(v[0])+","+je(v[1])+" C",a=v.length,p=2;p<a;p++)r+=je(v[p++])+","+je(v[p++])+" "+je(v[p++])+","+je(v[p++])+" "+je(v[p++])+","+je(v[p])+" ";v.closed&&(r+="z")}return r}var me,Yo,Qo=function(){return me||typeof window<"u"&&(me=window.gsap)&&me.registerPlugin&&me},Go=function(){me=Qo(),me?(me.registerEase("_CE",Qe.create),Yo=1):console.warn("Please gsap.registerPlugin(CustomEase)")},Nu=1e20,bn=function(r){return~~(r*1e3+(r<0?-.5:.5))/1e3},zu=1,ju=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,Hu=/[cLlsSaAhHvVtTqQ]/g,Uu=function(r){var s=r.length,a=Nu,u;for(u=1;u<s;u+=6)+r[u]<a&&(a=+r[u]);return a},$u=function(r,s,a){!a&&a!==0&&(a=Math.max(+r[r.length-1],+r[1]));var u=+r[0]*-1,p=-a,v=r.length,g=1/(+r[v-2]+u),m=-s||(Math.abs(+r[v-1]-+r[1])<.01*(+r[v-2]-+r[0])?Uu(r)+p:+r[v-1]+p),h;for(m?m=1/m:m=-g,h=0;h<v;h+=2)r[h]=(+r[h]+u)*g,r[h+1]=(+r[h+1]+p)*m},qu=function c(r,s,a,u,p,v,g,m,h,C,b){var M=(r+a)/2,w=(s+u)/2,y=(a+p)/2,S=(u+v)/2,k=(p+g)/2,T=(v+m)/2,_=(M+y)/2,D=(w+S)/2,Q=(y+k)/2,F=(S+T)/2,O=(_+Q)/2,G=(D+F)/2,I=g-r,j=m-s,q=Math.abs((a-g)*j-(u-m)*I),ue=Math.abs((p-g)*j-(v-m)*I),ce;return C||(C=[{x:r,y:s},{x:g,y:m}],b=1),C.splice(b||C.length-1,0,{x:O,y:G}),(q+ue)*(q+ue)>h*(I*I+j*j)&&(ce=C.length,c(r,s,M,w,_,D,O,G,h,C,b),c(O,G,Q,F,k,T,g,m,h,C,b+1+(C.length-ce))),C},Qe=function(){function c(s,a,u){Yo||Go(),this.id=s,zu&&this.setData(a,u)}var r=c.prototype;return r.setData=function(a,u){u=u||{},a=a||"0,0,1,1";var p=a.match(ju),v=1,g=[],m=[],h=u.precision||1,C=h<=1,b,M,w,y,S,k,T,_,D;if(this.data=a,(Hu.test(a)||~a.indexOf("M")&&a.indexOf("C")<0)&&(p=Ko(a)[0]),b=p.length,b===4)p.unshift(0,0),p.push(1,1),b=8;else if((b-2)%6)throw"Invalid CustomEase";for((+p[0]!=0||+p[b-2]!=1)&&$u(p,u.height,u.originY),this.segment=p,y=2;y<b;y+=6)M={x:+p[y-2],y:+p[y-1]},w={x:+p[y+4],y:+p[y+5]},g.push(M,w),qu(M.x,M.y,+p[y],+p[y+1],+p[y+2],+p[y+3],w.x,w.y,1/(h*2e5),g,g.length-1);for(b=g.length,y=0;y<b;y++)T=g[y],_=g[y-1]||T,(T.x>_.x||_.y!==T.y&&_.x===T.x||T===_)&&T.x<=1?(_.cx=T.x-_.x,_.cy=T.y-_.y,_.n=T,_.nx=T.x,C&&y>1&&Math.abs(_.cy/_.cx-g[y-2].cy/g[y-2].cx)>2&&(C=0),_.cx<v&&(_.cx?v=_.cx:(_.cx=.001,y===b-1&&(_.x-=.001,v=Math.min(v,.001),C=0)))):(g.splice(y--,1),b--);if(b=1/v+1|0,S=1/b,k=0,T=g[0],C){for(y=0;y<b;y++)D=y*S,T.nx<D&&(T=g[++k]),M=T.y+(D-T.x)/T.cx*T.cy,m[y]={x:D,cx:S,y:M,cy:0,nx:9},y&&(m[y-1].cy=M-m[y-1].y);k=g[g.length-1],m[b-1].cy=k.y-M,m[b-1].cx=k.x-m[m.length-1].x}else{for(y=0;y<b;y++)T.nx<y*S&&(T=g[++k]),m[y]=T;k<g.length-1&&(m[y-1]=g[g.length-2])}return this.ease=function(Q){var F=m[Q*b|0]||m[b-1];return F.nx<Q&&(F=F.n),F.y+(Q-F.x)/F.cx*F.cy},this.ease.custom=this,this.id&&me&&me.registerEase(this.id,this.ease),this},r.getSVGData=function(a){return c.getSVGData(this,a)},c.create=function(a,u,p){return new c(a,u,p).ease},c.register=function(a){me=a,Go()},c.get=function(a){return me.parseEase(a)},c.getSVGData=function(a,u){u=u||{};var p=u.width||100,v=u.height||100,g=u.x||0,m=(u.y||0)+v,h=me.utils.toArray(u.path)[0],C,b,M,w,y,S,k,T,_,D;if(u.invert&&(v=-v,m=0),typeof a=="string"&&(a=me.parseEase(a)),a.custom&&(a=a.custom),a instanceof c)C=Wo(qo([a.segment],p,0,0,-v,g,m));else{for(C=[g,m],k=Math.max(5,(u.precision||1)*200),w=1/k,k+=2,T=5/k,_=bn(g+w*p),D=bn(m+a(w)*-v),b=(D-m)/(_-g),M=2;M<k;M++)y=bn(g+M*w*p),S=bn(m+a(M*w)*-v),(Math.abs((S-D)/(y-_)-b)>T||M===k-1)&&(C.push(_,D),b=(S-D)/(y-_)),_=y,D=S;C="M"+C.join(",")}return h&&h.setAttribute("d",C),C},c}();Qe.version="3.13.0";Qe.headless=!0;Qo()&&me.registerPlugin(Qe);var _n=class c{scene=null;camera=null;renderer=null;controls=null;composer=null;customPass=null;backgroundTexture=null;backgroundMesh=null;backgroundScene=null;backgroundCamera=null;aspect=1;mousePosition=new Ge(.5,.5);targetMousePosition=new Ge(.5,.5);isMouseMoving=!1;mouseStopTimer=0;staticMousePosition={x:.5,y:.5};performanceMonitor={fps:60,frameTime:16.67,lastFrame:0,frameCount:0,isLowPerformance:!1};qualitySettings={textureSize:1024,useSimpleShader:!1,enableBlur:!0,enableChromaticAberration:!0,mouseSensitivity:1};cachedGeometry=null;lastAspectRatio=0;pane=null;paneVisible=!1;paneInitialized=!1;isSceneReady=!1;isTextureLoaded=!1;isBackgroundPlaying=!1;startClickSound=null;preloaderSound=null;hoverSound=null;backgroundMusic=null;webglSupported=this.supportsWebGL();error$=new Lt;fps$=new Lt;boundOnMouseMove=null;boundOnTouchMove=null;boundOnTouchStart=null;PARAMS={distortion:{strength:.18,radius:.14,size:1.2,edgeWidth:.19,edgeOpacity:.08,rimLightIntensity:.06,rimLightWidth:.02,chromaticAberration:0,reflectionIntensity:1,waveDistortion:.3,waveSpeed:5,lensBlur:.5,clearCenterSize:1,followMouse:!0,animationSpeed:1.5,overallIntensity:2,preset:"Classic Glass"},presets:{Minimal:{strength:.05,radius:.12,size:.8,edgeWidth:.02,edgeOpacity:.1,rimLightIntensity:.1,rimLightWidth:.04,chromaticAberration:.01,reflectionIntensity:.15,waveDistortion:.02,waveSpeed:.8,lensBlur:.05,clearCenterSize:.5},Subtle:{strength:.08,radius:.16,size:.9,edgeWidth:.03,edgeOpacity:.15,rimLightIntensity:.2,rimLightWidth:.06,chromaticAberration:.02,reflectionIntensity:.2,waveDistortion:.04,waveSpeed:1,lensBlur:.08,clearCenterSize:.4},"Classic Glass":{strength:.12,radius:.18,size:1,edgeWidth:.04,edgeOpacity:.25,rimLightIntensity:.3,rimLightWidth:.08,chromaticAberration:.025,reflectionIntensity:.35,waveDistortion:.03,waveSpeed:.5,lensBlur:.12,clearCenterSize:.2},Dramatic:{strength:.25,radius:.35,size:1.2,edgeWidth:.08,edgeOpacity:.4,rimLightIntensity:.5,rimLightWidth:.1,chromaticAberration:.06,reflectionIntensity:.5,waveDistortion:.15,waveSpeed:1.8,lensBlur:.25,clearCenterSize:.15},"Chromatic Focus":{strength:.1,radius:.22,size:1,edgeWidth:.06,edgeOpacity:.3,rimLightIntensity:.25,rimLightWidth:.07,chromaticAberration:.08,reflectionIntensity:.2,waveDistortion:.05,waveSpeed:.8,lensBlur:.1,clearCenterSize:.25},"Liquid Wave":{strength:.18,radius:.28,size:1.1,edgeWidth:.05,edgeOpacity:.2,rimLightIntensity:.4,rimLightWidth:.09,chromaticAberration:.04,reflectionIntensity:.4,waveDistortion:.2,waveSpeed:2.5,lensBlur:.15,clearCenterSize:.1},Gigantic:{strength:.4,radius:.65,size:1.8,edgeWidth:.12,edgeOpacity:.6,rimLightIntensity:.8,rimLightWidth:.15,chromaticAberration:.1,reflectionIntensity:.7,waveDistortion:.25,waveSpeed:1.5,lensBlur:.35,clearCenterSize:.05}}};supportsWebGL(){try{let r=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(r.getContext("webgl")||r.getContext("experimental-webgl")))}catch{return!1}}init(r){if(this.setupAudio(),this.setupKeyboardControls(),!this.webglSupported){this.showFallback();return}this.waitForDependencies(r)}waitForDependencies(r){let s=setInterval(()=>{ze&&lt&&(clearInterval(s),this.initializeScene(r))},100);setTimeout(()=>{clearInterval(s),this.initializeScene(r)},1e4)}showFallback(){let r=document.getElementById("fallbackBg");r&&r.classList.add("active"),this.finishPreloader()}setupAudio(){this.startClickSound=document.getElementById("startClickSound"),this.startClickSound=document.getElementById("startClickSound"),this.preloaderSound=document.getElementById("preloaderSound"),this.hoverSound=document.getElementById("hoverSound"),this.backgroundMusic=document.getElementById("backgroundMusic")}onStartClick(){document.body.classList.add("loading-active"),this.startClickSound?.play().catch(()=>{});let r=document.querySelector(".audio-enable");r&&r.setAttribute("style","display: none");let s=document.getElementById("preloader");s&&(s.style.display="flex"),this.preloaderSound?.play().catch(()=>{}),setTimeout(()=>{this.backgroundMusic&&(this.backgroundMusic.volume=.3,this.backgroundMusic.play().catch(()=>{}),this.isBackgroundPlaying=!0)},500),this.webglSupported?this.initializeScene(document.getElementById("canvas")):this.showFallback(),this.startPreloader()}startPreloader(){let r=0,s=setInterval(()=>{let a=document.getElementById("counter");a&&(a.textContent=`[${r<10?"00":r<100?"0":""}${++r}]`),r>=100&&(clearInterval(s),setTimeout(()=>{this.preloaderSound?.pause(),this.preloaderSound&&(this.preloaderSound.currentTime=0),this.finishPreloader()},200))},30)}finishPreloader(){let r=()=>{if(this.isSceneReady&&this.isTextureLoaded||!this.webglSupported){let s=document.getElementById("preloader");if(s&&s.classList.add("fade-out"),this.webglSupported){let a=document.getElementById("canvas");a&&a.classList.add("ready")}setTimeout(()=>{document.body.classList.remove("loading-active"),s&&(s.style.display="none",s.classList.remove("fade-out")),this.animateTextElements()},800)}else setTimeout(r,50)};r()}animateTextElements(){if(!ze||!lt){this.fallbackTextAnimation();return}ze.registerPlugin(lt,Qe);let r=Qe.create("customOut","0.65,0.05,0.36,1")||"power2.out",s=[".description",".division",".signal",".central-text",".footer"];ze.set([...s,".nav-links"],{opacity:0});let a=s.map(C=>new lt(C,{type:"lines",linesClass:"line"}).lines),[u,p,v,g,m]=a;ze.set(s,{opacity:1}),ze.set([...a.flat(),".nav-links a"],{opacity:0,y:30}),ze.timeline().to(u,{opacity:1,y:0,duration:.8,ease:r,stagger:.18}).to(".nav-links",{opacity:1,duration:.2},.12).to(".nav-links a",{opacity:1,y:0,duration:.8,ease:r,stagger:.15},.12).to(g,{opacity:1,y:0,duration:.8,ease:r,stagger:.22},.25).to(m,{opacity:1,y:0,duration:.8,ease:r,stagger:.18},.4).to(p,{opacity:1,y:0,duration:.8,ease:r,stagger:.18},.55).to(v,{opacity:1,y:0,duration:.8,ease:r,stagger:.18},.55)}fallbackTextAnimation(){let r=0;document.querySelectorAll(".text-element").forEach(s=>{let a=s;setTimeout(()=>{a.style.opacity="1",a.style.transform=a.classList.contains("central-text")?"translateX(-50%) translateY(0)":"translateY(0)"},r),r+=250})}initializeScene(r){if(!this.webglSupported){this.isSceneReady=this.isTextureLoaded=!0;return}this.renderer=new Oo({canvas:r,antialias:!0,alpha:!0,premultipliedAlpha:!1}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.autoClear=!1,this.aspect=window.innerWidth/window.innerHeight,this.backgroundScene=new pi,this.backgroundCamera=new Bt(-this.aspect,this.aspect,1,-1,.1,10),this.backgroundCamera.position.z=1,this.scene=new pi,this.camera=new Bt(-this.aspect,this.aspect,1,-1,.1,10),this.camera.position.z=1,this.controls=new Ao(this.camera,r),this.controls.enabled=!1,this.loadBackgroundTexture(),this.setupPostProcessing(),this.setupPane(),this.setupNavHoverSounds(),this.setupNavHoverSounds2(),this.boundOnMouseMove||(this.boundOnMouseMove=this.onMouseMove.bind(this)),this.boundOnTouchMove||(this.boundOnTouchMove=this.onTouchMove.bind(this)),this.boundOnTouchStart||(this.boundOnTouchStart=this.onTouchStart.bind(this)),window.addEventListener("resize",this.onWindowResize.bind(this)),document.addEventListener("mousemove",this.boundOnMouseMove),document.addEventListener("touchmove",this.boundOnTouchMove),document.addEventListener("touchstart",this.boundOnTouchStart),this.animate(),this.isSceneReady=!0}onMouseMove(r){this.updateMousePosition(r)}onTouchStart(r){r.preventDefault(),r.touches.length&&this.onTouchMove(r)}onTouchMove(r){if(r.preventDefault(),this.PARAMS.distortion.followMouse&&r.touches.length){let s=r.touches[0],a=this.renderer.domElement.getBoundingClientRect();this.targetMousePosition.x=(s.clientX-a.left)/a.width,this.targetMousePosition.y=1-(s.clientY-a.top)/a.height,this.isMouseMoving=!0,clearTimeout(this.mouseStopTimer),this.mouseStopTimer=window.setTimeout(()=>{this.isMouseMoving=!1},100)}}loadBackgroundTexture(){let r=document.createElement("video");if(r.src="/images/advertisers/video-bg/image_bg.mp4",r.loop=!0,r.muted=!0,r.autoplay=!0,r.playsInline=!0,r.preload="metadata",r.crossOrigin="anonymous",r.style.width=`${this.qualitySettings.textureSize}px`,r.style.height=`${this.qualitySettings.textureSize*9/16}px`,!r.canPlayType("video/mp4")){console.warn("MP4 format not supported"),this.error$.next("\u0424\u043E\u0440\u043C\u0430\u0442 \u0432\u0438\u0434\u0435\u043E \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F");return}r.addEventListener("loadedmetadata",()=>{this.detectDeviceCapabilities();let s=new Mo(r);s.minFilter=li,s.magFilter=li,s.format=xo,s.generateMipmaps=!1,s.flipY=!1,this.backgroundTexture=s,this.createBackgroundMesh(),this.isTextureLoaded=!0,this.customPass&&(this.customPass.uniforms.tDiffuse.value=this.backgroundTexture),r.play().catch(a=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u0432\u0438\u0434\u0435\u043E:",a),this.error$.next("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0444\u043E\u043D\u043E\u0432\u043E\u0435 \u0432\u0438\u0434\u0435\u043E")})}),r.addEventListener("error",s=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0432\u0438\u0434\u0435\u043E:",s),this.isTextureLoaded=!0,this.error$.next("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u043E\u043D\u043E\u0432\u043E\u0435 \u0432\u0438\u0434\u0435\u043E")}),r.addEventListener("playing",()=>{this.startPerformanceMonitoring()}),r.load()}createBackgroundMesh(){if(!this.backgroundTexture)return;this.backgroundMesh&&(this.backgroundScene?.remove(this.backgroundMesh),this.backgroundMesh.geometry.dispose(),this.backgroundMesh.material.dispose());let r=this.backgroundTexture.image,s=r.videoWidth/r.videoHeight,a=window.innerWidth/window.innerHeight;if(Math.abs(this.lastAspectRatio-a)<.01&&this.cachedGeometry){let u=new ui({map:this.backgroundTexture,transparent:!1});this.backgroundMesh=new Ft(this.cachedGeometry,u)}else{let u,p;a>s?(u=a*2,p=u/s):(p=2,u=p*s);let v=new ko(u,p,1,1),g=new ui({map:this.backgroundTexture,transparent:!1});this.backgroundMesh=new Ft(v,g),this.cachedGeometry=v,this.lastAspectRatio=a}this.backgroundScene?.add(this.backgroundMesh)}setupPostProcessing(){!this.renderer||!this.backgroundScene||!this.backgroundCamera||this.setupDistortionPass()}setupDistortionPass(){if(!this.renderer||!this.backgroundScene||!this.backgroundCamera)return;this.composer=new pn(this.renderer);let r=new hn(this.backgroundScene,this.backgroundCamera);this.composer.addPass(r);let s=`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,a=this.qualitySettings.useSimpleShader?this.getSimpleFragmentShader():this.getAdvancedFragmentShader();this.customPass=new Ye({uniforms:{tDiffuse:{value:this.backgroundTexture||null},uMouse:{value:new Ge(.5,.5)},uRadius:{value:this.PARAMS.distortion.radius},uSize:{value:this.PARAMS.distortion.size},uStrength:{value:this.PARAMS.distortion.strength},uEdgeWidth:{value:this.PARAMS.distortion.edgeWidth},uEdgeOpacity:{value:this.PARAMS.distortion.edgeOpacity},uRimLightIntensity:{value:this.PARAMS.distortion.rimLightIntensity},uRimLightWidth:{value:this.PARAMS.distortion.rimLightWidth},uChromaticAberration:{value:this.qualitySettings.enableChromaticAberration?this.PARAMS.distortion.chromaticAberration:0},uReflectionIntensity:{value:this.PARAMS.distortion.reflectionIntensity},uWaveDistortion:{value:this.PARAMS.distortion.waveDistortion},uWaveSpeed:{value:this.PARAMS.distortion.waveSpeed},uLensBlur:{value:this.qualitySettings.enableBlur?this.PARAMS.distortion.lensBlur:0},uClearCenterSize:{value:this.PARAMS.distortion.clearCenterSize},uOverallIntensity:{value:this.PARAMS.distortion.overallIntensity},uAspect:{value:this.aspect},uTime:{value:0},uQuality:{value:this.qualitySettings.useSimpleShader?0:1}},vertexShader:s,fragmentShader:a}),this.customPass.renderToScreen=!0,this.backgroundTexture&&(this.customPass.uniforms.tDiffuse.value=this.backgroundTexture),this.composer.addPass(this.customPass)}getSimpleFragmentShader(){return`
      uniform sampler2D tDiffuse;
      uniform vec2 uMouse;
      uniform float uRadius;
      uniform float uSize;
      uniform float uStrength;
      uniform float uAspect;
      uniform float uOverallIntensity;
      varying vec2 vUv;

      void main() {
        vec2 c = uMouse;
        vec2 a = vUv;
        a.x *= uAspect;
        c.x *= uAspect;
        
        float dist = distance(a, c);
        float rad = uRadius * uSize;
        vec4 orig = texture2D(tDiffuse, vUv);
        
        if (dist < rad) {
          float nd = dist / rad;
          vec2 dir = normalize(a - c);
          float df = 1.0 - smoothstep(0.0, 1.0, nd);
          vec2 dUv = a - dir * uStrength * df * 0.5;
          dUv.x /= uAspect;
          
          vec4 col = texture2D(tDiffuse, dUv);
          gl_FragColor = mix(orig, col, uOverallIntensity * df);
        } else {
          gl_FragColor = orig;
        }
      }
    `}getAdvancedFragmentShader(){return`
      uniform sampler2D tDiffuse;
      uniform vec2 uMouse;
      uniform float uRadius;
      uniform float uSize;
      uniform float uStrength;
      uniform float uEdgeWidth;
      uniform float uEdgeOpacity;
      uniform float uRimLightIntensity;
      uniform float uRimLightWidth;
      uniform float uChromaticAberration;
      uniform float uReflectionIntensity;
      uniform float uWaveDistortion;
      uniform float uWaveSpeed;
      uniform float uLensBlur;
      uniform float uClearCenterSize;
      uniform float uOverallIntensity;
      uniform float uAspect;
      uniform float uTime;
      uniform float uQuality;
      varying vec2 vUv;

      vec4 simpleBlur(sampler2D tex, vec2 uv, float amount) {
        vec4 col = texture2D(tex, uv);
        if (amount > 0.0) {
          vec2 offset = vec2(1.0 / 512.0) * amount;
          col += texture2D(tex, uv + offset);
          col += texture2D(tex, uv - offset);
          col += texture2D(tex, uv + vec2(offset.x, -offset.y));
          col += texture2D(tex, uv + vec2(-offset.x, offset.y));
          col *= 0.2;
        }
        return col;
      }

      void main() {
        vec2 c = uMouse;
        vec2 a = vUv;
        a.x *= uAspect;
        c.x *= uAspect;
        
        float dist = distance(a, c);
        float rad = uRadius * uSize;
        vec4 orig = texture2D(tDiffuse, vUv);
        
        if (dist >= rad) {
          gl_FragColor = orig;
          return;
        }
        
        float nd = dist / rad;
        vec2 dir = normalize(a - c);
        float cl = uClearCenterSize * rad;
        float df = smoothstep(cl, rad, dist);
        
        float powd = 1.0 + nd * 2.0;
        vec2 dUv = a - dir * uStrength * pow(df, powd);
        
        if (uWaveDistortion > 0.0) {
          float w1 = sin(nd * 6.0 - uTime * uWaveSpeed) * uWaveDistortion;
          dUv += dir * w1 * df * 0.5;
        }
        
        dUv.x /= uAspect;
        
        vec4 col;
        
        if (uChromaticAberration > 0.0) {
          float ab = uChromaticAberration * df * (1.0 + nd * 0.5);
          vec2 rO = dir * ab * 0.8 / vec2(uAspect, 1.0);
          vec2 bO = dir * ab * 0.6 / vec2(uAspect, 1.0);
          
          float r = texture2D(tDiffuse, dUv + rO).r;
          float g = texture2D(tDiffuse, dUv).g;
          float b = texture2D(tDiffuse, dUv - bO).b;
          col = vec4(r, g, b, 1.0);
        } else {
          col = texture2D(tDiffuse, dUv);
        }
        
        if (uLensBlur > 0.0) {
          float bl = uLensBlur * df * 0.5;
          vec4 blurred = simpleBlur(tDiffuse, dUv, bl);
          col = mix(col, blurred, df * 0.3);
        }
        
        if (uReflectionIntensity > 0.0) {
          vec4 ref = texture2D(tDiffuse, vUv + dir * 0.05 * df);
          col = mix(col, ref, uReflectionIntensity * df * 0.5);
        }
        
        float edge = smoothstep(rad - uEdgeWidth, rad, dist);
        vec3 edgeColor = mix(vec3(1.0), vec3(0.8, 0.9, 1.0), nd);
        col = mix(col, vec4(edgeColor, 1.0), edge * uEdgeOpacity);
        
        float rimD = rad - uRimLightWidth;
        float rim = smoothstep(rimD - 0.01, rimD + 0.01, dist);
        rim *= (1.0 - smoothstep(rad - 0.005, rad, dist));
        col = mix(col, vec4(1.0), rim * uRimLightIntensity);
        
        gl_FragColor = mix(orig, col, uOverallIntensity);
      }
    `}detectDeviceCapabilities(){let r=document.createElement("canvas"),s=r.getContext("webgl")||r.getContext("experimental-webgl");if(!s){this.qualitySettings.useSimpleShader=!0;return}let a=s instanceof WebGLRenderingContext||s instanceof WebGL2RenderingContext?s.getExtension("WEBGL_debug_renderer_info"):null,u=a&&(s instanceof WebGLRenderingContext||s instanceof WebGL2RenderingContext)?s.getParameter(a.UNMASKED_RENDERER_WEBGL):"";(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||u.includes("Mali")||u.includes("Adreno")||u.includes("PowerVR"))&&(this.qualitySettings.useSimpleShader=!0,this.qualitySettings.textureSize=512,this.qualitySettings.enableBlur=!1,this.qualitySettings.enableChromaticAberration=!1,this.qualitySettings.mouseSensitivity=.5),r.remove()}startPerformanceMonitoring(){let r=()=>{let s=performance.now();this.performanceMonitor.frameTime=s-this.performanceMonitor.lastFrame,this.performanceMonitor.lastFrame=s,this.performanceMonitor.frameCount++,this.performanceMonitor.frameCount%60===0&&(this.performanceMonitor.fps=1e3/this.performanceMonitor.frameTime,this.fps$.next(this.performanceMonitor.fps),this.performanceMonitor.fps<30&&!this.qualitySettings.useSimpleShader&&(console.log("Switching to simple shader due to low performance"),this.qualitySettings.useSimpleShader=!0,this.setupDistortionPass())),requestAnimationFrame(r)};requestAnimationFrame(r)}updateMousePosition(r){if(!this.renderer)return;let s=this.renderer.domElement.getBoundingClientRect();this.targetMousePosition.x=(r.clientX-s.left)/s.width,this.targetMousePosition.y=1-(r.clientY-s.top)/s.height,this.isMouseMoving=!0,clearTimeout(this.mouseStopTimer),this.mouseStopTimer=window.setTimeout(()=>{this.isMouseMoving=!1},100)}updateMouseInterpolation(){this.isMouseMoving&&(this.mousePosition.lerp(this.targetMousePosition,.1*this.qualitySettings.mouseSensitivity),this.customPass&&this.customPass.uniforms.uMouse.value.copy(this.mousePosition))}setupNavHoverSounds(){document.querySelectorAll(".nav-links a").forEach(r=>{r.addEventListener("mouseenter",()=>{this.hoverSound&&this.isBackgroundPlaying&&(this.hoverSound.currentTime=0,this.hoverSound.volume=.4,this.hoverSound.play().catch(()=>{}))})})}setupNavHoverSounds2(){document.querySelectorAll(".courses-list li").forEach(r=>{r.addEventListener("mouseenter",()=>{this.hoverSound&&this.isBackgroundPlaying&&(this.hoverSound.currentTime=0,this.hoverSound.volume=.4,this.hoverSound.play().catch(()=>{}))})})}setupKeyboardControls(){document.addEventListener("keydown",r=>{typeof r.key=="string"&&(r.key.toLowerCase()==="h"||r.key.toLowerCase()==="\u0440")&&(r.preventDefault(),this.togglePane())})}togglePane(){this.paneInitialized||this.setupPane(),this.pane&&(this.paneVisible=!this.paneVisible,this.pane.element.style.display=this.paneVisible?"block":"none")}setupPane(){if(this.paneInitialized)return;this.pane=new Zo.Pane({title:"Glass Refraction Controls",expanded:!0});let r=(m,h)=>{let C=this.pane.addInput(this.PARAMS.distortion,m,h);return C.on("change",b=>{let M=`u${m.charAt(0).toUpperCase()}${m.slice(1)}`;this.customPass?.uniforms[M]&&(this.customPass.uniforms[M].value=b.value)}),C};r("overallIntensity",{min:0,max:2,step:.01,label:"\u041E\u0431\u0449\u0430\u044F \u0418\u043D\u0442\u0435\u043D\u0441\u0438\u0432\u043D\u043E\u0441\u0442\u044C"}),r("followMouse",{label:"\u0421\u043B\u0435\u0434\u043E\u0432\u0430\u0442\u044C \u0437\u0430 \u041C\u044B\u0448\u044C\u044E"}).on("change",m=>{m.value||(this.staticMousePosition={x:.5,y:.5})}),r("animationSpeed",{min:0,max:3,step:.1,label:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0410\u043D\u0438\u043C\u0430\u0446\u0438\u0438"});let s=this.pane.addFolder({title:"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0420\u0430\u0437\u043C\u0435\u0440\u043E\u043C"});s.addInput(this.PARAMS.distortion,"size",{min:.2,max:3,step:.1,label:"\u0420\u0430\u0437\u043C\u0435\u0440 \u042D\u0444\u0444\u0435\u043A\u0442\u0430"}).on("change",m=>this.customPass.uniforms.uSize.value=m.value),s.addInput(this.PARAMS.distortion,"radius",{min:.05,max:.8,step:.01,label:"\u0411\u0430\u0437\u043E\u0432\u044B\u0439 \u0420\u0430\u0434\u0438\u0443\u0441"}).on("change",m=>this.customPass.uniforms.uRadius.value=m.value);let a=this.pane.addFolder({title:"\u0421\u0432\u043E\u0439\u0441\u0442\u0432\u0430 \u041F\u0440\u0435\u043B\u043E\u043C\u043B\u0435\u043D\u0438\u044F"});a.addInput(this.PARAMS.distortion,"strength",{min:0,max:.5,step:.01,label:"\u0421\u0438\u043B\u0430 \u041F\u0440\u0435\u043B\u043E\u043C\u043B\u0435\u043D\u0438\u044F"}).on("change",m=>this.customPass.uniforms.uStrength.value=m.value),a.addInput(this.PARAMS.distortion,"clearCenterSize",{min:0,max:1,step:.01,label:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0426\u0435\u043D\u0442\u0440"}).on("change",m=>this.customPass.uniforms.uClearCenterSize.value=m.value);let u=this.pane.addFolder({title:"\u0412\u0438\u0437\u0443\u0430\u043B\u044C\u043D\u044B\u0435 \u042D\u0444\u0444\u0435\u043A\u0442\u044B"});u.addInput(this.PARAMS.distortion,"chromaticAberration",{min:0,max:.15,step:.001,label:"\u0425\u0440\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u0410\u0431\u0435\u0440\u0440\u0430\u0446\u0438\u044F"}).on("change",m=>this.customPass.uniforms.uChromaticAberration.value=m.value),u.addInput(this.PARAMS.distortion,"reflectionIntensity",{min:0,max:1,step:.01,label:"\u041E\u0442\u0440\u0430\u0436\u0435\u043D\u0438\u044F"}).on("change",m=>this.customPass.uniforms.uReflectionIntensity.value=m.value),u.addInput(this.PARAMS.distortion,"lensBlur",{min:0,max:.5,step:.01,label:"\u0420\u0430\u0437\u043C\u044B\u0442\u0438\u0435 \u041B\u0438\u043D\u0437\u044B"}).on("change",m=>this.customPass.uniforms.uLensBlur.value=m.value);let p=this.pane.addFolder({title:"\u0410\u043D\u0438\u043C\u0430\u0446\u0438\u044F \u0412\u043E\u043B\u043D\u044B"});p.addInput(this.PARAMS.distortion,"waveDistortion",{min:0,max:.3,step:.01,label:"\u0421\u0438\u043B\u0430 \u0412\u043E\u043B\u043D\u044B"}).on("change",m=>this.customPass.uniforms.uWaveDistortion.value=m.value),p.addInput(this.PARAMS.distortion,"waveSpeed",{min:0,max:5,step:.1,label:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0412\u043E\u043B\u043D\u044B"}).on("change",m=>this.customPass.uniforms.uWaveSpeed.value=m.value);let v=this.pane.addFolder({title:"\u042D\u0444\u0444\u0435\u043A\u0442\u044B \u041A\u0440\u0430\u0435\u0432"});v.addInput(this.PARAMS.distortion,"edgeWidth",{min:0,max:.2,step:.01,label:"\u0428\u0438\u0440\u0438\u043D\u0430 \u041A\u0440\u0430\u0435\u0432"}).on("change",m=>this.customPass.uniforms.uEdgeWidth.value=m.value),v.addInput(this.PARAMS.distortion,"edgeOpacity",{min:0,max:1,step:.01,label:"\u041D\u0435\u043F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u043E\u0441\u0442\u044C \u041A\u0440\u0430\u0435\u0432"}).on("change",m=>this.customPass.uniforms.uEdgeOpacity.value=m.value);let g=this.pane.addFolder({title:"\u041E\u0440\u0435\u043E\u043B"});g.addInput(this.PARAMS.distortion,"rimLightIntensity",{min:0,max:1,step:.01,label:"\u0418\u043D\u0442\u0435\u043D\u0441\u0438\u0432\u043D\u043E\u0441\u0442\u044C \u041E\u0440\u0435\u043E\u043B\u0430"}).on("change",m=>this.customPass.uniforms.uRimLightIntensity.value=m.value),g.addInput(this.PARAMS.distortion,"rimLightWidth",{min:0,max:.3,step:.01,label:"\u0428\u0438\u0440\u0438\u043D\u0430 \u041E\u0440\u0435\u043E\u043B\u0430"}).on("change",m=>this.customPass.uniforms.uRimLightWidth.value=m.value),Object.assign(this.pane.element.style,{position:"fixed",top:"10px",right:"10px",zIndex:"3000"}),this.pane.element.style.display="none",this.paneVisible=!1,this.paneInitialized=!0,this.loadPreset("\u041A\u043B\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0441\u0442\u0435\u043A\u043B\u043E")}loadPreset(r){let s=this.PARAMS.presets[r];s&&(Object.entries(s).forEach(([a,u])=>{if(a in this.PARAMS.distortion){this.PARAMS.distortion[a]=u;let p=`u${a.charAt(0).toUpperCase()}${a.slice(1)}`;this.customPass?.uniforms[p]&&(this.customPass.uniforms[p].value=u)}}),this.PARAMS.distortion.preset=r)}onWindowResize(){this.aspect=window.innerWidth/window.innerHeight,this.camera&&this.backgroundCamera&&(this.camera.left=this.camera.right=this.backgroundCamera.left=this.backgroundCamera.right=null,[this.camera,this.backgroundCamera].forEach(r=>{r.left=-this.aspect,r.right=this.aspect,r.updateProjectionMatrix()})),this.renderer?.setSize(window.innerWidth,window.innerHeight),this.composer?.setSize(window.innerWidth,window.innerHeight),this.customPass&&(this.customPass.uniforms.uAspect.value=this.aspect),this.backgroundTexture&&this.createBackgroundMesh()}animate(r=0){!this.webglSupported||!this.renderer||!this.isSceneReady||!this.isTextureLoaded||(requestAnimationFrame(s=>this.animate(s)),this.updateMouseInterpolation(),this.customPass&&(this.customPass.uniforms.uTime.value=r*.001*this.PARAMS.distortion.animationSpeed),this.composer&&this.backgroundTexture?this.composer.render():this.renderer&&this.backgroundScene&&this.backgroundCamera&&(this.renderer.clear(),this.renderer.render(this.backgroundScene,this.backgroundCamera)))}destroy(){if(this.isSceneReady=!1,this.isTextureLoaded=!1,window.removeEventListener("resize",this.onWindowResize.bind(this)),this.boundOnMouseMove&&document.removeEventListener("mousemove",this.boundOnMouseMove),this.boundOnTouchMove&&document.removeEventListener("touchmove",this.boundOnTouchMove),this.boundOnTouchStart&&document.removeEventListener("touchstart",this.boundOnTouchStart),[this.startClickSound,this.preloaderSound,this.hoverSound,this.backgroundMusic].forEach(r=>{r&&(r.pause(),r.currentTime=0,r.src="",r.remove())}),this.startClickSound=null,this.preloaderSound=null,this.hoverSound=null,this.backgroundMusic=null,this.isBackgroundPlaying=!1,this.backgroundTexture){this.backgroundTexture.dispose();let r=this.backgroundTexture.image;r.pause(),r.src="",r.remove(),this.backgroundTexture=null}if(this.backgroundMesh){let r=this.backgroundMesh.material;Array.isArray(r)?r.forEach(s=>s.dispose()):r?.dispose(),this.backgroundScene?.remove(this.backgroundMesh),this.backgroundMesh=null}if(this.backgroundScene&&(this.backgroundScene.clear(),this.backgroundScene=null),this.composer&&(this.composer.passes.forEach(r=>{r instanceof Ye&&r.material?.dispose()}),this.composer=null),this.customPass&&(this.customPass.material?.dispose(),this.customPass=null),this.renderer){this.renderer.dispose(),this.renderer.forceContextLoss();let r=this.renderer.domElement;r.parentNode&&r.parentNode.removeChild(r),this.renderer=null}this.camera=null,this.backgroundCamera=null,this.controls&&(this.controls.dispose(),this.controls=null),this.pane&&(this.pane.element.remove(),this.pane=null,this.paneInitialized=!1,this.paneVisible=!1),this.cachedGeometry&&(this.cachedGeometry.dispose(),this.cachedGeometry=null),clearTimeout(this.mouseStopTimer),this.error$.complete(),this.fps$.complete()}static \u0275fac=function(s){return new(s||c)};static \u0275prov=sn({token:c,factory:c.\u0275fac,providedIn:"root"})};var wn=class c{constructor(r,s){this.http=r;this.config=s;this.apiUrl=s.apiUrl}apiUrl;feedback(r,s){return this.http.post(`${this.apiUrl}create/`,r,{headers:s,withCredentials:!0})}getCsrfToken(){return this.http.get(`${this.apiUrl}get-csrf-token/`,{withCredentials:!0,observe:"body"})}static \u0275fac=function(s){return new(s||c)(ii(un),ii(Lo))};static \u0275prov=sn({token:c,factory:c.\u0275fac,providedIn:"root"})};var Yu=["canvas"],Qu=["coursesList"],Xu=["modal"],Zu=["scrollDown"];function Ju(c,r){if(c&1&&(x(0,"div",88),V(1),P()),c&2){let s=te();A(),we(s.hoveredNavLabel)}}function ec(c,r){if(c&1){let s=ai();x(0,"li",89),Pe("focus",function(u){let p=ae(s).$index,v=te();return le(v.onFocus(u,p))})("click",function(u){let p=ae(s).$index,v=te();return le(v.onClick(u,p))})("pointermove",function(u){let p=ae(s).$index,v=te();return le(v.onPointerMove(u,p))}),x(1,"article")(2,"h3"),V(3),P(),ri(),W(4,"svg",90),oi(),x(5,"p",91),V(6),P(),W(7,"img",92),P()()}if(c&2){let s=r.$implicit,a=r.$index,u=te();Ne("data-active",u.isActive(a)),A(3),we(s.title),A(),X("innerHTML",s.svgIcon,qr),A(2),we(s.description),A(),X("src",s.imageUrl,Kr)("alt",s.title+" course image")}}function tc(c,r){if(c&1&&(x(0,"div",93),V(1),P()),c&2){let s=te();A(),an(" ",s.errorMessage," ")}}function nc(c,r){if(c&1&&(x(0,"div",94),V(1),P()),c&2){let s=te();A(),an(" ",s.successMessage," ")}}function ic(c,r){c&1&&(x(0,"div",95),V(1," \u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C \u0434\u0430\u043D\u043D\u044B\u0435... "),P())}function rc(c,r){if(c&1&&(x(0,"span"),V(1),P()),c&2){let s,a=te(2);A(),we((s=a.feedbackForm.get("actor"))==null||s.errors==null?null:s.errors.serverError)}}function oc(c,r){if(c&1&&(x(0,"div",96),oe(1,rc,2,1,"span",75),P()),c&2){let s,a=te();A(),X("ngIf",(s=a.feedbackForm.get("actor"))==null||s.errors==null?null:s.errors.serverError)}}function sc(c,r){if(c&1&&(x(0,"span"),V(1),P()),c&2){let s,a=te(2);A(),we((s=a.feedbackForm.get("name_person"))==null||s.errors==null?null:s.errors.serverError)}}function ac(c,r){if(c&1&&(x(0,"div",97),oe(1,sc,2,1,"span",75),P()),c&2){let s,a=te();A(),X("ngIf",(s=a.feedbackForm.get("name_person"))==null||s.errors==null?null:s.errors.serverError)}}function lc(c,r){c&1&&(x(0,"span"),V(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 email"),P())}function uc(c,r){if(c&1&&(x(0,"span"),V(1),P()),c&2){let s,a=te(2);A(),we((s=a.feedbackForm.get("email"))==null||s.errors==null?null:s.errors.serverError)}}function cc(c,r){if(c&1&&(x(0,"div",98),oe(1,lc,2,0,"span",75)(2,uc,2,1,"span",75),P()),c&2){let s,a,u=te();A(),X("ngIf",(s=u.feedbackForm.get("email"))==null||s.errors==null?null:s.errors.email),A(),X("ngIf",(a=u.feedbackForm.get("email"))==null||a.errors==null?null:a.errors.serverError)}}function dc(c,r){if(c&1&&(x(0,"span"),V(1),P()),c&2){let s,a=te(2);A(),we((s=a.feedbackForm.get("theme"))==null||s.errors==null?null:s.errors.serverError)}}function pc(c,r){if(c&1&&(x(0,"div",99),oe(1,dc,2,1,"span",75),P()),c&2){let s,a=te();A(),X("ngIf",(s=a.feedbackForm.get("theme"))==null||s.errors==null?null:s.errors.serverError)}}function hc(c,r){if(c&1&&(x(0,"span"),V(1),P()),c&2){let s,a=te(2);A(),we((s=a.feedbackForm.get("name_company"))==null||s.errors==null?null:s.errors.serverError)}}function mc(c,r){if(c&1&&(x(0,"div",100),oe(1,hc,2,1,"span",75),P()),c&2){let s,a=te();A(),X("ngIf",(s=a.feedbackForm.get("name_company"))==null||s.errors==null?null:s.errors.serverError)}}function vc(c,r){c&1&&(x(0,"span"),V(1,"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u0434\u043E\u043B\u0436\u043D\u043E \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0438\u043D\u0438\u043C\u0443\u043C 10 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"),P())}function fc(c,r){if(c&1&&(x(0,"span"),V(1),P()),c&2){let s,a=te(2);A(),we((s=a.feedbackForm.get("message"))==null||s.errors==null?null:s.errors.serverError)}}function gc(c,r){if(c&1&&(x(0,"div",101),oe(1,vc,2,0,"span",75)(2,fc,2,1,"span",75),P()),c&2){let s,a,u=te();A(),X("ngIf",(s=u.feedbackForm.get("message"))==null||s.errors==null?null:s.errors.minlength),A(),X("ngIf",(a=u.feedbackForm.get("message"))==null||a.errors==null?null:a.errors.serverError)}}function bc(c,r){if(c&1&&(x(0,"span"),V(1),P()),c&2){let s,a=te(2);A(),we((s=a.feedbackForm.get("agreement"))==null||s.errors==null?null:s.errors.serverError)}}function _c(c,r){if(c&1&&(x(0,"div",102),oe(1,bc,2,1,"span",75),P()),c&2){let s,a=te();A(),X("ngIf",(s=a.feedbackForm.get("agreement"))==null||s.errors==null?null:s.errors.serverError)}}function wc(c,r){c&1&&(x(0,"span"),V(1,"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"),P())}function xc(c,r){c&1&&(x(0,"span"),V(1,"\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C..."),P())}var Jo=class c{constructor(r,s,a,u,p,v,g,m){this.http=r;this.AdvertisersService=s;this.transitionService=a;this.renderer=u;this.elementRef=p;this.router=v;this.fb=g;this.feedbackSevice=m;this.initializeForm()}destroy$=new Lt;canvasRef;coursesList;modalRef;scrollDownRef;theme=Vt("system");activeIndex=Vt(0);modalState=Vt({isOpen:!1,isScrollTriggered:!1});form;submitted=!1;submitting=!1;errorMessage="";successMessage="";isModalOpen=ln(()=>this.modalState().isOpen);isScrollTriggered=ln(()=>this.modalState().isScrollTriggered);courses=Vt([{id:1,title:"PR-\u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440",description:"\u0421\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442 \u043F\u043E \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0447\u0435\u0441\u043A\u043E\u043C\u0443 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044E \u0440\u0435\u043F\u0443\u0442\u0430\u0446\u0438\u0435\u0439 \u0431\u0440\u0435\u043D\u0434\u043E\u0432 \u0432 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u043E\u043C \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u0435, \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u044F\u044E\u0449\u0438\u0439 \u0442\u0430\u043A\u0442\u0438\u043A\u0443 \u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044F \u0432 \u0421\u041C\u0418 \u0438 \u043D\u0430 \u0442\u0435\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0445 \u043C\u0435\u0440\u043E\u043F\u0440\u0438\u044F\u0442\u0438\u044F\u0445. \u0421\u043E\u0437\u0434\u0430\u0435\u0442 \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0441\u043D\u044B\u0435 \u043A\u043E\u043C\u043C\u0443\u043D\u0438\u043A\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438, \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0438\u0442 PR-\u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u0438 \u0432 \u0438\u0437\u043C\u0435\u0440\u0438\u043C\u044B\u0435 \u0431\u0438\u0437\u043D\u0435\u0441-\u043C\u0435\u0442\u0440\u0438\u043A\u0438 \u0438 \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u0442 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u043E\u043C \u043E\u0442 \u043F\u0440\u0435\u0441\u0441-\u0440\u0435\u043B\u0438\u0437\u043E\u0432 \u0434\u043E \u0438\u043D\u0442\u0435\u0440\u0432\u044C\u044E. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u043E\u043F\u044B\u0442 \u0440\u0430\u0431\u043E\u0442\u044B \u0441 \u044D\u0432\u0435\u043D\u0442\u0430\u043C\u0438, \u0448\u0438\u0440\u043E\u043A\u0430\u044F \u043C\u0435\u0434\u0438\u0430-\u0441\u0435\u0442\u044C \u0438 \u043D\u0430\u0432\u044B\u043A\u0438 \u043F\u0440\u0435\u0437\u0435\u043D\u0442\u0430\u0446\u0438\u0438 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432.",imageUrl:"images/carier/PR.jpg",watchUrl:"#",svgIcon:'<path d="M6 3h12l4 6-10 13L2 9Z" /><path d="M11 3 8 9l4 13 4-13-3-6" /><path d="M2 9h20" />'},{id:2,title:"\u0410\u043A\u043A\u0430\u0443\u043D\u0442-\u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440",description:"\u0421\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442 \u043F\u043E \u043F\u043E\u0438\u0441\u043A\u0443 \u0438 \u0432\u0437\u0430\u0438\u043C\u043E\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044E \u0441 \u0431\u043B\u043E\u0433\u0435\u0440\u0430\u043C\u0438 \u043D\u0430 \u0432\u0441\u0435\u0445 \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0445 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430\u0445 \u0434\u043B\u044F \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0435\u043A\u043B\u0430\u043C\u043D\u044B\u0445 \u043A\u0430\u043C\u043F\u0430\u043D\u0438\u0439 \u0438 \u0441\u043F\u0435\u0446\u043F\u0440\u043E\u0435\u043A\u0442\u043E\u0432. \u041F\u0440\u043E\u0432\u043E\u0434\u0438\u0442 \u043F\u0435\u0440\u0435\u0433\u043E\u0432\u043E\u0440\u044B \u0441 \u0438\u043D\u0444\u043B\u044E\u0435\u043D\u0441\u0435\u0440\u0430\u043C\u0438, \u0433\u043E\u0442\u043E\u0432\u0438\u0442 \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044B \u0434\u043B\u044F \u0440\u0430\u0437\u043C\u0435\u0449\u0435\u043D\u0438\u0439 \u0438 \u0430\u043D\u0430\u043B\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043A\u0430\u043C\u043F\u0430\u043D\u0438\u0439. \u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C \u043E\u043F\u044B\u0442 \u0432 \u044D\u0432\u0435\u043D\u0442\u0430\u0445, \u0440\u0430\u0431\u043E\u0442\u0435 \u0441 \u043C\u0435\u0434\u0438\u0430\u043F\u043B\u0430\u043D\u0430\u043C\u0438 \u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u0433\u0438\u0431\u0440\u0438\u0434\u043D\u044B\u0445 \u043E\u043D\u043B\u0430\u0439\u043D-\u043E\u0444\u043B\u0430\u0439\u043D \u043F\u0440\u043E\u0435\u043A\u0442\u043E\u0432.",imageUrl:"images/carier/ACCOUNT.jpg",watchUrl:"#",svgIcon:'<rect width="18" height="18" x="3" y="3" rx="2" /><path d="M7 3v18" /><path d="M3 7.5h4" /><path d="M3 12h18" /><path d="M3 16.5h4" /><path d="M17 3v18" /><path d="M17 7.5h4" /><path d="M17 16.5h4" />'},{id:3,title:"\u041C\u0430\u0440\u043A\u0435\u0442\u043E\u043B\u043E\u0433",description:"\u042D\u043A\u0441\u043F\u0435\u0440\u0442 \u043F\u043E \u043F\u0440\u043E\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044E \u0442\u043E\u0432\u0430\u0440\u043E\u0432 \u043D\u0430 \u043C\u0430\u0440\u043A\u0435\u0442\u043F\u043B\u0435\u0439\u0441\u0430\u0445 \u0441 \u0444\u043E\u043A\u0443\u0441\u043E\u043C \u043D\u0430 \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0434\u0430\u0436 \u0447\u0435\u0440\u0435\u0437 SEO-\u043E\u043F\u0442\u0438\u043C\u0438\u0437\u0430\u0446\u0438\u044E \u043A\u0430\u0440\u0442\u043E\u0447\u0435\u043A \u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0443 \u0440\u0435\u043A\u043B\u0430\u043C\u043D\u044B\u0445 \u043A\u0430\u043C\u043F\u0430\u043D\u0438\u0439. \u0410\u043D\u0430\u043B\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442\u043E\u0432, \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u0442 \u0431\u044E\u0434\u0436\u0435\u0442\u0430\u043C\u0438, \u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0435\u0442 \u043C\u0435\u0442\u0440\u0438\u043A\u0438 \u044D\u0444\u0444\u0435\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u0438 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u043E\u0441\u0442\u0430. \u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u0435\u043D \u043E\u043F\u044B\u0442 \u0440\u0430\u0431\u043E\u0442\u044B \u0441 \u0412\u0411, \u041E\u0437\u043E\u043D, \u042F\u043D\u0434\u0435\u043A\u0441\u041C\u0430\u0440\u043A\u0435\u0442 \u0438 \u0437\u043D\u0430\u043D\u0438\u0435 unit-\u044D\u043A\u043E\u043D\u043E\u043C\u0438\u043A\u0438.",imageUrl:"images/carier/MARKETER.jpg",watchUrl:"#",svgIcon:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" />'},{id:4,title:"\u041A\u0440\u0435\u0430\u0442\u043E\u0440",description:"\u0418\u0434\u0435\u043E\u043B\u043E\u0433 \u043D\u0435\u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u044B\u0445 \u043C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433\u043E\u0432\u044B\u0445 \u043C\u0435\u0445\u0430\u043D\u0438\u043A, \u0441\u043E\u0437\u0434\u0430\u044E\u0449\u0438\u0439 \u0432\u0438\u0440\u0430\u043B\u044C\u043D\u044B\u0435 \u043A\u0430\u043C\u043F\u0430\u043D\u0438\u0438, \u0438\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0435 \u043F\u0440\u043E\u0435\u043A\u0442\u044B \u0438 \u043A\u043E\u043B\u043B\u0430\u0431\u043E\u0440\u0430\u0446\u0438\u0438 \u0431\u0440\u0435\u043D\u0434\u043E\u0432. \u0420\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0435\u0442 \u0441\u043F\u0435\u0446\u043F\u0440\u043E\u0435\u043A\u0442\u044B \u0441 \u0431\u043B\u043E\u0433\u0435\u0440\u0430\u043C\u0438, \u0447\u0430\u0442-\u0431\u043E\u0442\u044B \u0438 \u043A\u0440\u0435\u0430\u0442\u0438\u0432\u043D\u044B\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u044F, \u0438\u043D\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u044F \u0438\u0434\u0435\u0438 \u0441 \u0431\u0438\u0437\u043D\u0435\u0441-\u0446\u0435\u043B\u044F\u043C\u0438 \u043A\u043B\u0438\u0435\u043D\u0442\u043E\u0432. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u043F\u043E\u0440\u0442\u0444\u043E\u043B\u0438\u043E \u0440\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043C\u0435\u0445\u0430\u043D\u0438\u043A \u0438 \u043E\u043F\u044B\u0442 \u0432 \u0438\u043D\u0444\u043B\u044E\u0435\u043D\u0441-\u043C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433\u0435.",imageUrl:"images/carier/CREATOR.jpg",watchUrl:"#",svgIcon:'<path d="M19 17V5a2 2 0 0 0-2-2H4" /><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3" />'},{id:5,title:"\u0420\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u0431\u0438\u0437\u043D\u0435\u0441\u0430",description:"\u041A\u043B\u044E\u0447\u0435\u0432\u043E\u0435 \u0437\u0432\u0435\u043D\u043E \u0432 \u043F\u0440\u0438\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0438 \u043D\u043E\u0432\u044B\u0445 \u043A\u043B\u0438\u0435\u043D\u0442\u043E\u0432 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0438 \u0434\u043E\u043B\u0433\u043E\u0441\u0440\u043E\u0447\u043D\u044B\u0445 \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u0441\u043A\u0438\u0445 \u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0439 \u0432 B2B-\u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0435. \u041F\u0440\u043E\u0432\u043E\u0434\u0438\u0442 \u0430\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0443 \u0440\u044B\u043D\u043A\u0430, \u0433\u043E\u0442\u043E\u0432\u0438\u0442 \u043F\u0440\u043E\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0438 \u0432\u0435\u0434\u0435\u0442 \u043F\u0435\u0440\u0435\u0433\u043E\u0432\u043E\u0440\u044B \u0441 \u043F\u043E\u0442\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u043C\u0438 \u043A\u043B\u0438\u0435\u043D\u0442\u0430\u043C\u0438. \u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B \u043D\u0430\u0432\u044B\u043A\u0438 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0431\u0438\u0437\u043D\u0435\u0441\u043E\u043C \u0438 \u0433\u043B\u0443\u0431\u043E\u043A\u043E\u0435 \u043F\u043E\u043D\u0438\u043C\u0430\u043D\u0438\u0435 \u0441\u043E\u0432\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433\u043E\u0432\u044B\u0445 \u0442\u0440\u0435\u043D\u0434\u043E\u0432.",imageUrl:"images/carier/BUSINESS.jpg",watchUrl:"#",svgIcon:'<circle cx="13.5" cy="6.5" r=".5" fill="currentColor" /><circle cx="17.5" cy="10.5" r=".5" fill="currentColor" /><circle cx="8.5" cy="7.5" r=".5" fill="currentColor" /><circle cx="6.5" cy="12.5" r=".5" fill="currentColor" /><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z" />'}]);themeOptions=[{label:"System",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}];gridColumns=ln(()=>{let r=this.courses(),s=this.activeIndex();return r.map((a,u)=>u===s?"10fr":"1fr").join(" ")});feedbackForm;subscriptions=[];scrollAnimationFrame=null;isTransitioning=!1;SCROLL_THRESHOLD_RATIO=1/3;hoveredNavLabel=null;isModalOpenedByScroll=!1;ngOnInit(){document.body.classList.add("loading-active"),this.AdvertisersService.init(this.canvasRef.nativeElement),this.subscriptions.push(this.AdvertisersService.error$.subscribe(r=>this.showError(r)),this.AdvertisersService.fps$.subscribe(r=>this.updateFps(r))),this.bindEvents(),this.initScrollObserver(),this.updateTheme(),setTimeout(()=>this.resyncArticleWidth(),0),this.getCsrfToken().subscribe(),this.AdvertisersService.progress$&&typeof this.AdvertisersService.progress$.subscribe=="function"&&this.subscriptions.push(this.AdvertisersService.progress$.subscribe(r=>{r>=100&&this.setBodyScroll(!0)}))}getCsrfToken(){return this.feedbackSevice.getCsrfToken().pipe(Ur(r=>Hr(r)))}onSubmit(){if(this.errorMessage="",this.successMessage="",this.clearFormErrors(),this.feedbackForm.invalid){console.log("\u274C Form is invalid"),this.handleFormValidationErrors();return}let r=this.prepareFeedbackData();this.getCsrfTokenForSubmission().then(s=>{s?this.submitFeedback(r,s):this.handleCsrfTokenError()}).catch(s=>{this.errorMessage="\u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043D\u043E\u0432\u0430",this.successMessage=""})}getCsrfTokenForSubmission(){return jr(this,null,function*(){try{let r=yield this.getCsrfToken().toPromise();return(r?.csrfToken||r?.csrf_token||r?.token)??null}catch{return null}})}submitFeedback(r,s){this.submitting=!0,this.errorMessage="",this.successMessage="";let a=new to({"Content-Type":"application/json","X-CSRFToken":s});this.feedbackSevice.feedback(r,a).subscribe({next:u=>{console.log("\u2705 Feedback sent successfully:",u),this.successMessage="\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u043B\u0438 \u0432\u0430\u0448\u0435 \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u0435!",this.router.navigate(["/"]),this.submitted=!1,this.submitting=!1,this.errorMessage="",this.feedbackForm.reset({actor:"",email:"",theme:"",name_company:"",agreement:!1,name_person:"",message:""}),setTimeout(()=>{this.successMessage=""},1e4)},error:u=>{console.error("\u274C Feedback submission error:",JSON.stringify(u,null,2)),this.submitting=!1,this.successMessage="",this.handleSubmissionError(u)}})}handleSubmissionError(r){if(console.error("\u274C Full error object:",r),this.successMessage="",this.clearFormErrors(),r.error){if(r.error.non_field_errors){this.errorMessage=r.error.non_field_errors.join(", "),this.showErrorMessage(this.errorMessage);return}else if(typeof r.error=="object"){let s=!1;if(Object.keys(r.error).forEach(a=>{let u=this.feedbackForm.get(a);u&&Array.isArray(r.error[a])&&(s=!0,u.setErrors({serverError:r.error[a].join(", ")}),u.markAsTouched())}),s){this.errorMessage="\u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u043F\u043E\u043B\u0435\u0439 \u0444\u043E\u0440\u043C\u044B",this.showErrorMessage(this.errorMessage);return}}else if(typeof r.error=="string"){this.errorMessage=r.error,this.showErrorMessage(this.errorMessage);return}}if(r.status)switch(r.status){case 429:this.errorMessage="\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u043D\u043E\u0433\u043E \u0437\u0430\u043F\u0440\u043E\u0441\u043E\u0432. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0441\u043D\u043E\u0432\u0430 \u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043C\u0438\u043D\u0443\u0442.";break;case 400:this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u0432 \u0434\u0430\u043D\u043D\u044B\u0445 \u0444\u043E\u0440\u043C\u044B. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0432\u0435\u0434\u0451\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435.";break;case 403:this.errorMessage="\u0414\u043E\u0441\u0442\u0443\u043F \u0437\u0430\u043F\u0440\u0435\u0449\u0451\u043D. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443.";break;case 500:this.errorMessage="\u0412\u043D\u0443\u0442\u0440\u0435\u043D\u043D\u044F\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.";break;default:this.errorMessage=`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (${r.status}). \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.`}else this.errorMessage="\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0444\u043E\u0440\u043C\u044B. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.";this.showErrorMessage(this.errorMessage)}showErrorMessage(r){console.log("\u{1F6A8} Showing error message:",r),this.successMessage="",this.errorMessage=r;let s=document.querySelector(".error-message");s&&(s.classList.add("show-error"),s.scrollIntoView({behavior:"smooth",block:"nearest"})),setTimeout(()=>{this.errorMessage="",s&&s.classList.remove("show-error")},15e3)}clearFormErrors(){Object.keys(this.feedbackForm.controls).forEach(r=>{let s=this.feedbackForm.get(r);if(s&&s.errors?.serverError){let a=Tt({},s.errors);delete a.serverError;let u=Object.keys(a).length>0;s.setErrors(u?a:null)}})}handleCsrfTokenError(){confirm("\u0422\u043E\u043A\u0435\u043D \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D. \u0425\u043E\u0442\u0438\u0442\u0435 \u043F\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443?")&&window.location.reload()}prepareFeedbackData(){return{actor:this.feedbackForm.value.actor||"",theme:this.feedbackForm.value.theme||"",email:this.feedbackForm.value.email||"",name_company:this.feedbackForm.value.name_company||"",name_person:this.feedbackForm.value.name_person||"",message:this.feedbackForm.value.message||"",user_agent:navigator.userAgent,agreement:this.feedbackForm.value.agreement||!1,updated_at:new Date().toISOString()}}handleFormValidationErrors(){let r=[];Object.keys(this.feedbackForm.controls).forEach(s=>{let a=this.feedbackForm.get(s);if(a&&a.invalid){let u=this.getFieldErrorMessage(s);u&&r.push(u)}}),this.markFormGroupTouched(),r.length>0?this.errorMessage="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435":this.errorMessage="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",this.showErrorMessage(this.errorMessage)}testErrorHandling(){this.feedbackForm.get("email")?.setValue("invalid-email"),this.feedbackForm.get("name_person")?.setValue(""),this.onSubmit(),setTimeout(()=>{console.log("Testing server errors..."),this.handleSubmissionError({status:429,error:"Too many requests"})},2e3),setTimeout(()=>{console.log("Testing 400 error..."),this.handleSubmissionError({status:400,error:"Bad request"})},4e3)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.scrollAnimationFrame&&(cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=null);try{this.AdvertisersService.destroy()}catch{}if(this.subscriptions.forEach(r=>r.unsubscribe()),this.subscriptions=[],this.closeModal(),this.canvasRef?.nativeElement){let r=this.canvasRef.nativeElement,s=r.getContext("webgl")||r.getContext("webgl2");if(s){let a=s.getExtension("WEBGL_lose_context");a&&a.loseContext()}else console.warn("No WebGL context found on canvas");try{this.renderer.removeChild(this.elementRef.nativeElement,r)}catch(a){console.error("Error removing canvas:",a)}}else console.warn("CanvasRef is undefined");this.canvasRef=null,this.coursesList=null,this.modalRef=null,this.scrollDownRef=null}onScroll(r){this.scrollAnimationFrame&&cancelAnimationFrame(this.scrollAnimationFrame),this.scrollAnimationFrame=requestAnimationFrame(()=>{this.handleScrollAnimation()})}onWindowResize(){this.resyncArticleWidth()}onKeyDown(r){(r.key==="Escape"||r.keyCode===27)&&this.closeModal()}onThemeChange(r){this.theme.set(r),"startViewTransition"in document?document.startViewTransition(()=>this.updateTheme()):this.updateTheme()}setActiveItem(r,s){r.target.closest("li")&&(this.activeIndex.set(s),this.updateGridColumns())}onFocus(r,s){this.setActiveItem(r,s)}onClick(r,s){this.setActiveItem(r,s)}onPointerMove(r,s){this.setActiveItem(r,s)}trackByCourse(r,s){return s.id}isActive(r){return this.activeIndex()===r}onModalButtonClick(){this.openModal()}onCloseButtonClick(){this.closeModal()}onSignUpClick(){}initializeForm(){this.feedbackForm=this.fb.nonNullable.group({actor:["",[xe.required]],email:["",[xe.required,xe.email]],theme:["",[xe.required,xe.minLength(3)]],name_company:[""],agreement:[!1,xe.required],name_person:["",[xe.required,xe.minLength(2)]],message:["",[xe.required,xe.minLength(10)]]})}isFieldInvalid(r){let s=this.feedbackForm.get(r);return!!(s&&s.invalid&&(s.dirty||s.touched))}getFieldErrorMessage(r){let s=this.feedbackForm.get(r);if(!s||!s.errors)return"";let a=s.errors;return a.serverError?a.serverError:a.email?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 email":a.minlength?`\u041C\u0438\u043D\u0438\u043C\u0443\u043C ${a.minlength.requiredLength} \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432`:"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"}openModal(){this.modalState.set(on(Tt({},this.modalState()),{isOpen:!0})),this.setBodyOverflow("hidden")}closeModal(){this.modalState.set(on(Tt({},this.modalState()),{isOpen:!1})),this.setBodyOverflow("initial")}hideScrollDown(){this.scrollDownRef?.nativeElement&&this.renderer.setStyle(this.scrollDownRef.nativeElement,"display","none")}setBodyOverflow(r){this.renderer.setStyle(document.body,"overflow",r)}markFormGroupTouched(){Object.keys(this.feedbackForm.controls).forEach(r=>{let s=this.feedbackForm.get(r);s&&s.markAsTouched()})}get emailControl(){return this.feedbackForm.get("email")}get isEmailInvalid(){let r=this.emailControl;return!!(r&&r.invalid&&r.touched)}updateTheme(){this.renderer.setAttribute(document.documentElement,"data-theme",this.theme())}updateGridColumns(){this.coursesList&&this.renderer.setStyle(this.coursesList.nativeElement,"grid-template-columns",this.gridColumns())}resyncArticleWidth(){if(!this.coursesList)return;let r=this.coursesList.nativeElement.querySelectorAll("li"),s=Math.max(...Array.from(r).map(a=>a.offsetWidth));this.renderer.setStyle(this.coursesList.nativeElement,"--article-width",`${s}px`)}initScrollObserver(){let r=document.querySelector(".content-section");if(!r)return;new IntersectionObserver(a=>{a.forEach(u=>{u.isIntersecting&&u.intersectionRatio>.95&&!this.isTransitioning&&(this.triggerContentTransition(),this.modalState.set(on(Tt({},this.modalState()),{isScrollTriggered:!0,isOpen:!0})),this.hideScrollDown(),this.setBodyOverflow("hidden"))})},{threshold:.95,rootMargin:"0px 0px -10% 0px"}).observe(r)}handleScrollAnimation(){let r=window.scrollY,s=window.innerHeight,a=document.documentElement.scrollHeight,u=r/(a-s),p=.3,v=.7,g=1;if(u>p){let b=(u-p)/(v-p);g=Math.max(0,1-b)}let m=document.querySelectorAll(".text-element"),h=document.getElementById("canvas"),C=document.querySelector(".container");if(m.forEach(b=>{b.style.opacity=g.toString(),b.style.transform=`translateY(${(1-g)*30}px)`}),h){let b=Math.max(0,g);h.style.opacity=b.toString()}if(C){let b=(1-g)*10;C.style.filter=`blur(${b}px)`}}triggerContentTransition(){if(this.isTransitioning)return;this.isTransitioning=!0;let r=document.querySelector(".content-section");if(r){r.classList.add("active");let s=document.getElementById("hoverSound");s&&(s.currentTime=0,s.play().catch(()=>{})),setTimeout(()=>{this.isTransitioning=!1},1e3)}}bindEvents(){let r=document.getElementById("enableBtn");r&&(r.onclick=()=>this.AdvertisersService.onStartClick())}showError(r){let s=document.getElementById("errorMessage");s&&(s.textContent=r,s.style.display="block",setTimeout(()=>s.style.display="block",5e3))}updateFps(r){let s=document.getElementById("fpsCounter");s&&(s.textContent=r.toString())}goToTest(r){this.transitionService.goWithSmoke("/flight",r)}scrollToContent(){let r=document.querySelector(".content-section");r&&r.scrollIntoView({behavior:"smooth",block:"start"})}setBodyScroll(r){r?document.body.classList.remove("loading-active"):document.body.classList.add("loading-active")}get todayMarsDate(){let r=new Date,s=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),u=String(r.getDate()).padStart(2,"0");return`${s}.${a}.${u}`}onNavMouseEnter(r){this.hoveredNavLabel=r}onNavMouseLeave(){this.hoveredNavLabel=null}checkScrollToBottomAndOpenModal(){let r=window.scrollY+window.innerHeight,s=document.documentElement.scrollHeight;r>=s-2&&!this.isModalOpenedByScroll&&!this.isModalOpen()&&(this.isModalOpenedByScroll=!0,this.openModal()),r<s-50&&this.isModalOpenedByScroll&&(this.isModalOpenedByScroll=!1)}static \u0275fac=function(s){return new(s||c)(Ae(un),Ae(_n),Ae(To),Ae(Gr),Ae($r),Ae(no),Ae(fo),Ae(wn))};static \u0275cmp=Yr({type:c,selectors:[["app-advertisers"]],viewQuery:function(s,a){if(s&1&&(Rt(Yu,7),Rt(Qu,7),Rt(Xu,7),Rt(Zu,7)),s&2){let u;Dt(u=It())&&(a.canvasRef=u.first),Dt(u=It())&&(a.coursesList=u.first),Dt(u=It())&&(a.modalRef=u.first),Dt(u=It())&&(a.scrollDownRef=u.first)}},hostBindings:function(s,a){s&1&&Pe("scroll",function(p){return a.onScroll(p)},si)("resize",function(){return a.onWindowResize()},si)("keydown",function(p){return a.onKeyDown(p)},Wr)},decls:148,vars:50,consts:[["canvas",""],["coursesList",""],["modal",""],["id","errorMessage",1,"error-message"],["id","fallbackBg",1,"fallback-bg"],["routerLink","/advertisers",1,"text-element","nav-links","banner"],["src","images/logo_platforma_main.svg","alt","logo_platforma",1,"logo_platforma"],[1,"audio-enable"],["id","enableBtn",1,"enable-button"],["id","preloader",1,"preloader"],["id","counter"],["id","canvas"],[1,"container"],[1,"text-element","nav-links"],[2,"cursor","pointer",3,"click"],["href","#",3,"click","mouseenter","mouseleave"],[1,"feedback-button",3,"click"],["class","nav-hint",4,"ngIf"],[1,"text-element","footer"],[2,"opacity","0.7","font-size","0.6rem"],[1,"text-element","division"],["id","fpsCounter"],[1,"text-element","signal"],[1,"text-element","central-text"],[1,"scroll-indicator"],[1,"scroll-arrow"],[1,"scroll-text"],[1,"content-section"],["id","carier",1,"container"],[1,"fluid"],[1,"courses-list"],["tabindex","0"],[1,"modal-section"],[1,"container_1"],[1,"modal"],[1,"modal-container"],[1,"modal-left"],[1,"modal-title"],["class","error-message","style","color: red; margin-bottom: 15px; padding: 10px; background: #fee; border: 1px solid #fcc; border-radius: 4px;",4,"ngIf"],["class","error-message","style","color: green; margin-bottom: 15px; padding: 10px; background: rgb(255, 255, 255); border: 1px solid rgb(255, 255, 255); border-radius: 4px;",4,"ngIf"],["class","submitting-message","style","color: #007bff; margin-bottom: 15px; padding: 10px; background: #e7f3ff; border: 1px solid #b3d9ff; border-radius: 4px;",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"modal-desc"],[1,"input-block-items"],[1,"input-block-1"],["id","radio-1","type","radio","name","actor","value","advertiser","formControlName","actor"],["for","radio-1"],["id","radio-2","type","radio","name","actor","value","author","formControlName","actor"],["for","radio-2"],["id","radio-3","type","radio","name","actor","value","question","formControlName","actor"],["for","radio-3"],["class","error-message","style","color: red; font-size: 14px; margin-top: 5px;","role","alert",4,"ngIf"],[1,"form__input-block-items"],[1,"input-block"],["for","name_person",1,"input-label"],["type","text","name","name_person","id","name_person","placeholder","\u0412\u0430\u0448\u0435 \u0438\u043C\u044F","formControlName","name_person","autocomplete","name","required",""],["id","name-person-error","class","error-message","style","color: red; font-size: 14px; margin-top: 5px;","role","alert",4,"ngIf"],["for","email",1,"input-label"],["type","email","name","email","id","email","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 Email","formControlName","email","autocomplete","email","required",""],["id","email-error","class","error-message","style","color: red; font-size: 14px; margin-top: 5px;","role","alert",4,"ngIf"],["for","theme",1,"input-label"],["type","text","name","theme","id","theme","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043C\u0443","formControlName","theme","autocomplete","off","required",""],["id","theme-error","class","error-message","style","color: red; font-size: 14px; margin-top: 5px;","role","alert",4,"ngIf"],["for","name_company",1,"input-label"],["type","text","name","name_company","id","name_company","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","formControlName","name_company","autocomplete","organization"],["id","company-error","class","error-message","style","color: red; font-size: 14px; margin-top: 5px;","role","alert",4,"ngIf"],["for","message",1,"input-label"],["name","message","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435","id","message","formControlName","message","autocomplete","off","required","",1,"textarea",2,"max-width","400px","max-height","200px"],["id","message-error","class","error-message","style","color: red; font-size: 14px; margin-top: 5px;","role","alert",4,"ngIf"],[1,"personal-checkbox"],["type","checkbox","name","agreement","id","agreement","formControlName","agreement","autocomplete","off","required",""],["for","agreement"],["id","agreement-error","class","error-message","style","color: red; font-size: 14px; margin-top: 5px;","role","alert",4,"ngIf"],[1,"modal-buttons"],["type","submit",1,"input-button",3,"disabled"],[4,"ngIf"],[1,"modal-right"],["src","/images/carier/BUSINESS.jpg","alt","Login background image","loading","lazy"],["type","button","aria-label","Close modal",1,"icon-button","close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 50 50"],["d","M 25 3 C 12.86158 3 3 12.86158 3 25 C 3 37.13842 12.86158 47 25 47 C 37.13842 47 47 37.13842 47 25 C 47 12.86158 37.13842 3 25 3 z M 25 5 C 36.05754 5 45 13.94246 45 25 C 45 36.05754 36.05754 45 25 45 C 13.94246 45 5 36.05754 5 25 C 5 13.94246 13.94246 5 25 5 z M 16.990234 15.990234 A 1.0001 1.0001 0 0 0 16.292969 17.707031 L 23.585938 25 L 16.292969 32.292969 A 1.0001 1.0001 0 1 0 17.707031 33.707031 L 25 26.414062 L 32.292969 33.707031 A 1.0001 1.0001 0 1 0 33.707031 32.292969 L 26.414062 25 L 33.707031 17.707031 A 1.0001 1.0001 0 0 0 32.980469 15.990234 A 1.0001 1.0001 0 0 0 32.292969 16.292969 L 25 23.585938 L 17.707031 16.292969 A 1.0001 1.0001 0 0 0 16.990234 15.990234 z"],["id","startClickSound","preload","auto"],["src","/images/advertisers/audio/preloader-2s.mp3","type","audio/mpeg"],["id","preloaderSound","preload","auto"],["src","/images/advertisers/audio/preloader-3s.mp3","type","audio/mpeg"],["id","hoverSound","preload","auto"],["id","backgroundMusic","loop","","preload","auto"],["src","/images/advertisers/audio/music-bg.mp3","type","audio/mpeg"],[1,"nav-hint"],["tabindex","0",3,"focus","click","pointermove"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","fill","none",3,"innerHTML"],[1,"text-element__p"],[1,"image-item",3,"src","alt"],[1,"error-message",2,"color","red","margin-bottom","15px","padding","10px","background","#fee","border","1px solid #fcc","border-radius","4px"],[1,"error-message",2,"color","green","margin-bottom","15px","padding","10px","background","rgb(255, 255, 255)","border","1px solid rgb(255, 255, 255)","border-radius","4px"],[1,"submitting-message",2,"color","#007bff","margin-bottom","15px","padding","10px","background","#e7f3ff","border","1px solid #b3d9ff","border-radius","4px"],["role","alert",1,"error-message",2,"color","red","font-size","14px","margin-top","5px"],["id","name-person-error","role","alert",1,"error-message",2,"color","red","font-size","14px","margin-top","5px"],["id","email-error","role","alert",1,"error-message",2,"color","red","font-size","14px","margin-top","5px"],["id","theme-error","role","alert",1,"error-message",2,"color","red","font-size","14px","margin-top","5px"],["id","company-error","role","alert",1,"error-message",2,"color","red","font-size","14px","margin-top","5px"],["id","message-error","role","alert",1,"error-message",2,"color","red","font-size","14px","margin-top","5px"],["id","agreement-error","role","alert",1,"error-message",2,"color","red","font-size","14px","margin-top","5px"]],template:function(s,a){if(s&1){let u=ai();W(0,"div",3)(1,"div",4),x(2,"div",5),W(3,"img",6),P(),x(4,"div",7)(5,"p"),V(6,"PLATFORMA COMMUNITY"),P(),x(7,"button",8),V(8,"\u0417\u0410\u041F\u0423\u0421\u0422\u0418\u0422\u042C \u041E\u0411\u041E\u0420\u0423\u0414\u041E\u0412\u0410\u041D\u0418\u0415"),P()(),x(9,"div",9)(10,"span",10),V(11,"[00]"),P()(),W(12,"canvas",11,0),x(14,"div",12)(15,"nav",13)(16,"a",14),Pe("click",function(){return ae(u),le(a.goToTest("/cosmos"))}),V(17,"_\u0412 \u041A\u041E\u0421\u041C\u041E\u0421"),P(),x(18,"a",15),Pe("click",function(){return ae(u),le(a.goToTest("/earth"))})("mouseenter",function(){return ae(u),le(a.onNavMouseEnter("\u0417\u0435\u043C\u043B\u044F"))})("mouseleave",function(){return ae(u),le(a.onNavMouseLeave())}),V(19,"_\u0410\u0412\u0422\u041E\u0420\u0410\u041C \u0418 \u0420\u0415\u041A\u041B\u0410\u041C\u041E\u0414\u0410\u0422\u0415\u041B\u042F\u041C"),P(),x(20,"a",15),Pe("click",function(){return ae(u),le(a.goToTest("/mars"))})("mouseenter",function(){return ae(u),le(a.onNavMouseEnter("\u041C\u0430\u0440\u0441"))})("mouseleave",function(){return ae(u),le(a.onNavMouseLeave())}),V(21,"_\u041F\u041E\u041C\u041E\u0413\u0410\u0415\u041C \u0418 \u041F\u041E\u0414\u0414\u0415\u0420\u0416\u0418\u0412\u0410\u0415\u041C"),P(),x(22,"a",15),Pe("click",function(){return ae(u),le(a.goToTest("/moon"))})("mouseenter",function(){return ae(u),le(a.onNavMouseEnter("\u041B\u0443\u043D\u0430"))})("mouseleave",function(){return ae(u),le(a.onNavMouseLeave())}),V(23,"_\u0418\u0421\u0422\u041E\u0420\u0418\u042F"),P(),x(24,"a",16),Pe("click",function(){return ae(u),le(a.onModalButtonClick())}),V(25,"_\u041E\u0411\u0420\u0410\u0422\u041D\u0410\u042F \u0421\u0412\u042F\u0417\u042C"),P()(),oe(26,Ju,2,1,"div",17),x(27,"div",18)(28,"p"),V(29,"Err: [200 - \u0421\u0418\u0413\u041D\u0410\u041B \u041F\u041E\u041B\u0423\u0427\u0415\u041D]"),W(30,"br"),V(31),W(32,"br"),x(33,"span",19),V(34,"\u041D\u0410\u0416\u041C\u0418\u0415\u0422 'H' \u0414\u041B\u042F \u041D\u0410\u0421\u0422\u0420\u041E\u0419\u041A\u0418 \u041E\u0411\u041E\u0420\u0423\u0414\u041E\u0412\u0410\u041D\u0418\u042F"),P()()(),x(35,"p",20),V(36," \u0421\u041A\u041E\u0420\u041E\u0421\u0422\u042C: "),W(37,"span",21),V(38,"0 \u041C/\u0421"),W(39,"br"),V(40," \u0421\u041E\u0421\u0422\u041E\u042F\u041D\u0418\u0415: \u0412 \u041A\u041E\u041D\u0422\u0420\u041E\u041B\u0415"),W(41,"br"),V(42," \u0423\u0420\u041E\u0412\u0415\u041D\u042C \u0414\u041E\u0421\u0422\u0423\u041F\u0410: \u041E\u0413\u0420\u0410\u041D\u0418\u0427\u0415\u041D\u041D\u042B\u0419."),W(43,"br"),V(44," \u0422\u0420\u0410\u0421\u0421\u0418\u0420\u041E\u0412\u041A\u0410 \u041D\u0410\u0427\u0410\u0422\u0410: \u0418\u0421\u0422\u041E\u0427\u041D\u0418\u041A \u041D\u0415\u0418\u0417\u0412\u0415\u0421\u0422\u0415\u041D. "),W(45,"br")(46,"br")(47,"br")(48,"br")(49,"br")(50,"br"),P(),x(51,"p",22),V(52," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 "),P(),x(53,"div",23),V(54," \u0418\u0441\u043A\u0443\u0441\u0441\u0442\u0432\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u0438 \u0434\u043E\u043D\u0435\u0441\u0435\u043D\u0438\u044F \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0446\u0435\u043D\u043D\u043E\u0441\u0442\u0435\u0439 \u0431\u0440\u0435\u043D\u0434\u0430"),W(55,"br"),V(56," \u0434\u043E \u0430\u0443\u0434\u0438\u0442\u043E\u0440\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 \u043B\u044E\u0431\u044B\u0435 \u043A\u0430\u043D\u0430\u043B\u044B \u043A\u043E\u043C\u043C\u0443\u043D\u0438\u043A\u0430\u0446\u0438\u0438 "),P(),x(57,"div",24)(58,"div",25),V(59,"\u2193"),P(),x(60,"span",26),V(61,"\u0421\u041A\u0420\u041E\u041B\u041B \u0414\u041B\u042F \u041F\u0420\u041E\u0414\u041E\u041B\u0416\u0415\u041D\u0418\u042F"),P()()(),x(62,"section",27)(63,"div",28)(64,"h1",29),V(65,"\u041A\u0430\u0440\u044C\u0435\u0440\u0430"),P(),x(66,"p"),V(67," \u041D\u0430\u0448\u0430 \u043A\u043E\u043C\u0430\u043D\u0434\u0430 \u043E\u0431\u044A\u0435\u0434\u0438\u043D\u044F\u0435\u0442 \u043F\u0440\u043E\u0444\u0435\u0441\u0441\u0438\u043E\u043D\u0430\u043B\u043E\u0432 \u0438\u0437 \u0440\u0430\u0437\u043D\u044B\u0445 \u043E\u0431\u043B\u0430\u0441\u0442\u0435\u0439 \u0446\u0438\u0444\u0440\u043E\u0432\u043E\u0433\u043E \u043C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433\u0430 \u0438 \u043A\u043E\u043C\u043C\u0443\u043D\u0438\u043A\u0430\u0446\u0438\u0439, \u0441\u043E\u0437\u0434\u0430\u0432\u0430\u044F \u0441\u0438\u043D\u0435\u0440\u0433\u0438\u044E \u0434\u043B\u044F \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0441\u043D\u043E\u0433\u043E \u043F\u0440\u043E\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F \u0431\u0440\u0435\u043D\u0434\u043E\u0432. \u0412 \u0441\u0435\u043A\u0446\u0438\u0438 \u043A\u0430\u0440\u044C\u0435\u0440\u044B \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u044B \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442\u044B \u043F\u043E\u043B\u043D\u043E\u0433\u043E \u0446\u0438\u043A\u043B\u0430 \u2014 \u043E\u0442 PR-\u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440\u043E\u0432 \u0438 \u0430\u043A\u043A\u0430\u0443\u043D\u0442-\u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440\u043E\u0432 \u0434\u043E \u0438\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0440\u043A\u0435\u0442\u043E\u043B\u043E\u0433\u043E\u0432 \u043C\u0430\u0440\u043A\u0435\u0442\u043F\u043B\u0435\u0439\u0441\u043E\u0432 \u0438 \u043A\u0440\u0435\u0430\u0442\u043E\u0440\u043E\u0432 \u0438\u043D\u043D\u043E\u0432\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0445 \u043F\u0440\u043E\u0435\u043A\u0442\u043E\u0432. "),P(),x(68,"ul",30,1),Qr(70,ec,8,6,"li",31,a.trackByCourse,!0),P()()(),x(72,"section",32),W(73,"div",33),x(74,"div",34,2)(76,"div",35)(77,"div",36)(78,"h1",37),V(79,"\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C"),P(),oe(80,tc,2,1,"div",38)(81,nc,2,1,"div",39)(82,ic,2,0,"div",40),x(83,"form",41),Pe("ngSubmit",function(){return ae(u),le(a.onSubmit())}),x(84,"div",42)(85,"div",43)(86,"div",44),W(87,"input",45),x(88,"label",46),V(89,"\u042F \u0420\u0435\u043A\u043B\u0430\u043C\u043E\u0434\u0430\u0442\u0435\u043B\u044C"),P()(),x(90,"div",44),W(91,"input",47),x(92,"label",48),V(93,"\u042F \u0410\u0432\u0442\u043E\u0440"),P()()(),x(94,"div",44),W(95,"input",49),x(96,"label",50),V(97,"\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0443\u0442\u043E\u0447\u043D\u0435\u043D\u0438\u0435"),P()(),oe(98,oc,2,1,"div",51),P(),x(99,"div",52)(100,"div",53)(101,"label",54),V(102,"\u0412\u0430\u0448\u0435 \u0438\u043C\u044F"),P(),W(103,"input",55),oe(104,ac,2,1,"div",56),P(),x(105,"div",53)(106,"label",57),V(107,"Email"),P(),W(108,"input",58),oe(109,cc,3,2,"div",59),P()(),x(110,"div",53)(111,"label",60),V(112,"\u0422\u0435\u043C\u0430 \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u044F"),P(),W(113,"input",61),oe(114,pc,2,1,"div",62),P(),x(115,"div",53)(116,"label",63),V(117,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438"),P(),W(118,"input",64),oe(119,mc,2,1,"div",65),P(),x(120,"div",53)(121,"label",66),V(122,"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435"),P(),W(123,"textarea",67),oe(124,gc,3,2,"div",68),P(),x(125,"div",53)(126,"div",69),W(127,"input",70),x(128,"label",71),V(129,"\u0421\u043E\u0433\u043B\u0430\u0441\u0438\u0435 \u043D\u0430 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0443 \u0434\u0430\u043D\u043D\u044B\u0445"),P()(),oe(130,_c,2,1,"div",72),P(),x(131,"div",73)(132,"button",74),oe(133,wc,2,0,"span",75)(134,xc,2,0,"span",75),P()()()(),x(135,"div",76),W(136,"img",77),P(),x(137,"button",78),Pe("click",function(){return ae(u),le(a.onCloseButtonClick())}),ri(),x(138,"svg",79),W(139,"path",80),P()()()()(),oi(),x(140,"audio",81),W(141,"source",82),P(),x(142,"audio",83),W(143,"source",84),P(),x(144,"audio",85),W(145,"source",82),P(),x(146,"audio",86),W(147,"source",87),P()}s&2&&(A(26),X("ngIf",a.hoveredNavLabel),A(5),an(" \u0420\u0410\u041A\u0415\u0422\u0410: ",a.todayMarsDate),A(37),Zr("grid-template-columns",a.gridColumns()),A(2),Xr(a.courses()),A(4),_e("is-open",a.isModalOpen()),A(6),X("ngIf",a.errorMessage),A(),X("ngIf",a.successMessage),A(),X("ngIf",a.submitting),A(),X("formGroup",a.feedbackForm),A(3),_e("error",a.isFieldInvalid("actor")),A(4),_e("error",a.isFieldInvalid("actor")),A(4),_e("error",a.isFieldInvalid("actor")),A(4),X("ngIf",a.isFieldInvalid("actor")),A(2),_e("error",a.isFieldInvalid("name_person")),A(3),Ne("aria-describedby",a.isFieldInvalid("name_person")?"name-person-error":null)("aria-invalid",a.isFieldInvalid("name_person")),A(),X("ngIf",a.isFieldInvalid("name_person")),A(),_e("error",a.isFieldInvalid("email")),A(3),Ne("aria-describedby",a.isFieldInvalid("email")?"email-error":null)("aria-invalid",a.isFieldInvalid("email")),A(),X("ngIf",a.isFieldInvalid("email")),A(),_e("error",a.isFieldInvalid("theme")),A(3),Ne("aria-describedby",a.isFieldInvalid("theme")?"theme-error":null)("aria-invalid",a.isFieldInvalid("theme")),A(),X("ngIf",a.isFieldInvalid("theme")),A(),_e("error",a.isFieldInvalid("name_company")),A(3),Ne("aria-describedby",a.isFieldInvalid("name_company")?"company-error":null)("aria-invalid",a.isFieldInvalid("name_company")),A(),X("ngIf",a.isFieldInvalid("name_company")),A(),_e("error",a.isFieldInvalid("message")),A(3),Ne("aria-describedby",a.isFieldInvalid("message")?"message-error":null)("aria-invalid",a.isFieldInvalid("message")),A(),X("ngIf",a.isFieldInvalid("message")),A(),_e("error",a.isFieldInvalid("agreement")),A(2),Ne("aria-describedby",a.isFieldInvalid("agreement")?"agreement-error":null)("aria-invalid",a.isFieldInvalid("agreement")),A(3),X("ngIf",a.isFieldInvalid("agreement")),A(2),X("disabled",a.submitting),A(),X("ngIf",!a.submitting),A(),X("ngIf",a.submitting))},dependencies:[io,ro,eo,Jr,go,uo,so,oo,co,ao,lo,mo,vo,bo,po,ho],styles:['body[_ngcontent-%COMP%]{overflow:hidden!important}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{margin:0;padding:0;box-sizing:border-box}[_ngcontent-%COMP%]:root{--color--background: rgb(60, 60, 60);--color--foreground: #ffffff;--color--accent: rgb(170, 170, 170);--font-primary: "PPSupplyMono", "Courier New", monospace;--font-secondary: "PPSupplyMono", "Courier New", monospace;--margin: 32px;--gutter: 16px}html[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow:hidden}body[_ngcontent-%COMP%]{overflow:hidden;margin:0;padding:0;font-family:var(--font-primary);background:radial-gradient(circle at 10% 20%,#e6e6e6,#b4b4b4,#646464 90%);color:#fff;letter-spacing:-.03em;position:relative}body[_ngcontent-%COMP%]:before{content:"";position:fixed;top:-50%;left:-50%;width:200%;height:200%;background-size:300px 300px;animation:_ngcontent-%COMP%_noise-animation .3s steps(5) infinite;opacity:.9;will-change:transform;z-index:100;pointer-events:none}@keyframes _ngcontent-%COMP%_noise-animation{0%{transform:translate(0)}10%{transform:translate(-2%,-3%)}20%{transform:translate(-4%,2%)}30%{transform:translate(2%,-4%)}40%{transform:translate(-2%,5%)}50%{transform:translate(-4%,2%)}60%{transform:translate(3%)}70%{transform:translateY(3%)}80%{transform:translate(-3%)}90%{transform:translate(2%,2%)}to{transform:translate(1%)}}#canvas[_ngcontent-%COMP%]{width:100%;height:100%;display:block;position:fixed;top:0;left:0;background:transparent;z-index:1;pointer-events:none;opacity:0;transition:opacity .5s ease-out;overflow:hidden}#canvas.ready[_ngcontent-%COMP%]{opacity:.9}.fallback-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-image:url(/images/advertisers/image_bg.jpg);background-size:cover;background-position:center;z-index:0;opacity:0;transition:opacity 1s ease-out}.fallback-bg.active[_ngcontent-%COMP%]{opacity:1}.container[_ngcontent-%COMP%]{display:flex;width:100%;min-height:100vh;padding:var(--gutter);position:relative;z-index:10;transition:filter .3s ease-out}.scroll-indicator[_ngcontent-%COMP%]{position:fixed;bottom:50px;left:50%;transform:translate(-50%);display:flex;flex-direction:column;align-items:center;gap:10px;z-index:15;opacity:.8;animation:_ngcontent-%COMP%_scroll-pulse 2s ease-in-out infinite}.scroll-indicator[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]{font-size:24px;color:#fff;animation:_ngcontent-%COMP%_scroll-bounce 2s ease-in-out infinite}.scroll-indicator[_ngcontent-%COMP%]   .scroll-text[_ngcontent-%COMP%]{font-size:.6rem;color:#fff;text-transform:uppercase;letter-spacing:.1em}@keyframes _ngcontent-%COMP%_scroll-pulse{0%,to{opacity:.8}50%{opacity:.4}}@keyframes _ngcontent-%COMP%_scroll-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(10px)}}.text-element[_ngcontent-%COMP%]{position:absolute;font-family:var(--font-primary);color:#fff;text-transform:uppercase;z-index:10;opacity:0;transition:opacity .3s ease-out,transform .3s ease-out}.audio-enable[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;background:#0a0a0a;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:2000;font-family:var(--font-primary);font-size:12px;color:#fff;text-transform:uppercase;gap:2rem;text-align:center;padding:1rem}.enable-button[_ngcontent-%COMP%]{border:1px solid #ffffff;background:transparent;color:#fff;padding:1rem 2rem;font-family:var(--font-primary);font-size:12px;text-transform:uppercase;cursor:pointer;letter-spacing:.1em;transition:all .3s ease}.enable-button[_ngcontent-%COMP%]:hover{background:#fff;color:#0a0a0a}.preloader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0a0a0a;display:none;align-items:center;justify-content:center;z-index:2000;font-family:var(--font-primary);font-size:12px;color:#fff;letter-spacing:.1em;text-transform:uppercase;opacity:1;transition:opacity .8s ease-out}.preloader.fade-out[_ngcontent-%COMP%]{opacity:0}.description[_ngcontent-%COMP%]{top:120px;left:50px;width:360px;font-size:.75rem;line-height:1.2}.nav-links[_ngcontent-%COMP%]{top:40%;left:50px}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;margin-bottom:8px;color:#fff;text-decoration:none;z-index:1;transition:color .3s ease;padding:4px 8px}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:0;height:100%;background-color:#fff;z-index:-1;transition:width .3s cubic-bezier(.34,1.56,.64,1)}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1a1a1a}.footer[_ngcontent-%COMP%]{bottom:120px;right:50px;font-size:.625rem}.division[_ngcontent-%COMP%]{bottom:120px;left:50px;font-size:.625rem}.signal[_ngcontent-%COMP%]{text-align:center;top:50%;right:-110px;font-size:.625rem;transform:translateY(-50%)}.central-text[_ngcontent-%COMP%]{position:absolute;bottom:30%;text-align:center;font-size:1.25rem;line-height:1.1;white-space:nowrap;width:max-content}.scrollable-content[_ngcontent-%COMP%]{position:relative;z-index:10;margin-top:100vh;padding:2rem;background:#000c;color:#fff;font-family:var(--font-primary)}.scrollable-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;text-transform:uppercase}.scrollable-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.5;margin-bottom:1rem}.scrollable-content[_ngcontent-%COMP%]   .dg.ac[_ngcontent-%COMP%]{z-index:3000!important;position:fixed!important;top:10px!important;right:10px!important}@media (max-width: 768px){.scrollable-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .scrollable-content[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%], .scrollable-content[_ngcontent-%COMP%]   .division[_ngcontent-%COMP%], .scrollable-content[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]{left:20px}.scrollable-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%], .scrollable-content[_ngcontent-%COMP%]   .signal[_ngcontent-%COMP%]{right:20px}.scrollable-content[_ngcontent-%COMP%]   .central-text[_ngcontent-%COMP%]{font-size:1rem;white-space:normal;max-width:90%}.scrollable-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:calc(100vw - 40px);max-width:300px}.scrollable-content[_ngcontent-%COMP%]   .dg.ac[_ngcontent-%COMP%]{transform:scale(.8);transform-origin:top right}}@media (max-width: 480px){.scrollable-content[_ngcontent-%COMP%]   .central-text[_ngcontent-%COMP%]{font-size:.9rem}.scrollable-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.7rem}.scrollable-content[_ngcontent-%COMP%]   .dg.ac[_ngcontent-%COMP%]{transform:scale(.7)}}@media (hover: none) and (pointer: coarse){.scrollable-content[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:0}.scrollable-content[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active:after{width:100%}.scrollable-content[_ngcontent-%COMP%]   .enable-button[_ngcontent-%COMP%]:hover{background:transparent;color:#fff}.scrollable-content[_ngcontent-%COMP%]   .enable-button[_ngcontent-%COMP%]:active{background:#fff;color:#0a0a0a}}.content[_ngcontent-%COMP%]{position:absolute;bottom:30%;left:50%;transform:translate(-50%) translateY(0);text-align:center;font-size:1.25rem;line-height:1.1;white-space:nowrap;width:max-content}[_nghost-%COMP%]{--gap: 8px;--easing: linear( 0 0%, .1538 4.09%, .2926 8.29%, .4173 12.63%, .5282 17.12%, .6255 21.77%, .7099 26.61%, .782 31.67%, .8425 37%, .8887 42.23%, .9257 47.79%, .9543 53.78%, .9752 60.32%, .9883 67.11%, .9961 75%, 1 100% );--speed: .6s;--font-size-min: 16;--font-size-max: 20;--font-ratio-min: 1.2;--font-ratio-max: 1.33;--font-width-min: 375;--font-width-max: 1500;display:block;min-height:100vh;background:light-dark(#000,#fff);color:light-dark(#fff,#000);font-family:SF Pro Text,SF Pro Icons,AOS Icons,Helvetica Neue,Helvetica,Arial,sans-serif,system-ui}.theme-selector[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:1000;display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:light-dark(rgba(0,0,0,.9),rgba(255,255,255,.9));border:1px solid color-mix(in hsl,currentColor,transparent 70%);border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.theme-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem .5rem;border:1px solid color-mix(in hsl,currentColor,transparent 70%);border-radius:4px;background:transparent;color:inherit;font-size:.875rem}.theme-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:2px solid color-mix(in hsl,currentColor,transparent 50%);outline-offset:2px}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:1rem;padding-block:2rem;position:relative}.container[_ngcontent-%COMP%]:before{--size: 45px;--line: color-mix(in hsl, currentColor, transparent 70%);content:"";height:100vh;width:100vw;position:fixed;background:linear-gradient(90deg,var(--line) 1px,transparent 1px var(--size)) 50% 50%/var(--size) var(--size),linear-gradient(var(--line) 1px,transparent 1px var(--size)) 50% 50%/var(--size) var(--size);mask:linear-gradient(-20deg,transparent 50%,black);top:0;transform-style:flat;pointer-events:none;z-index:-1}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}h1.fluid[_ngcontent-%COMP%]{--font-size-min: 22;--font-level: 4.25;--fluid-min: calc( var(--font-size-min) * pow(var(--font-ratio-min), var(--font-level, 0)) );--fluid-max: calc( var(--font-size-max) * pow(var(--font-ratio-max), var(--font-level, 0)) );--fluid-preferred: calc( (var(--fluid-max) - var(--fluid-min)) / (var(--font-width-max) - var(--font-width-min)) );--fluid-type: clamp( (var(--fluid-min) / 16) * 1rem, ((var(--fluid-min) / 16) * 1rem) - (((var(--fluid-preferred) * var(--font-width-min)) / 16) * 1rem) + (var(--fluid-preferred) * var(--variable-unit, 100vi)), (var(--fluid-max) / 16) * 1rem );font-size:var(--fluid-type)}h3[_ngcontent-%COMP%]{white-space:nowrap;margin:0}.container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{width:80ch;max-width:calc(100% - 4rem);text-wrap:wrap;font-family:monospace;line-height:1.5;opacity:.8;font-weight:400}@media (max-width: 768px){.container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}}.courses-list[_ngcontent-%COMP%]{display:grid;container-type:inline-size;grid-template-columns:10fr 1fr 1fr 1fr 1fr 1fr 1fr;gap:var(--gap);list-style-type:none;justify-content:center;padding:0;height:clamp(400px,40dvh,474px);margin:0;width:1020px;max-width:calc(100% - 4rem);transition:grid-template-columns var(--speed) var(--easing)}.courses-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:light-dark(#000,#fff);position:relative;overflow:hidden;border-radius:8px;border:1px solid color-mix(in hsl,currentColor,transparent 50%);cursor:pointer}.courses-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{outline:2px solid color-mix(in hsl,currentColor,transparent 30%);outline-offset:2px}.courses-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   :is(svg[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]){opacity:.6;transition:opacity calc(var(--speed) * 1.2) var(--easing)}.courses-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   :is(a[_ngcontent-%COMP%], p[_ngcontent-%COMP%]){opacity:0;transition:opacity calc(var(--speed) * 1.2) var(--easing);width:fit-content}.courses-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(2) brightness(.2);scale:1.8;transition-property:filter,scale;transition-duration:calc(var(--speed) * 1.2);transition-timing-function:var(--easing)}.courses-list[_ngcontent-%COMP%]   li[data-active=true][_ngcontent-%COMP%]   :is(a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]){opacity:var(--opacity, 1)}.courses-list[_ngcontent-%COMP%]   li[data-active=true][_ngcontent-%COMP%]   :is(a[_ngcontent-%COMP%], p[_ngcontent-%COMP%]){transition-delay:calc(var(--speed) * .25)}.courses-list[_ngcontent-%COMP%]   li[data-active=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(0) brightness(1);scale:1.2;transition-delay:calc(var(--speed) * .25)}article[_ngcontent-%COMP%]{width:calc(var(--article-width, 100%) - 2rem);max-width:100%;padding:1.5rem;height:100%;display:flex;flex-direction:column;justify-content:space-between;position:relative;z-index:2}article[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:absolute;top:1rem;left:calc(var(--base) * .5);transform-origin:0 50%;rotate:90deg;font-size:1rem;font-weight:300;text-transform:uppercase;font-family:monospace}article[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(1.5rem,4cqi,2rem);height:clamp(1.5rem,4cqi,2rem);margin-bottom:auto;flex-shrink:0}article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(.875rem,2cqi,1rem);line-height:1.4;margin:1rem 0;opacity:.8;max-width:100%}article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:light-dark(#fff,#000);color:light-dark(#000,#fff);text-decoration:none;border-radius:6px;font-size:.875rem;font-weight:500;transition:all .2s ease;align-self:flex-start}article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px color-mix(in hsl,currentColor,transparent 80%)}article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{transform:translateY(0)}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;border-radius:inherit}.bear-link[_ngcontent-%COMP%]{position:fixed;bottom:1rem;left:1rem;width:48px;height:48px;color:light-dark(#fff,#000);opacity:.6;transition:opacity .2s ease,transform .2s ease;z-index:1000}.bear-link[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.05)}.bear-link[_ngcontent-%COMP%]:active{transform:scale(.95)}.bear-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}@media (max-width: 920px){.courses-list[_ngcontent-%COMP%]{width:100%;grid-template-columns:repeat(auto-fit,minmax(var(--base),1fr));height:auto}.courses-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:200px}.courses-list[_ngcontent-%COMP%]   li[data-active=true][_ngcontent-%COMP%]{grid-column:1/-1;min-height:300px}article[_ngcontent-%COMP%]{width:calc(100% - 2rem)}article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:none}}@media (max-width: 640px){.container[_ngcontent-%COMP%]{padding-inline:1rem}.theme-selector[_ngcontent-%COMP%]{position:static;margin-bottom:1rem;align-self:flex-end}.bear-link[_ngcontent-%COMP%]{position:static;margin-top:2rem;align-self:center}.courses-list[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.courses-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:150px}.courses-list[_ngcontent-%COMP%]   li[data-active=true][_ngcontent-%COMP%]{min-height:250px}}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]::view-transition-old(root), [_ngcontent-%COMP%]::view-transition-new(root){animation-duration:.3s}}.text-element__p[_ngcontent-%COMP%]{font-size:13px;text-wrap:wrap;line-height:1.25;--opacity: .95}.logo_platforma[_ngcontent-%COMP%]{width:100%;height:50px;margin-top:10px;object-fit:contain}.banner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;padding:15px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);color:#fff;text-align:center;font-family:Arial,sans-serif;font-size:16px;z-index:10;border-bottom:1px solid rgba(255,255,255,.2)}.banner[_ngcontent-%COMP%]{position:absolute;background:#000000b3;color:#fff;padding:10px}.image-item[_ngcontent-%COMP%]{opacity:.6}@font-face{font-family:Princess;src:url(/assets/PrincesSANDTHEFROG.woff) format("woff");font-weight:400;font-style:normal}.container_1[_ngcontent-%COMP%]{left:0;position:absolute;right:0;margin:auto;top:0;width:100%;height:100%}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]{background:transparent;position:absolute;height:100vh;width:100%}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{mix-blend-mode:multiply;will-change:transform;top:calc(50% + 40px);position:absolute;left:0;width:1440px;transform:translateY(-50%);right:0;margin:auto}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]{position:absolute;top:50%;text-align:center;left:-69px;right:0;mix-blend-mode:screen;margin:auto;width:280px;transform:translateY(-50%)}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]{mix-blend-mode:lighten;position:relative}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .close-button_1[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;background:#3d1518cc;color:#fff;border:none;width:30px;height:30px;border-radius:50%;font-size:18px;cursor:pointer;opacity:0;transition:all .8s .1s;z-index:10}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .close-button_1[_ngcontent-%COMP%]:hover{background:#3d1518}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-weight:400;font-size:15px;opacity:0;transition:all .8s .2s}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;opacity:.6;line-height:18px;font-size:9px;margin:16px 0;opacity:0;transition:all .8s .4s}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0;transition:all .8s .3s}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:12px;border-bottom:1px solid white;opacity:0;transition:all .8s .5s}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]{max-width:300px;margin:20px 0;opacity:0;transition:all .8s .6s}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;justify-content:space-between}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#fff;font-size:10px;margin-bottom:5px;cursor:pointer}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid rgba(255,255,255,.3);background:#ffffff1a;color:#fff;font-size:10px;border-radius:3px}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ffffff80}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:60px;resize:vertical;max-width:400px;max-height:200px}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   .consent[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;font-size:9px;margin-bottom:15px;cursor:pointer}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   .consent[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin-right:8px;margin-bottom:0}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#3d1518cc;color:#fff;border:none;padding:10px 20px;font-size:11px;border-radius:3px;cursor:pointer;transition:background .3s}.container_1[_ngcontent-%COMP%]   .wrap_1[_ngcontent-%COMP%]   .wrap_inner_1[_ngcontent-%COMP%]   .container_inner_1[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#3d1518}.container_1[_ngcontent-%COMP%]   #message[_ngcontent-%COMP%]{max-width:400px;max-height:200px}.container_1[_ngcontent-%COMP%]   img.a[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;left:0;z-index:0}.container_1[_ngcontent-%COMP%]   img.b[_ngcontent-%COMP%]{mix-blend-mode:exclusion;width:640px;top:calc(50% - 40px);transform:translateY(-50%);position:absolute;left:0;right:0;margin:auto}img.a[_ngcontent-%COMP%]{position:fixed;top:0;left:0;min-width:100%;min-height:100%}#bg[_ngcontent-%COMP%]{position:fixed;top:-50%;left:-50%;width:200%;height:200%}#bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto;min-width:50%;min-height:50%}[_nghost-%COMP%]{display:block}*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]     body{font-family:Nunito,sans-serif;color:#000000b3}.container_1[_ngcontent-%COMP%]{height:200vh}.modal[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:0px;background:#000000b3;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:.4s;z-index:1000}.personal-checkbox[_ngcontent-%COMP%]{color:#000;display:flex;gap:5px;margin-bottom:10px}.modal-container[_ngcontent-%COMP%]{display:flex;max-width:850px;width:100%;border-radius:10px;overflow:hidden;position:absolute;opacity:0;pointer-events:none;transition-duration:.3s;background:#fff;transform:translateY(100px) scale(.4)}.modal-title[_ngcontent-%COMP%]{font-size:26px;margin-bottom:4px;font-weight:600;color:#3d1518}.modal-desc[_ngcontent-%COMP%]{display:grid;gap:5px;margin:10px 0}.form__input-block-items[_ngcontent-%COMP%]{display:flex;gap:5px;justify-content:space-between}.modal-left[_ngcontent-%COMP%]{padding:20px;background:#fff;flex:1.5;transition-duration:.5s;transform:translateY(80px);opacity:0}.modal-button[_ngcontent-%COMP%]{color:#7a6559;font-family:Nunito,sans-serif;font-size:18px;cursor:pointer;border:0;outline:0;padding:10px 40px;border-radius:30px;background:#fff;box-shadow:0 10px 40px #00000029;transition:.3s}.modal-button[_ngcontent-%COMP%]:hover{border-color:#fff3;background:#fffc}.modal-right[_ngcontent-%COMP%]{flex:2;font-size:0;transition:.3s;overflow:hidden}.modal-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;transform:scale(2);object-fit:cover;transition-duration:1.2s}.modal.is-open[_ngcontent-%COMP%]{height:100%;background:#000000b3}.modal.is-open[_ngcontent-%COMP%]   .modal-button[_ngcontent-%COMP%]{opacity:0}.modal.is-open[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{opacity:1;transition-duration:.6s;pointer-events:auto;transform:translateY(0) scale(1)}.modal.is-open[_ngcontent-%COMP%]   .modal-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1)}.modal.is-open[_ngcontent-%COMP%]   .modal-left[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;transition-delay:.1s}.modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.link-button[_ngcontent-%COMP%]{color:#000000b3;font-size:14px;background:none;border:none;cursor:pointer;text-decoration:underline;font-family:Nunito,sans-serif}.link-button[_ngcontent-%COMP%]:hover{color:#333c}.sign-up[_ngcontent-%COMP%]{margin:60px 0 0;font-size:14px;text-align:center}.sign-up[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{color:#3d1518;text-decoration:underline}.input-button[_ngcontent-%COMP%]{width:100%;padding:8px 12px;outline:none;border:0;color:#fff;border-radius:4px;background:#3d1518;font-family:Nunito,sans-serif;transition:.3s;cursor:pointer}.input-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#55311c}.input-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.input-label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;font-family:Nunito,sans-serif;font-weight:600;letter-spacing:.7px;color:#3d1518;transition:.3s}.input-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px 10px 8px;border:1px solid #ddd;border-radius:4px;margin-bottom:10px;transition:.3s;position:relative}.input-block-items[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:5px}.input-block-1[_ngcontent-%COMP%]{width:100%;display:flex;gap:5px;color:#000;padding:10px 10px 8px;border:1px solid #ddd;border-radius:4px;transition:.3s;position:relative}.input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:0;border:0;padding:4px 0 0;font-size:14px;font-family:Nunito,sans-serif}.input-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ccc;opacity:1}.input-block[_ngcontent-%COMP%]:focus-within{border-color:#3d1518}.input-block[_ngcontent-%COMP%]:focus-within   .input-label[_ngcontent-%COMP%]{color:#8c7569cc}.input-block.error[_ngcontent-%COMP%], .input-block-1.error[_ngcontent-%COMP%]{border-color:#e74c3c}.input-block-1.error[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%], .input-block.error[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{color:#e74c3c}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;font-family:Nunito,sans-serif}.textarea[_ngcontent-%COMP%]{border:none}.icon-button[_ngcontent-%COMP%]{outline:0;position:absolute;right:10px;top:12px;width:32px;height:32px;border:0;background:0;padding:0;cursor:pointer}.icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;fill:#666;transition:.3s}.icon-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#333}.scroll-down[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;display:flex;flex-direction:column;align-items:center;text-align:center;color:#7a6559;font-size:32px;font-weight:800;transform:translate(-50%,-50%);z-index:100}.scroll-down[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-top:16px;width:52px;fill:currentColor}@media (max-width: 750px){.modal-container[_ngcontent-%COMP%]{width:90%}.modal-right[_ngcontent-%COMP%]{display:none}.modal-left[_ngcontent-%COMP%]{flex:1}}.feedback-button[_ngcontent-%COMP%]{cursor:pointer}'],changeDetection:0})};export{Jo as Advertisers};
