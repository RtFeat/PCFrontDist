import{Ia as h,e as s,f as o,h as a,u as l,x as u}from"./chunk-VURGYMKM.js";var g=class n{constructor(i){this.router=i}nextRoute=null;smokeVisible$=new a(!1);smokeShow$=new a(!1);isTransitioning=!1;finalTarget=null;goWithSmoke(i,t,e="/loading"){return s(this,null,function*(){this.isTransitioning||(this.isTransitioning=!0,this.nextRoute=i,this.finalTarget=t||null,this.smokeVisible$.next(!0),yield this.delay(50),this.smokeShow$.next(!0),yield this.delay(1200),yield this.router.navigate([e]),this.smokeShow$.next(!1),yield this.delay(1e3),this.smokeVisible$.next(!1),this.isTransitioning=!1)})}completeTransitionWithSmoke(i){return s(this,null,function*(){this.isTransitioning||(this.isTransitioning=!0,this.smokeVisible$.next(!0),yield this.delay(50),this.smokeShow$.next(!0),yield this.delay(1200),yield this.router.navigate([i]),this.smokeShow$.next(!1),yield this.delay(1e3),this.smokeVisible$.next(!1),this.isTransitioning=!1)})}quickTransition(i){return s(this,null,function*(){this.isTransitioning||(this.isTransitioning=!0,yield this.router.navigate([i]),this.isTransitioning=!1)})}getNextRoute(){return this.nextRoute}clearNextRoute(){this.nextRoute=null}getFinalTarget(){return this.finalTarget}clearFinalTarget(){this.finalTarget=null}isCurrentlyTransitioning(){return this.isTransitioning}getSmokeState(){return new o(i=>{let t=!1,e=!1,b=this.smokeVisible$.subscribe(r=>{t=r,i.next({visible:t,show:e})}),m=this.smokeShow$.subscribe(r=>{e=r,i.next({visible:t,show:e})});return()=>{b.unsubscribe(),m.unsubscribe()}})}delay(i){return new Promise(t=>setTimeout(t,i))}static \u0275fac=function(t){return new(t||n)(u(h))};static \u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})};export{g as a};
